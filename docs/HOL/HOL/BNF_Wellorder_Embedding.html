<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory BNF_Wellorder_Embedding</title>
</head>


<body>
<div class="head">
<h1>Theory BNF_Wellorder_Embedding</h1>
</div>

<pre class="source"><span class="comment1"><span>(*  Title:      HOL/BNF_Wellorder_Embedding.thy
    Author:     Andrei Popescu, TU Muenchen
    Copyright   2012

Well-order embeddings as needed by bounded natural functors.
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Well-Order Embeddings as Needed by Bounded Natural Functors›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="BNF_Wellorder_Embedding.html"><span>BNF_Wellorder_Embedding</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Hilbert_Choice.html"><span>Hilbert_Choice</span></a><span> </span><a href="BNF_Wellorder_Relation.html"><span>BNF_Wellorder_Relation</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹In this section, we introduce well-order {\em embeddings} and {\em isomorphisms} and
prove their basic properties.  The notion of embedding is considered from the point
of view of the theory of ordinals, and therefore requires the source to be injected
as an {\em initial segment} (i.e., {\em order filter}) of the target.  A main result
of this section is the existence of embeddings (in one direction or another) between
any two well-orders, having as a consequence the fact that, given any two sets on
any two types, one is smaller than (i.e., can be injected into) the other.›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Auxiliaries›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.UNION_inj_on_ofilter|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.UNION_inj_on_ofilter|thm"><span>UNION_inj_on_ofilter</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_989..993">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_1018..1020">OF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_1068..1071">INJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>I</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_989..993"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>I</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>I</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>&lt;=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>&lt;=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>i</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_linord|fact"><span>wo_rel.ofilter_linord</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1018..1020"><span>OF</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_989..993"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1068..1071"><span>INJ</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Complete_Lattices.html#Complete_Lattices.inj_on_UNION_chain|fact"><span>inj_on_UNION_chain</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.under_underS_bij_betw|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.under_underS_bij_betw|thm"><span>under_underS_bij_betw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1422..1426">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1447..1452">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_1478..1480">IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1500..1503">IN'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_1530..1533">BIJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1422..1426"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1447..1452"><span>WELL'</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.order_on_defs|fact"><span>order_on_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1478..1480"><span>IN</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1500..1503"><span>IN'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl_under_underS|fact"><span>Refl_under_underS</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_1530..1533"><span>BIJ</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.notIn_Un_bij_betw|fact"><span>notIn_Un_bij_betw</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹(Well-order) embeddings, strict embeddings, isomorphisms and order-compatible
functions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹Standardly, a function is an embedding of a well-order in another if it injectively and
order-compatibly maps the former into an order filter of the latter.
Here we opt for a more succinct definition (operator </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>embed›</span></span></span><span>),
asking that, for any element in the source, the function should be a bijection
between the set of strict lower bounds of that element
and the set of strict lower bounds of its image.  (Later we prove equivalence with
the standard definition -- lemma </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>embed_iff_compat_inj_on_ofilter›</span></span></span><span>.)
A {\em strict embedding} (operator </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>embedS›</span></span></span><span>)  is a non-bijective embedding
and an isomorphism (operator </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>iso›</span></span></span><span>) is a bijective embedding.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_def|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_def|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="BNF_Wellorder_Embedding.embed|const"><span>embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>embed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_defs|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_defs(1)|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_defs(2)|thm"><span>embed_defs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Strict embeddings:›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_def|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_def|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>embedS</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_defs|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_defs(1)|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_defs(2)|thm"><span>embedS_defs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_def|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_def|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="BNF_Wellorder_Embedding.iso|const"><span>iso</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>iso</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_defs|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_defs(1)|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_defs(2)|thm"><span>iso_defs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="BNF_Wellorder_Embedding.compat_def|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.compat_def|thm"><span class="entity_def" id="BNF_Wellorder_Embedding.compat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="BNF_Wellorder_Embedding.compat|const"><span>compat</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r'</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.compat_wf|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.compat_wf|thm"><span>compat_wf</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3570..3573">CMP</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3595..3597">WF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.inv_image|const"><span>inv_image</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.inv_image_def|fact"><span>inv_image_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_3570..3573"><span>CMP</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_3595..3597"><span>WF</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf_inv_image|fact"><span>wf_inv_image</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf_subset|fact"><span>wf_subset</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.inv_image|const"><span>inv_image</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.id_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.id_embed|thm"><span>id_embed</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.id_iso|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.id_iso|thm"><span>id_iso</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_compat|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_compat|thm"><span>embed_compat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4029..4032">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4129..4130">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_4152..4153">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4129..4130"><span>*</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4029..4032"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="Set.html#Set.image_def|fact"><span>image_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4152..4153"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_in_Field|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_in_Field|thm"><span>embed_in_Field</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4519..4522">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4543..4545">IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4543..4545"><span>IN</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_compat|fact"><span>embed_compat</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4519..4522"><span>EMB</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.comp_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.comp_embed|thm"><span>comp_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4801..4804">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4825..4829">EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4925..4926">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4801..4804"><span>EMB</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4801..4804"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4925..4926"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_in_Field|fact"><span>embed_in_Field</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_4825..4829"><span>EMB'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_trans|fact"><span>bij_betw_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5346..5351">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.comp_iso|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.comp_iso|thm"><span>comp_iso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5346..5351"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_trans|fact"><span>bij_betw_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹That </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>embedS›</span></span></span><span> is also preserved by function composition shall be proved only later.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_Field|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_Field|thm"><span>embed_Field</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_in_Field|fact"><span>embed_in_Field</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_preserves_ofilter|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_preserves_ofilter|thm"><span>embed_preserves_ofilter</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5755..5759">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5780..5785">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_5811..5814">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5835..5837">OF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5755..5759"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5944..5948">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5780..5785"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6002..6007">Well'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5835..5837"><span>OF</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6059..6060">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5944..5948"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6002..6007"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5755..5759"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5811..5814"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6059..6060"><span>0</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set.html#Set.image_def|fact"><span>image_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b'</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6289..6290">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6304..6306">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6059..6060"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6289..6290"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5811..5814"><span>EMB</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6304..6306"><span>**</span></a><span> </span><a class="entity_ref" href="Set.html#Set.image_def|fact"><span>image_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="entity_def" id="offset_6608..6609">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5944..5948"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6289..6290"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_5835..5837"><span>OF</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6608..6609"><span>1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_Field_ofilter|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_Field_ofilter|thm"><span>embed_Field_ofilter</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6818..6822">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6843..6848">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_6874..6877">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6818..6822"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.Field_ofilter|fact"><span>wo_rel.Field_ofilter</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6818..6822"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6843..6848"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_6874..6877"><span>EMB</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_preserves_ofilter|fact"><span>embed_preserves_ofilter</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_inj_on|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_inj_on|thm"><span>embed_inj_on</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7162..7166">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7187..7190">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7162..7166"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7313..7317">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TOTAL|fact"><span>wo_rel.TOTAL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7386..7391">Total</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Total|const"><span>Total</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7313..7317"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7448..7452">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_7560..7563">***</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_7585..7586">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7448..7452"><span>Refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7187..7190"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7585..7586"><span>1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7560..7563"><span>***</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7448..7452"><span>Refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7187..7190"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7585..7586"><span>1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7560..7563"><span>***</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7386..7391"><span>Total</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_7585..7586"><span>1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8195..8200">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_underS|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_underS|thm"><span>embed_underS</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8225..8229">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8278..8280">IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8195..8200"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8434..8435">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8278..8280"><span>IN</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl_under_underS|fact"><span>Refl_under_underS</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8225..8229"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.intro|fact"><span>wo_rel.intro</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8554..8555">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8195..8200"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betwE|fact"><span>bij_betwE</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8434..8435"><span>0</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_8554..8555"><span>1</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_subset_under|fact"><span>underS_subset_under</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.notIn_Un_bij_betw3|fact"><span>notIn_Un_bij_betw3</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9093..9098">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_iff_compat_inj_on_ofilter|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_iff_compat_inj_on_ofilter|thm"><span>embed_iff_compat_inj_on_ofilter</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9142..9146">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9167..9172">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9093..9098"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_compat|fact"><span>embed_compat</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_inj_on|fact"><span>embed_inj_on</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field_ofilter|fact"><span>embed_Field_ofilter</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
    </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(* get rid of one implication *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_9446..9447">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_9478..9480">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_9506..9509">***</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_9553..9557">****</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9608..9612">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9142..9146"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_9673..9677">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9731..9736">Total</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Total|const"><span>Total</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9608..9612"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TOTAL|fact"><span>wo_rel.TOTAL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9797..9802">Well'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9167..9172"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_9866..9874">Antisym'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.antisym|const"><span>antisym</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ANTISYM|fact"><span>wo_rel.ANTISYM</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9553..9557"><span>****</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9608..9612"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9478..9480"><span>**</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9553..9557"><span>****</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_10207..10208">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9797..9802"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9506..9509"><span>***</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.subset_inj_on|fact"><span>subset_inj_on</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9446..9447"><span>*</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_Field|fact"><span>under_Field</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9478..9480"><span>**</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_10665..10670">*****</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10207..10208"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="entity_def" id="offset_10791..10792">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10812..10813">4</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9478..9480"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10812..10813"><span>4</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10665..10670"><span>*****</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9866..9874"><span>Antisym'</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym_def|fact"><span>antisym_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10791..10792"><span>3</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9553..9557"><span>****</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10812..10813"><span>4</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9446..9447"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9673..9677"><span>Refl</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9553..9557"><span>****</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10791..10792"><span>3</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9731..9736"><span>Total</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_9553..9557"><span>****</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10791..10792"><span>3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_10812..10813"><span>4</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_ofilter_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_ofilter_embed|thm"><span>inv_into_ofilter_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11508..11512">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11533..11535">OF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_11566..11569">BIJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_11629..11634">IMAGE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11731..11735">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11508..11512"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11795..11799">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11731..11735"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11858..11863">Total</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Total|const"><span>Total</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11731..11735"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TOTAL|fact"><span>wo_rel.TOTAL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11947..11948">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11629..11634"><span>IMAGE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b1</span></span><span> </span><span class="skolem"><span>b2</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_12063..12064">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12079..12081">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b2</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="entity_def" id="offset_12102..12105">***</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12130..12132">11</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12063..12064"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12079..12081"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11731..11735"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11533..11535"><span>OF</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b1</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b2</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b2</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12130..12132"><span>11</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11795..11799"><span>Refl</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11566..11569"><span>BIJ</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12063..12064"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12079..12081"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12102..12105"><span>***</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b2</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b1</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12130..12132"><span>11</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11795..11799"><span>Refl</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11566..11569"><span>BIJ</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12063..12064"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12079..12081"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12102..12105"><span>***</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b1</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b2</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11858..11863"><span>Total</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?f'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12903..12904">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_12992..12993">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11731..11735"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11533..11535"><span>OF</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12992..12993"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11566..11569"><span>BIJ</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11947..11948"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into_subset|fact"><span>bij_betw_inv_into_subset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="bound"><span>b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f'</span></span><span> </span><span class="bound"><span>b'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_13448..13449">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f'</span></span><span> </span><span class="skolem"><span>b'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_13448..13449"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11947..11948"><span>1</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into_right|fact"><span>bij_betw_inv_into_right</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_13587..13589">31</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11629..11634"><span>IMAGE</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_13448..13449"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f'</span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_11947..11948"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into_left|fact"><span>bij_betw_inv_into_left</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_13587..13589"><span>31</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f'</span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="skolem"><span>b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f'</span></span><span> </span><span class="skolem"><span>b'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_12903..12904"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13913..13918">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_underS_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_underS_embed|thm"><span>inv_into_underS_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>BIJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>IMAGE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_13913..13918"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.underS_ofilter|fact"><span>wo_rel.underS_ofilter</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.inv_into_ofilter_embed|fact"><span>inv_into_ofilter_embed</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14255..14260">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_Field_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_Field_embed|thm"><span>inv_into_Field_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14293..14297">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14318..14321">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>IMAGE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14318..14321"><span>EMB</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14318..14321"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14293..14297"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14255..14260"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.Field_ofilter|fact"><span>wo_rel.Field_ofilter</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.inv_into_ofilter_embed|fact"><span>inv_into_ofilter_embed</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_Field_embed_bij_betw|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.inv_into_Field_embed_bij_betw|thm"><span>inv_into_Field_embed_bij_betw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14806..14809">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14830..14833">BIJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14830..14833"><span>BIJ</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>iso</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span>  </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14830..14833"><span>BIJ</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14806..14809"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15074..15075">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14806..14809"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15282..15284">ar</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14830..14833"><span>BIJ</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_imp_surj_on|fact"><span>bij_betw_imp_surj_on</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_15282..15284"><span>ar</span></a><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.f_inv_into_f|fact"><span>f_inv_into_f</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into_subset|fact"><span>bij_betw_inv_into_subset</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_14830..14833"><span>BIJ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_Field|fact"><span>under_Field</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_15282..15284"><span>ar</span></a><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into_into|fact"><span>inv_into_into</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_imp_surj_on|fact"><span>bij_betw_imp_surj_on</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_15074..15075"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Given any two well-orders, one can be embedded in the other›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹Here is an overview of the proof of of this fact, stated in theorem
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>wellorders_totally_ordered›</span></span></span><span>:

   Fix the well-orders </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r::'a rel›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r'::'a' rel›</span></span></span><span>.
   Attempt to define an embedding </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f::'a ⇒ 'a'›</span></span></span><span> from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r'›</span></span></span><span> in the
   natural way by well-order recursion ("hoping" that </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r›</span></span></span><span> turns out to be smaller
   than </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r'›</span></span></span><span>), but also record, at the recursive step, in a function
   </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g::'a ⇒ bool›</span></span></span><span>, the extra information of whether </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r'›</span></span></span><span>
   gets exhausted or not.

   If </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r'›</span></span></span><span> does not get exhausted, then </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r›</span></span></span><span> is indeed smaller
   and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> is the desired embedding from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r'›</span></span></span><span>
   (lemma </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>wellorders_totally_ordered_aux›</span></span></span><span>).

   Otherwise, it means that </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Field r'›</span></span></span><span> is the smaller one, and the inverse of
   (the "good" segment of) </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> is the desired embedding from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r'›</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span>
   (lemma </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>wellorders_totally_ordered_aux2›</span></span></span><span>).
›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered_aux|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered_aux|thm"><span>wellorders_totally_ordered_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>r'</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_16946..16950">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16971..16976">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16998..17000">IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_17024..17026">IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_17095..17098">NOT</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17134..17137">SUC</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17268..17272">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16946..16950"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_17327..17331">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>Trans</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17268..17272"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TRANS|fact"><span>wo_rel.TRANS</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17443..17448">Well'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16971..16976"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>OF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17268..17272"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.underS_ofilter|fact"><span>wo_rel.underS_ofilter</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_17599..17601">UN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17268..17272"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_under_UNION|fact"><span>wo_rel.ofilter_under_UNION</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(* Gather facts about elements of underS r a *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_17787..17788">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>t0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17879..17881">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17787..17788"><span>*</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_Field|fact"><span>underS_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17949..17951">t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17024..17026"><span>IH</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17787..17788"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_18046..18048">t3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.under_ofilter|fact"><span>wo_rel.under_ofilter</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17949..17951"><span>t2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_Field|fact"><span>under_Field</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17879..17881"><span>t1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17327..17331"><span>Refl</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl_under_in|fact"><span>Refl_under_in</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18343..18345">t4</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
         </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
         </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17949..17951"><span>t2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18046..18048"><span>t3</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18343..18345"><span>t4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_18527..18532">bFact</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                       </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                       </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18714..18722">subField</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18527..18532"><span>bFact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18797..18800">OF'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17599..17601"><span>UN</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18527..18532"><span>bFact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18527..18532"><span>bFact</span></a><span>
        </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_UNION|fact"><span>wo_rel.ofilter_UNION</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.AboveS|const"><span>AboveS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18797..18800"><span>OF'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_AboveS_Field|fact"><span>wo_rel.ofilter_AboveS_Field</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_19434..19436">NE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.AboveS|const"><span>AboveS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18714..18722"><span>subField</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17095..17098"><span>NOT</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19534..19539">INCL1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> "</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_19608..19609">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18714..18722"><span>subField</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17134..17137"><span>SUC</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19434..19436"><span>NE</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19608..19609"><span>*</span></a><span>
        </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc_greater|fact"><span>wo_rel.suc_greater</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19861..19866">INCL2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17134..17137"><span>SUC</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19434..19436"><span>NE</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18797..18800"><span>OF'</span></a><span>
        </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc_ofilter_in|fact"><span>wo_rel.suc_ofilter_in</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>b'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20174..20177">INJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17024..17026"><span>IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17268..17272"><span>Well</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.under_ofilter|fact"><span>wo_rel.under_ofilter</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span>  </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16946..16950"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18527..18532"><span>bFact</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17599..17601"><span>UN</span></a><span>
        </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.UNION_inj_on_ofilter|fact"><span>UNION_inj_on_ofilter</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20583..20586">BIJ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_20174..20177"><span>INJ</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19534..19539"><span>INCL1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19861..19866"><span>INCL2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17443..17448"><span>Well'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_18714..18722"><span>subField</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_19434..19436"><span>NE</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_17134..17137"><span>SUC</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc_inField|fact"><span>wo_rel.suc_inField</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16946..16950"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16971..16976"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_16998..17000"><span>IN</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_20583..20586"><span>BIJ</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.under_underS_bij_betw|fact"><span>under_underS_bij_betw</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered_aux2|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered_aux2|thm"><span>wellorders_totally_ordered_aux2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>r'</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_21041..21045">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21066..21071">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_21097..21102">MAIN1</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>
          </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
         </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_21340..21345">MAIN2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>
              </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_21454..21458">Case</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f'</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>f'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21541..21545">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21041..21045"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_21600..21604">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>Trans</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TRANS|fact"><span>wo_rel.TRANS</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21716..21723">Antisym</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.antisym|const"><span>antisym</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ANTISYM|fact"><span>wo_rel.ANTISYM</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>Well'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21066..21071"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21858..21859">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21600..21604"><span>Refl</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21454..21458"><span>Case</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl_under_underS|fact"><span>Refl_under_underS</span></a><span class="main"><span>)</span></span><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21969..21970">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21858..21859"><span>0</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21454..21458"><span>Case</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21097..21102"><span>MAIN1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span class="bound"><span>a</span></span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.minim|const"><span>wo_rel.minim</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22247..22248">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="var"><span>?A</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21454..21458"><span>Case</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21969..21970"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22317..22318">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22437..22439">31</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_22473..22475">32</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="var"><span>?a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22437..22439"><span>31</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.minim_least|fact"><span>wo_rel.minim_least</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22247..22248"><span>2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
        </span><span class="comment1"><span>(* again: why worked without type annotations? *)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22473..22475"><span>32</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21716..21723"><span>Antisym</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym_def|fact"><span>antisym_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22830..22834">temp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22247..22248"><span>2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.minim_in|fact"><span>wo_rel.minim_in</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_22904..22905">4</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="comment1"><span>(*   *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22951..22952">5</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22830..22834"><span>temp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23009..23010">6</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21097..21102"><span>MAIN1</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22317..22318"><span>3</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22951..22952"><span>5</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23097..23098">7</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_23185..23187">as</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter|const"><span>wo_rel.ofilter</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.underS_ofilter|fact"><span>wo_rel.underS_ofilter</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22317..22318"><span>3</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21541..21545"><span>Well</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>asm</span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ofilter_def|fact"><span>wo_rel.ofilter_def</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23185..23187"><span>as</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21340..21345"><span>MAIN2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21041..21045"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_21066..21071"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23097..23098"><span>7</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_22904..22905"><span>4</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23009..23010"><span>6</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.inv_into_underS_embed|fact"><span>inv_into_underS_embed</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.wellorders_totally_ordered|thm"><span>wellorders_totally_ordered</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>r'</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a'</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_23888..23892">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23913..23918">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f'</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="comment1"><span>(* Preliminary facts *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24028..24032">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23888..23892"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_24087..24091">Refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl|const"><span>Refl</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24141..24146">Trans</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24028..24032"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TRANS|fact"><span>wo_rel.TRANS</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>Well'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23913..23918"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="comment1"><span>(* Main proof *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>H</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_24297..24302">H_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>H</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>h</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>
                </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>
                </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24514..24517">Adm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.adm_wo|const"><span>wo_rel.adm_wo</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>H</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24028..24032"><span>Well</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.adm_wo_def|fact"><span>wo_rel.adm_wo_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>h1</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>h2</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>h1</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>h2</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h1</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                          </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h1</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h1</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h2</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
           </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h1</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h2</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set.html#Set.image_def|fact"><span>image_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>H</span></span><span> </span><span class="skolem"><span>h1</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>H</span></span><span> </span><span class="skolem"><span>h2</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24297..24302"><span>H_def</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Complete_Lattices.html#Complete_Lattices.not_False_in_image_Ball|fact"><span>not_False_in_image_Ball</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(* More constant definitions:  *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_25177..25182">h_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.worec|const"><span>wo_rel.worec</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>H</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="entity_def" id="offset_25217..25222">f_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_25242..25247">g_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="skolem"><span>h</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>test</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_25292..25300">test_def</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>test</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_25404..25405">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>h</span></span><span> </span><span class="bound"><span>a</span></span><span>  </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>H</span></span><span> </span><span class="skolem"><span>h</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24514..24517"><span>Adm</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24028..24032"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.worec_fixpoint|fact"><span>wo_rel.worec_fixpoint</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>H</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25177..25182"><span>h_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_25504..25509">Main1</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>test</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
         </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>test</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>  </span><span class="comment1"><span>(* How can I prove this withou fixing a? *)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>test</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>test</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25404..25405"><span>*</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25292..25300"><span>test_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25217..25222"><span>f_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25242..25247"><span>g_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24297..24302"><span>H_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?phi</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>
                   </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_25992..25997">Main2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="var"><span>?phi</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?phi</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.well_order_induct|fact"><span>wo_rel.well_order_induct</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>r</span></span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?phi</span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
        </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24028..24032"><span>Well</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_26157..26159">IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="var"><span>?phi</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
        </span><span class="entity_def" id="offset_26206..26207">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
        </span><span class="entity_def" id="offset_26235..26237">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26274..26275">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_26378..26381">***</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_26414..26415">0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26378..26381"><span>***</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_Field|fact"><span>underS_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26414..26415"><span>0</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26235..26237"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24141..24146"><span>Trans</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_incr|fact"><span>under_incr</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26157..26159"><span>IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="comment1"><span>(*  *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26782..26784">21</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26235..26237"><span>**</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_subset_under|fact"><span>underS_subset_under</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>22</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26235..26237"><span>**</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>23</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_24087..24091"><span>Refl</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26206..26207"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Refl_under_in|fact"><span>Refl_under_in</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27038..27040">24</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27075..27076">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25504..25509"><span>Main1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25292..25300"><span>test_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_27038..27040"><span>24</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26235..26237"><span>**</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="comment1"><span>(*  *)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27300..27301">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26782..26784"><span>21</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_27075..27076"><span>2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25504..25509"><span>Main1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25292..25300"><span>test_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
          </span><span class="comment1"><span>(*  *)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23888..23892"><span>WELL</span></a><span>  </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23913..23918"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26274..26275"><span>1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_27075..27076"><span>2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_27300..27301"><span>3</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_26206..26207"><span>*</span></a><span>
          </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.wellorders_totally_ordered_aux|fact"><span>wellorders_totally_ordered_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?chi</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="var"><span>?chi</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="var"><span>?chi</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span>  </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under|const"><span>under</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25992..25997"><span>Main2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="var"><span>?chi</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?chi</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f'</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>f'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.wellorders_totally_ordered_aux2|fact"><span>wellorders_totally_ordered_aux2</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>g</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23888..23892"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_23913..23918"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25504..25509"><span>Main1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25992..25997"><span>Main2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_25292..25300"><span>test_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Uniqueness of embeddings›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>‹Here we show a fact complementary to the one from the previous subsection -- namely,
that between any two well-orders there is {\em at most} one embedding, and is the one
definable by the expected well-order recursive equation.  As a consequence, any two
embeddings of opposite directions are mutually inverse.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28451..28456">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_determined|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_determined|thm"><span>embed_determined</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_28485..28489">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_28510..28515">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_28541..28544">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_28565..28567">IN</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_28451..28456"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_underS|fact"><span>embed_underS</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_28565..28567"><span>IN</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_28541..28544"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_28485..28489"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc|const"><span>wo_rel.suc</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_28510..28515"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.suc_underS|fact"><span>wo_rel.suc_underS</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29074..29079">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_unique|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_unique|thm"><span>embed_unique</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_29104..29108">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMBf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMBg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.well_order_induct|fact"><span>wo_rel.well_order_induct</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>r</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29104..29108"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_29394..29395">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS_def|fact"><span>underS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Order_Relation.html#Order_Relation.underS|const"><span>underS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29074..29079"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29394..29395"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_determined|fact"><span>embed_determined</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_determined|fact"><span>embed_determined</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29664..29669">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_inverse|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_inverse|thm"><span>embed_bothWays_inverse</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.id_embed|fact"><span>id_embed</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_unique|fact"><span>embed_unique</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.id_embed|fact"><span>id_embed</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_29664..29669"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_unique|fact"><span>embed_unique</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30481..30486">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_bij_betw|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_bij_betw|thm"><span>embed_bothWays_bij_betw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_30522..30526">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_30547..30552">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30481..30486"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_30819..30820">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30522..30526"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.id_embed|fact"><span>id_embed</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_unique|fact"><span>embed_unique</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30547..30552"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.id_embed|fact"><span>id_embed</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_unique|fact"><span>embed_unique</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Fun.html#Fun.id|const"><span>id</span></a></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="Fun.html#Fun.id_def|fact"><span>id_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_31026..31027">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="var"><span>?A'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30481..30486"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>g</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="comment1"><span>(*  *)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31026..31027"><span>2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_31253..31254">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_31278..31280">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31253..31254"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30819..30820"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31278..31280"><span>**</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_30819..30820"><span>1</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31026..31027"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31517..31522">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_iso|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_iso|thm"><span>embed_bothWays_iso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31517..31522"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_bothWays_bij_betw|fact"><span>embed_bothWays_bij_betw</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹More properties of embeddings, strict embeddings and isomorphisms›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31834..31839">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_Field_bij_betw|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_bothWays_Field_bij_betw|thm"><span>embed_bothWays_Field_bij_betw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>a'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31834..31839"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_bothWays_inverse|fact"><span>embed_bothWays_inverse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_31834..31839"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_byWitness|fact"><span>bij_betw_byWitness</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>f'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_comp_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_comp_embed|thm"><span>embedS_comp_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_32412..32416">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32437..32442">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="entity_def" id="offset_32469..32472">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32494..32498">EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?h</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32620..32621">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32469..32472"><span>EMB</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_32729..32730">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="var"><span>?g</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span>  </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32494..32498"><span>EMB'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>r''</span></span></span><span> </span><span class="quoted"><span class="free"><span>f'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?h</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32729..32730"><span>2</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.inv_into_Field_embed_bij_betw|fact"><span>inv_into_Field_embed_bij_betw</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?h</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32494..32498"><span>EMB'</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32412..32416"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32437..32442"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32620..32621"><span>1</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_bothWays_Field_bij_betw|fact"><span>embed_bothWays_Field_bij_betw</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_32620..32621"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_comp_embedS|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_comp_embedS|thm"><span>embed_comp_embedS</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_33281..33285">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_33306..33311">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="entity_def" id="offset_33339..33342">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_33363..33367">EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?h</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_33490..33491">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33363..33367"><span>EMB'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_33606..33607">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="var"><span>?g</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33281..33285"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33339..33342"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>r''</span></span></span><span> </span><span class="quoted"><span class="free"><span>f'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33490..33491"><span>1</span></a><span>"</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_33774..33775">§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="var"><span>?h</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33606..33607"><span>2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33281..33285"><span>WELL</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.inv_into_Field_embed_bij_betw|fact"><span>inv_into_Field_embed_bij_betw</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33490..33491"><span>1</span></a><span>"</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>BNF_Wellorder_Embedding.comp_embed</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33306..33311"><span>WELL'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33339..33342"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33281..33285"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33306..33311"><span>WELL'</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33774..33775"><span>§</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_comp_iff|fact"><span>bij_betw_comp_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_bothWays_Field_bij_betw|fact"><span>embed_bothWays_Field_bij_betw</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_33490..33491"><span>1</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34268..34273">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embed_comp_iso|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embed_comp_iso|thm"><span>embed_comp_iso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34268..34273"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34441..34446">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_comp_embed|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_comp_embed|thm"><span>iso_comp_embed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34441..34446"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.comp_embed|fact"><span>comp_embed</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_comp_iso|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_comp_iso|thm"><span>embedS_comp_iso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_34647..34650">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34672..34676">EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_34741..34742">§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34647..34650"><span>EMB</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_comp_iso|fact"><span>embed_comp_iso</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34672..34676"><span>EMB'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34741..34742"><span>§</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34741..34742"><span>§</span></a><span>"</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_34672..34676"><span>EMB'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_comp_iff2|fact"><span>bij_betw_comp_iff2</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_35169..35174">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_comp_embedS|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_comp_embedS|thm"><span>iso_comp_embedS</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span>EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>EMB'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r''</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f'</span></span><span> </span><span class="main"><a class="entity_ref" href="Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35169..35174"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_comp_embedS|fact"><span>embed_comp_embedS</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_35409..35414">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_Field|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_Field|thm"><span>embedS_Field</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35464..35467">EMB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35409..35414"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_Field|fact"><span>embed_Field</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35409..35414"><span>assms</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_inj_on|fact"><span>embed_inj_on</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35464..35467"><span>EMB</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_iff|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.embedS_iff|thm"><span>embedS_iff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_35887..35891">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_35912..35915">ISO</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset|const"><span>⊂</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35887..35891"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_Field|fact"><span>embedS_Field</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset|const"><span>⊂</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS|const"><span>embedS</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embedS_def|fact"><span>embedS_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_35912..35915"><span>ISO</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_Field|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_Field|thm"><span>iso_Field</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36387..36392">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff|thm"><span>iso_iff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_36625..36626">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_36387..36392"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_inj_on|fact"><span>embed_inj_on</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_36625..36626"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_36625..36626"><span>*</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff2|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff2|thm"><span>iso_iff2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
                 </span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> 
                 </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?lhs</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?rhs</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_37078..37079">L</span><span class="main"><span>:</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?lhs</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_37136..37139">emb</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed|const"><span>embed</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_37219..37220">g</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_iff_bijections|fact"><span>bij_betw_iff_bijections</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_37311..37315">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37311..37315"><span>that</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37136..37139"><span>emb</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37219..37220"><span>g</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37219..37220"><span>g</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI1|fact"><span>FieldI1</span></a><span class="main"><span>]</span></span><span> </span><span class="comment1"><span>―‹yes it's weird›</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_iff_bijections|fact"><span>bij_betw_iff_bijections</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rhs</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37078..37079"><span>L</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_compat|fact"><span>embed_compat</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>R</span><span class="main"><span>:</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rhs</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?lhs</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_def|fact"><span>iso_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.embed_def|fact"><span>embed_def</span></a><span> </span><a class="entity_ref" href="Order_Relation.html#Order_Relation.under_def|fact"><span>under_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_iff_bijections|fact"><span>bij_betw_iff_bijections</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule_tac</span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="improper"><span>g</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI1|fact"><span>FieldI1</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_37817..37822">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff3|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_iff3|thm"><span>iso_iff3</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_37843..37847">WELL</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_37868..37873">WELL'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Well_order|const"><span>Well_order</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37843..37847"><span>WELL</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_38136..38140">Well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel|const"><span>wo_rel</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37843..37847"><span>WELL</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37868..37873"><span>WELL'</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel_def|fact"><span>wo_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_38226..38227">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat|const"><span>compat</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span>"</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_37817..37822"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_38390..38392">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="entity_def" id="offset_38432..38435">***</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38136..38140"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38390..38392"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38226..38227"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.compat_def|fact"><span>compat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38136..38140"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38432..38435"><span>***</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.ANTISYM|fact"><span>wo_rel.ANTISYM</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym_def|fact"><span>antisym_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38226..38227"><span>*</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38390..38392"><span>**</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38136..38140"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38390..38392"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.REFL|fact"><span>wo_rel.REFL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38136..38140"><span>Well</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_38390..38392"><span>**</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Relation.html#BNF_Wellorder_Relation.wo_rel.TOTAL|fact"><span>wo_rel.TOTAL</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39000..39005">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_imp_inj_on|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_imp_inj_on|thm"><span>iso_imp_inj_on</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39000..39005"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span> </span><a class="entity_ref" href="Fun.html#Fun.bij_betw_def|fact"><span>bij_betw_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39129..39134">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_backward_Field|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_backward_Field|thm"><span>iso_backward_Field</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39129..39134"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into_into|fact"><span>inv_into_into</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39295..39300">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_backward|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_backward|thm"><span>iso_backward</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_39342..39345">iso</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_39439..39440">§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>xa</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39295..39300"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39342..39345"><span>iso</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39295..39300"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39439..39440"><span>§</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39439..39440"><span>§</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39295..39300"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.bij_betw_inv_into_left|fact"><span>bij_betw_inv_into_left</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39731..39736">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_forward|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_forward|thm"><span>iso_forward</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39731..39736"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39859..39864">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_trans|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_trans|thm"><span>iso_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_39900..39903">iso</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.trans_def|fact"><span>trans_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_39992..39995">xyz</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_40037..40038">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_backward|fact"><span>iso_backward</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39900..39903"><span>iso</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40037..40038"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39859..39864"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.transD|fact"><span>transD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39900..39903"><span>iso</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_forward|fact"><span>iso_forward</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39992..39995"><span>xyz</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_39900..39903"><span>iso</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI1|fact"><span>FieldI1</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI2|fact"><span>FieldI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.f_inv_into_f|fact"><span>f_inv_into_f</span></a><span class="main"><span>)</span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40724..40729">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_Total|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_Total|thm"><span>iso_Total</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Total|const"><span>Total</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_40765..40768">iso</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Order_Relation.html#Order_Relation.Total|const"><span>Total</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_40858..40860">xy</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_40925..40926">§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_backward_Field|fact"><span>iso_backward_Field</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40765..40768"><span>iso</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40858..40860"><span>xy</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40765..40768"><span>iso</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI1|fact"><span>FieldI1</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.FieldI2|fact"><span>FieldI2</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_41173..41177">have</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into_injective|fact"><span>inv_into_injective</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_41173..41177"><span>that</span></a><span class="main"><span>]</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40724..40729"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40925..40926"><span>§</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on_def|fact"><span>total_on_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40724..40729"><span>assms</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40858..40860"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_Field|fact"><span>iso_Field</span></a><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.f_inv_into_f|fact"><span>f_inv_into_f</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_forward|fact"><span>iso_forward</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_40765..40768"><span>iso</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_41580..41585">lemma</span></span></span><span> </span><span class="entity_def" id="BNF_Wellorder_Embedding.iso_wf|fact"><span class="entity_def" id="BNF_Wellorder_Embedding.iso_wf|thm"><span>iso_wf</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_41615..41618">iso</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso|const"><span>iso</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="free"><span>r'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>iff</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_41580..41585"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_iff2|fact"><span>iso_iff2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wfI_min|fact"><span>wfI_min</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>::</span></span><span class="tfree"><span class="quoted"><span class="tfree"><span>'b</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>Q</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z0</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z0</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_42012..42013">z</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wfE_min|fact"><span>wfE_min</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="skolem"><span>Q</span></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.f_inv_into_f|fact"><span>f_inv_into_f</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_42012..42013"><span>z</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_42012..42013"><span>z</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#BNF_Wellorder_Embedding.iso_backward|fact"><span>iso_backward</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_41615..41618"><span>iso</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into|const"><span>inv_into</span></a><span> </span><span class="skolem"><span>Q</span></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Hilbert_Choice.html#Hilbert_Choice.inv_into_into|fact"><span>inv_into_into</span></a><span> </span><a class="entity_ref" href="BNF_Wellorder_Embedding.html#offset_42012..42013"><span>z</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>z</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>Q</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="skolem"><span>Q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>