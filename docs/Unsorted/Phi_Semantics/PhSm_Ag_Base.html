<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory PhSm_Ag_Base</title>
</head>


<body>
<div class="head">
<h1>Theory PhSm_Ag_Base</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="PhSm_Ag_Base.html"><span>PhSm_Ag_Base</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="PhiSem_Common_Int.html"><span>PhiSem_Common_Int</span></a><span> </span><a href="PhiSem_Symbol.html"><span>PhiSem_Symbol</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>keywords</span></span></span><span> </span><span class="quoted"><span>"â¦ƒ"</span></span><span> </span><span class="quoted"><span>"â¦„"</span></span><span> </span><span class="quoted"><span>"â€£"</span></span><span> </span><span class="main"><span>::</span></span><span> quasi_command
  </span><span class="keyword2"><span class="keyword"><span>abbrevs</span></span></span><span> </span><span class="quoted"><span>"|&gt;"</span></span><span>  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"â€£"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The base for aggregate values which have inner structures and whose members can be
  accessed using indexes.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Semanticsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>debt_axiomatization</span></span></span><span>
        </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index|type"><span>aggregate_index</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.idx_step_type|const"><span>idx_step_type</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index|type"><span>aggregate_index</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span>â€º</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.idx_step_value|const"><span>idx_step_value</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index|type"><span>aggregate_index</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span>â€º</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value|const"><span>idx_step_mod_value</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index|type"><span>aggregate_index</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span>â€º</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.type_measure|const"><span>type_measure</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.welltyp_subject_idx_step|fact"><span class="entity_def" id="PhSm_Ag_Base.welltyp_subject_idx_step|thm"><span>welltyp_subject_idx_step</span></span></span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_type</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>   </span><span class="entity_def" id="PhSm_Ag_Base.valid_idx_not_poison|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_idx_not_poison|thm"><span>valid_idx_not_poison</span></span></span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>ğ—‰ğ—ˆğ—‚ğ—Œğ—ˆğ—‡</span></a><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx_step_type</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>ğ—‰ğ—ˆğ—‚ğ—Œğ—ˆğ—‡</span></a><span>â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>   </span><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value|fact"><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value|thm"><span>idx_step_mod_value</span></span></span><span> </span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>j</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_mod_value</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
              </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>   </span><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value_unchanged|fact"><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value_unchanged|thm"><span>idx_step_mod_value_unchanged</span></span></span><span> </span><span class="main"><span>:</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>u</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx_step_mod_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span> â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>   </span><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value_welltyp|fact"><span class="entity_def" id="PhSm_Ag_Base.idx_step_mod_value_welltyp|thm"><span>idx_step_mod_value_welltyp</span></span></span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_type</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx_step_mod_value</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>   </span><span class="entity_def" id="PhSm_Ag_Base.idx_step_type_measure|fact"><span class="entity_def" id="PhSm_Ag_Base.idx_step_type_measure|thm"><span>idx_step_type_measure</span></span></span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_idx_step</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>type_measure</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx_step_type</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>type_measure</span></span><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We first formalize the behavior of indexing one-step inside one level of the inner structures,
  and upon them indexing of multiple steps is successively playing each step.

  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></a><span>â€º</span></span><span> asserts whether an index is valid on the type.
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_type|const"><span>idx_step_type</span></a><span>â€º</span></span><span> steps into the inner type of the given type.
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_value|const"><span>idx_step_value</span></a><span>â€º</span></span><span> gives the inner structure of a given value, and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_mod_value|const"><span>idx_step_mod_value</span></a><span>â€º</span></span><span>
    enables to modify the inner structure.
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.type_measure|const"><span>type_measure</span></a><span>â€º</span></span><span> is a scaffold giving a decreasing measurement when indexing inside,
    such as the size of the term. It helps induction over the indexing. 
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Semantics/library/ag_semantics.ML.html"><span>â€¹library/ag_semantics.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.index_value|const"><span>index_value</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_value|const"><span>idx_step_value</span></a><span>â€º</span></span></span><span> </span><span class="comment1"><span>(*TODO: rename â†’ get_element_of_value*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.index_type|const"><span>index_type</span></span></span><span>  </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold|const"><span>fold</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_type|const"><span>idx_step_type</span></a><span>â€º</span></span></span><span>  </span><span class="comment1"><span>(* get_element_of_type *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.index_mod_value|const"><span>index_mod_value</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.foldr|const"><span>foldr</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_mod_value|const"><span>idx_step_mod_value</span></a><span>â€º</span></span></span><span> </span><span class="comment1"><span>(* modify_value_element *)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.valid_index.simps|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_index_def|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_index.simps(2)|thm"><span class="entity_def" id="PhSm_Ag_Base.valid_index.simps(1)|thm"><span class="entity_def" id="PhSm_Ag_Base.valid_index_def|thm"><span class="entity_def" id="PhSm_Ag_Base.valid_index_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.valid_index|const"><span>valid_index</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_index</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>valid_index</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>valid_index</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_type|const"><span>idx_step_type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>chk_sem_ele_idx_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>0</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>is_valid_step_idx_of</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span>
                                                              </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>is_valid_index_of</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="quoted"><span>â€¹check whether the given element index â€¹idxâ€º is valid against semantic type â€¹Tâ€ºâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>chk_sem_ele_idx</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1010</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span>1030</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>chk_sem_ele_idx_all</span><span>
    </span><span class="quoted"><span>â€¹cutting rulesâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>chk_sem_ele_idx_fail</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>0</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>0</span><span class="main"><span>,</span></span><span>0</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>chk_sem_ele_idx_all</span><span>
    </span><span class="quoted"><span>â€¹failureâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>chk_sem_ele_idx</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.valid_index_tail|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_index_tail|thm"><span>valid_index_tail</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>idx</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>chk_sem_ele_idx_fail</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="keyword1"><span>TEXT(</span></span><span class="inner_cartouche"><span>â€¹Fail to show the validity of indexâ€º</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="inner_cartouche"><span>â€¹on typeâ€º</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL_def|fact"><span>FAIL_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.valid_index_cat|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_index_cat|thm"><span>valid_index_cat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.valid_index_cons|fact"><span class="entity_def" id="PhSm_Ag_Base.valid_index_cons|thm"><span>valid_index_cons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>i</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_value_welltyp|fact"><span class="entity_def" id="PhSm_Ag_Base.index_value_welltyp|thm"><span>index_value_welltyp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.welltyp_subject_idx_step|fact"><span>welltyp_subject_idx_step</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_type_measure|fact"><span class="entity_def" id="PhSm_Ag_Base.index_type_measure|thm"><span>index_type_measure</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.type_measure|const"><span>type_measure</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.type_measure|const"><span>type_measure</span></a><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.dual_order.strict_trans|fact"><span>dual_order.strict_trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold_simps|fact"><span>fold_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_type_measure|fact"><span>idx_step_type_measure</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_type_neq|fact"><span class="entity_def" id="PhSm_Ag_Base.index_type_neq|thm"><span>index_type_neq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="free"><span>T</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type_measure|fact"><span>index_type_measure</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_mod_value_welltyp|fact"><span class="entity_def" id="PhSm_Ag_Base.index_mod_value_welltyp|thm"><span>index_mod_value_welltyp</span></span></span><span class="main"><span>:</span></span><span>
   </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_mod_value|const"><span>index_mod_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_mod_value_welltyp|fact"><span>idx_step_mod_value_welltyp</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.welltyp_subject_idx_step|fact"><span>welltyp_subject_idx_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_type_idem|fact"><span class="entity_def" id="PhSm_Ag_Base.index_type_idem|thm"><span>index_type_idem</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type_measure|fact"><span>index_type_measure</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold_simps|fact"><span>fold_simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.discI|fact"><span>list.discI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_less_irrefl|fact"><span>order_less_irrefl</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index.simps|fact"><span>valid_index.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.index_mod_value_unchanged|fact"><span class="entity_def" id="PhSm_Ag_Base.index_mod_value_unchanged|thm"><span>index_mod_value_unchanged</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>T</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_mod_value|const"><span>index_mod_value</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>u</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>idx</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>T</span></span></span><span> </span><span class="quoted"><span class="free"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_mod_value_unchanged|fact"><span>idx_step_mod_value_unchanged</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.welltyp_subject_idx_step|fact"><span>welltyp_subject_idx_step</span></a><span class="main"><span>)</span></span><span>
  

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Semantics of aggregate pathâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.AgIdx_VN_def|fact"><span class="entity_def" id="PhSm_Ag_Base.AgIdx_VN_def|thm"><span class="entity_def" id="PhSm_Ag_Base.AgIdx_VN_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.AgIdx_VN|const"><span>AgIdx_VN</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.\&lt;phi&gt;Sem_int_to_logic_nat|const"><span>Ï†Sem_int_to_logic_nat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoning Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Syntactical Check of Semantics Validity of Aggregate Pathâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity_def|fact"><span>chk_semantics_validity_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>[</span></span><span class="free"><span>X</span></span><span class="main"><span>]</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="free"><span>R</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity_def|fact"><span>chk_semantics_validity_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1020</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.AgIdx_VN|const"><span>AgIdx_VN</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>]</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity_def|fact"><span>chk_semantics_validity_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1020</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_S|const"><span>AgIdx_S</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>]</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity_def|fact"><span>chk_semantics_validity_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1020</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>n</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity|const"><span>chk_semantics_validity</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.chk_semantics_validity_def|fact"><span>chk_semantics_validity_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Instructionsâ€º</span></span></span><span>

</span><span class="comment1"><span>(* definition op_cons_tuple :: "'TY list â‡’ (VAL list) proc'"
  where "op_cons_tuple tys = (Î»(vs,res).
    let N = length tys in
    if N â‰¤ length vs âˆ§ list_all2 (Î»v t. v âˆˆ Well_Type t) (take N vs) tys
    then Success (sem_mk_tup (take N vs) # drop N vs, res)
    else Fail)" *)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate_def|fact"><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate_def|thm"><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate|const"><span>op_get_aggregate</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>op_get_aggregate</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|const"><span>Ï†M_getV</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>v'</span></span><span class="main"><span>.</span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>Ï†M_assert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âª¢</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return|const"><span>Return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>Ï†arg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>debt_axiomatization</span></span></span><span> </span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.allow_assigning_different_typ|const"><span>allow_assigning_different_typ</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate_def|fact"><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate_def|thm"><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate|const"><span>op_set_aggregate</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>Ã—</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>op_set_aggregate</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tt</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tv</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV|const"><span>Ï†M_caseV</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>tup</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>Ï†M_assert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tt</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tt</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tv</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.allow_assigning_different_typ|const"><span>allow_assigning_different_typ</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tt</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âª¢</span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|const"><span>Ï†M_getV</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tt</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="bound"><span>tup</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>tup'</span></span><span class="main"><span>.</span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|const"><span>Ï†M_getV</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Tv</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>v'</span></span><span class="main"><span>.</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return|const"><span>Return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>Ï†arg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_mod_value|const"><span>index_mod_value</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>tup'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoningâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹All the reasoning rules below are for semantic properties.
      All reasoning rules for transformations and SL are derived automaticallyâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Index Validationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.is_valid_step_idx_of_def|fact"><span class="entity_def" id="PhSm_Ag_Base.is_valid_step_idx_of_def|thm"><span class="entity_def" id="PhSm_Ag_Base.is_valid_step_idx_of_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_idx_step|const"><span>valid_idx_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.idx_step_type|const"><span>idx_step_type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of_def|fact"><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of_def|thm"><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_type|const"><span>index_type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
                      </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>     </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of_Nil|fact"><span class="entity_def" id="PhSm_Ag_Base.is_valid_index_of_Nil|thm"><span>is_valid_index_of_Nil</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>TY'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>TY'</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of_def|fact"><span>is_valid_index_of_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>chk_sem_ele_idx</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>idx</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of_def|fact"><span>is_valid_index_of_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>chk_sem_ele_idx</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of_def|fact"><span>is_valid_index_of_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>chk_sem_ele_idx</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>W</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>W</span></span><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>idx</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of_def|fact"><span>is_valid_index_of_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of_def|fact"><span>is_valid_step_idx_of_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹parse_ele_idxâ€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹Parse Element Index Input by Semantic Typeâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.\&lt;A&gt;parse_eleidx|const"><span>ğ’œparse_eleidx</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_def|fact"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_def|thm"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>input</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.element_index_input|type"><span>element_index_input</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>semantic_idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>reject</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.element_index_input|type"><span>element_index_input</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.valid_index|const"><span>valid_index</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>semantic_idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_least1_def|fact"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_least1_def|thm"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_least1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>input</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>sem_idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>reject</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>input</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>sem_idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>reject</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span>
        </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>input</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>spec_idx</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span>
      </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?TY</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?input</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?TY</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?input</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?TY</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?input</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?TY</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?input</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>

  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>         </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>ğ’œparse_eleidx</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span>1000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;A&gt;parse_eleidx|const"><span>ğ’œparse_eleidx</span></a><span>â€º</span></span></span><span>
      </span><span class="quoted"><span>â€¹rules giving abstract specifiction of the values of an element indexâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>semantic_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>â€º</span></span></span><span>
      </span><span class="quoted"><span>â€¹reasoning parsing source of element indexâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_input_success</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>2000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>2000</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span>
      </span><span class="quoted"><span>â€¹direct successâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_literal_symbol</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1700</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1700</span><span class="main"><span>,</span></span><span> 1700</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_input_success</span><span>
      </span><span class="quoted"><span>â€¹literal indexâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_literal_number</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1600</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1600</span><span class="main"><span>,</span></span><span> 1600</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_literal_symbol</span><span>
      </span><span class="quoted"><span>â€¹literal numberâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_input</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_literal_number</span><span>
      </span><span class="quoted"><span>â€¹usual rulesâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_number</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>700</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>700</span><span class="main"><span>,</span></span><span>899</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_input</span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_val</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>500</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>500</span><span class="main"><span>,</span></span><span>699</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_number</span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>parse_eleidx_input_fallback</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>parse_eleidx_input_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>parse_eleidx_val</span><span>
      </span><span class="quoted"><span>â€¹rejecting all input, meaning the parsing failsâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_input</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1_def|fact"><span>parse_eleidx_input_least1_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_input_success</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>default</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_input_fallback</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>input</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_literal_symbol</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_S|const"><span>AgIdx_S</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_literal|const"><span>semantic_literal</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Symbol.html#PhiSem_Symbol.sem_mk_symbol|const"><span>sem_mk_symbol</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>input</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_S|const"><span>AgIdx_S</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>sem_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_S|const"><span>AgIdx_S</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>spec_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>reject</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of_def|fact"><span>is_valid_step_idx_of_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_number</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;A&gt;parse_eleidx|const"><span>ğ’œparse_eleidx</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span>
          </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.get_logical_nat_from_semantic_int|const"><span>get_logical_nat_from_semantic_int</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span>
          </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span>              
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>input</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.AgIdx_VN|const"><span>AgIdx_VN</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>sem_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>spec_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>reject</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
            </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.get_logical_nat_from_semantic_int_def|fact"><span>get_logical_nat_from_semantic_int_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.AgIdx_VN_def|fact"><span>AgIdx_VN_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of_def|fact"><span>is_valid_step_idx_of_def</span></a><span>
            </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.\&lt;r&gt;nat_to_suc_nat_def|fact"><span>ğ—‹nat_to_suc_nat_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.sel|fact"><span>option.sel</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>parse_eleidx_literal_number</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_literal|const"><span>semantic_literal</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;A&gt;parse_eleidx|const"><span>ğ’œparse_eleidx</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span>
          </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.get_logical_nat_from_semantic_int|const"><span>get_logical_nat_from_semantic_int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Itself|const"><span>Itself</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span>
          </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of|const"><span>is_valid_step_idx_of</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>input</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input|const"><span>parse_eleidx_input</span></a><span> </span><span class="free"><span>TY</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_literal|const"><span>semantic_literal</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>input</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>sem_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_index&apos;.AgIdx_N|const"><span>AgIdx_N</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>spec_idx</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>reject</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
            </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.get_logical_nat_from_semantic_int_def|fact"><span>get_logical_nat_from_semantic_int_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.AgIdx_VN_def|fact"><span>AgIdx_VN_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_step_idx_of_def|fact"><span>is_valid_step_idx_of_def</span></a><span>
            </span><a class="entity_ref" href="PhiSem_Common_Int.html#PhiSem_Common_Int.\&lt;r&gt;nat_to_suc_nat_def|fact"><span>ğ—‹nat_to_suc_nat_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.sel|fact"><span>option.sel</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Evaluate Indexâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Eval_Sem_Idx_SS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Simpset</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>initial_ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Simpset_Configure.Minimal_SS</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>binding</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>SOME</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="entity_def" id="PhSm_Ag_Base.eval_aggregate_path|attribute"><span class="entity_def" id="PhSm_Ag_Base.eval_aggregate_path|fact"><span>eval_aggregate_path</span></span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>comment</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="inner_quoted"><span>"Rules evaluating indexing of semantic type and value"</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>attribute</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>NONE</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>post_merging</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>I</span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span>Context.theory_map</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Eval_Sem_Idx_SS.map</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="entity"><span>Simplifier.add_cong</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.PhiTool_Symbol.html#PhiTool_Symbol.mk_symbol_cong|fact"><span>mk_symbol_cong</span></a><span class="antiquote"><span>}</span></span></span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a></span><span> 1300 </span><span class="main"><span>(</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="var"><span>?X'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="var"><span>?X</span></span><span>â€º</span></span></span><span>
                                      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span>
      </span><span class="entity"><span>PLPR_Simplifier.simplifier_by_ss'</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>Eval_Sem_Idx_SS.get'</span></span><span> </span><span class="main"><span>{</span></span><span>fix_vars</span><span class="main"><span>=</span></span><span>false</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|attribute"><span class="operator"><span>eval_aggregate_path</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_Cons_0|fact"><span>nth_Cons_0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_Cons_Suc|fact"><span>nth_Cons_Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.fold_simps|fact"><span>fold_simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.size|fact"><span>list.size</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.simp_thms|fact"><span>simp_thms</span></a><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span>       </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> Premise_D</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr_late_normalize</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.useful|attribute"><span class="operator"><span>useful</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span>         </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="comment1"><span>(*TODO: use EIF instead of this?*)</span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Index to Fields of Structuresâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|thm"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping|const"><span>Ï†Type_Mapping</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_def|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_def|thm"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Ï†Aggregate_Getter</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping|const"><span>Ï†Type_Mapping</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_value|const"><span>index_value</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper_def|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper_def|thm"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Phi_Element_Path.html#Phi_Element_Path.aggregate_path|type"><span>aggregate_path</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'a2</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'b2</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Ï†Aggregate_Mapper</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>g'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping|const"><span>Ï†Type_Mapping</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U'</span></span></span></span><span> </span><span class="bound"><span>g'</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping|const"><span>Ï†Type_Mapping</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T'</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>g'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_mod_value|const"><span>index_mod_value</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>idx</span></span></span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth_def|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth_def|thm"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><span>Ï†Aggregate_Constructor_Synth</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.BI|type"><span>BI</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.BI|type"><span>BI</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Ï†Aggregate_Constructor_Synth</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Args</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Spec</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>args</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>args</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Args</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="bound"><span>args</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Spec</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="bound"><span>args</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_def|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_def|thm"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><span>Ï†Aggregate_Constructor</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>Ï†arg</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.BI|type"><span>BI</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Ï†Aggregate_Constructor</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>args</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Spec</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>args</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Spec</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>constructor</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>args</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.\&lt;A&gt;ctr_arg|const"><span>ğ’œctr_arg</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.PhiTool_Symbol.html#PhiTool_Symbol.symbol|type"><span>symbol</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.sum|type"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span>
    </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?idx</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><span>Ï†Aggregate_Constructor_Synth</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><span>Ï†Aggregate_Constructor_Synth</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><span>Ï†Aggregate_Constructor</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?ctor</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?args</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><span>Ï†Aggregate_Constructor</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?ctor</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?args</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>


    </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>       </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>   </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_BI/library/system/premise_attribute.ML.html#Phi_Preliminary.\&lt;phi&gt;premise_attribute|attribute"><span class="operator"><span>Ï†premise_attribute</span></span></a><span> </span><span class="quasi_keyword"><span>once</span></span><span class="main"><span class="main"><span>?</span></span></span><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span>?</span></span><span> </span><span class="main"><span>%</span></span><span>local</span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><span>Ï†Aggregate_Constructor</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†attr</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>aggregate_access_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>100</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>g</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span>
                                                         </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>U'</span></span><span> </span><span class="free"><span>f</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="quoted"><span>â€¹Rules lifting semantic access of aggregate structures onto abstract domainâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>aggregate_access</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1010</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span>1030</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>aggregate_access_all</span><span>
      </span><span class="quoted"><span>â€¹cutting rulesâ€º</span></span><span>

</span><span class="comment1"><span>(*
lemma [Ï†reason 1]:
  â€¹Ï†Aggregate_Getter [] T T idâ€º
  unfolding Ï†Aggregate_Getter_def Ï†Type_Mapping_def
  by simp
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_Nil|fact"><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_Nil|thm"><span>Ï†Aggregate_Getter_Nil</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>aggregate_access</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_def|fact"><span>Ï†Aggregate_Getter_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|fact"><span>Ï†Type_Mapping_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="comment1"><span>(*
lemma [Ï†reason 1]:
  â€¹Ï†Aggregate_Mapper [] T T' T T' idâ€º
  unfolding Ï†Aggregate_Mapper_def Ï†Type_Mapping_def
  by simp
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>aggregate_access</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper_def|fact"><span>Ï†Aggregate_Mapper_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|fact"><span>Ï†Type_Mapping_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Is Aggregateâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.Is_Aggregate_def|fact"><span class="entity_def" id="PhSm_Ag_Base.Is_Aggregate_def|thm"><span class="entity_def" id="PhSm_Ag_Base.Is_Aggregate_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Is_Aggregate</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>is_aggregate_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>
      </span><span class="quoted"><span>â€¹checking whether the given Ï†type specifies an aggregateâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>is_aggregate</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 1030</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>is_aggregate_all</span><span>
      </span><span class="quoted"><span>â€¹cutting rulesâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†property_deriver</span></span></span><span> </span><span>Is_Aggregate</span><span> 555 </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Type_Derivers.meta_Synt_Deriver</span></span><span>
      </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"Is_Aggregate"</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma'</span></span><span> </span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>T</span></span><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate_def|fact"><span>Is_Aggregate_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span>
       </span><span>SOME</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>reasoner_group</span></span><span> </span><span class="main"><span>%</span></span><span>is_aggregate</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_aggregate</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>T</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>U</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod|const"><span>âˆ—</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate_def|fact"><span>Is_Aggregate_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="comment1"><span>(*
subsection â€¹IDE-Interfacesâ€º

term ParamTag

definition Index_Param_Tag :: â€¹aggregate_path â‡’ boolâ€º ("ğ—‚ğ—‡ğ–½ğ–¾ğ—‘ ğ—‰ğ–ºğ—‹ğ–ºğ—† _" [1000] 26)
  where "ğ—‚ğ—‡ğ–½ğ–¾ğ—‘ ğ—‰ğ–ºğ—‹ğ–ºğ—† x â‰¡ True"

lemma Index_Param_Tag_Swap:
  â€¹ ğ—‰ğ–ºğ—‹ğ–ºğ—† P âŸ¹ ğ—‚ğ—‡ğ–½ğ–¾ğ—‘ ğ—‰ğ–ºğ—‹ğ–ºğ—† P â€º
  unfolding Index_Param_Tag_def ..

ML_file â€¹syntax/index_param.MLâ€º

Ï†lang_parser set_index_param 5000 (premises â€¹ğ—‚ğ—‡ğ–½ğ–¾ğ—‘ ğ—‰ğ–ºğ—‹ğ–ºğ—† _â€º) â€¹fn (ctxt,sequent) =&gt;
  Scan.pass (Context.Proof ctxt) Synt_Index_Param.index_term_parser &gt;&gt; (fn term =&gt; fn _ =&gt;
      Phi_Sys.set_param term (ctxt, @{thm Index_Param_Tag_Swap} RS sequent))â€º
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Size Less or Equalâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhSm_Ag_Base.Size_LEQ_def|fact"><span class="entity_def" id="PhSm_Ag_Base.Size_LEQ_def|thm"><span class="entity_def" id="PhSm_Ag_Base.Size_LEQ_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Size_LEQ</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
       </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma</span></span><span> </span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ_def|fact"><span>Size_LEQ_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span>
       </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>bvtys</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>A</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Phi_Help.strip_meta_hhf_bvtys</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Help.leading_antecedent'</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>Ag_Semantics.size</span></span><span> </span><span class="entity"><span>bvtys</span></span><span> </span><span class="entity"><span>A</span></span><span> </span><span>&lt;=</span><span> </span><span class="entity"><span>Ag_Semantics.size</span></span><span> </span><span class="entity"><span>bvtys</span></span><span> </span><span class="entity"><span>B</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="entity"><span>RS'</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>
   </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Size_LEQ|const"><span>Size_LEQ</span></a><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹First-level Abstraction of Instructionsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate|fact"><span class="entity_def" id="PhSm_Ag_Base.op_get_aggregate|thm"><span>op_get_aggregate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>T</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;|const"><span>Semantic_Type'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input_index</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter|const"><span>Ï†Aggregate_Getter</span></a><span> </span><span class="free"><span>spec_idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>f</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.report_unprocessed_element_index|const"><span>report_unprocessed_element_index</span></a><span> </span><span class="free"><span>reject</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;E&gt;\&lt;I&gt;\&lt;H&gt;\&lt;O&gt;\&lt;O&gt;\&lt;K&gt;_none|const"><span>â„°â„â„‹ğ’ªğ’ªğ’¦_none</span></a><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>ğ—‰ğ—‹ğ—ˆğ–¼</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_get_aggregate|const"><span>op_get_aggregate</span></a><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>rv</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦ƒ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>âŸ¼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><span>ğ—ğ–ºğ—…</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦„</span></a></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_get_aggregate_def|fact"><span>op_get_aggregate_def</span></a><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;_def|fact"><span>Semantic_Type'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Getter_def|fact"><span>Ï†Aggregate_Getter_def</span></a><span>
            </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span>
            </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1_def|fact"><span>parse_eleidx_input_least1_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>rv</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|fact"><span>Ï†Type_Mapping_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhSm_Ag_Base._op_set_aggregate_|fact"><span class="entity_def" id="PhSm_Ag_Base._op_set_aggregate_|thm"><span>_op_set_aggregate_</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;|const"><span>Semantic_Type'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input_index</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;|const"><span>Semantic_Type'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub>'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.allow_assigning_different_typ|const"><span>allow_assigning_different_typ</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>idx</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><span class="free"><span>U'</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>f</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.report_unprocessed_element_index|const"><span>report_unprocessed_element_index</span></a><span> </span><span class="free"><span>reject</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;E&gt;\&lt;I&gt;\&lt;H&gt;\&lt;O&gt;\&lt;O&gt;\&lt;K&gt;_none|const"><span>â„°â„â„‹ğ’ªğ’ªğ’¦_none</span></a><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>ğ—‰ğ—‹ğ—ˆğ–¼</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_set_aggregate|const"><span>op_set_aggregate</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub></span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">â™</span><b>,</b></span></a></span><span class="free"><span>ru</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦ƒ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>âŸ</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="free"><span>ru</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>âŸ¼</span></a></span><span> </span><span class="main"><span>Î»</span></span><span class="bound"><span>ret</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="bound"><span>ret</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>T'</span></span><span>
        </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Subjection|const"><span>ğ—Œğ—ğ–»ğ—ƒ</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>TY<span class="hidden">â‡©</span><sub>U</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="bound"><span>ret</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦„</span></a></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_set_aggregate_def|fact"><span>op_set_aggregate_def</span></a><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;_def|fact"><span>Semantic_Type'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper_def|fact"><span>Ï†Aggregate_Mapper_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
            </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_def|fact"><span>parse_eleidx_input_def</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of_def|fact"><span>is_valid_index_of_def</span></a><span>
            </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1_def|fact"><span>parse_eleidx_input_least1_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>rv</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>ru</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Phi_System/Calculus_of_Programming.html#Calculus_of_Programming.\&lt;phi&gt;M_Success_P|fact"><span>Ï†M_Success_P</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> X</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Type_Mapping_def|fact"><span>Ï†Type_Mapping_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.index_mod_value_welltyp|fact"><span>index_mod_value_welltyp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate|fact"><span class="entity_def" id="PhSm_Ag_Base.op_set_aggregate|thm"><span>op_set_aggregate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.Is_Aggregate|const"><span>Is_Aggregate</span></a><span> </span><span class="free"><span>T</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;|const"><span>Semantic_Type'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.parse_eleidx_input_least1|const"><span>parse_eleidx_input_least1</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>input_index</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>reject</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type&apos;|const"><span>Semantic_Type'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY2</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.is_valid_index_of|const"><span>is_valid_index_of</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>TY2'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.eval_aggregate_path|const"><span>eval_aggregate_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>TY2'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>TY2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.allow_assigning_different_typ|const"><span>allow_assigning_different_typ</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>idx</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Mapper|const"><span>Ï†Aggregate_Mapper</span></a><span> </span><span class="free"><span>idx</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><span class="free"><span>U'</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>f</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.report_unprocessed_element_index|const"><span>report_unprocessed_element_index</span></a><span> </span><span class="free"><span>reject</span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;E&gt;\&lt;I&gt;\&lt;H&gt;\&lt;O&gt;\&lt;O&gt;\&lt;K&gt;_none|const"><span>â„°â„â„‹ğ’ªğ’ªğ’¦_none</span></a><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>ğ—‰ğ—‹ğ—ˆğ–¼</span></a></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_set_aggregate|const"><span>op_set_aggregate</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>TY2</span></span><span> </span><span class="free"><span>sem_idx</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">â™</span><b>,</b></span></a></span><span> </span><span class="free"><span>ru</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦ƒ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>âŸ</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>ğ—ğ–ºğ—…[</span></a></span><span class="free"><span>ru</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>âŸ¼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><span>ğ—ğ–ºğ—…</span></span><span> </span><span class="free"><span>T'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦„</span></a></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ|fact"><span>Ï†CONSEQ</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base._op_set_aggregate_|fact"><span>_op_set_aggregate_</span></a><span>"</span></span><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.view_shift_refl|fact"><span>view_shift_refl</span></a><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.view_shift_by_implication|fact"><span>view_shift_by_implication</span></a><span> </span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.view_shift_refl|fact"><span>view_shift_refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Transformation_def|fact"><span>Transformation_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base._op_set_aggregate_|fact"><span>_op_set_aggregate_</span></a><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate_def|fact"><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate_def|thm"><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate_def|axiom"><span class="entity_def" id="PhSm_Ag_Base.op_construct_aggregate|const"><span>op_construct_aggregate</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span>C</span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_def|fact"><span>Ï†Aggregate_Constructor_def</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.useful|attribute"><span class="operator"><span>useful</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
            </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor|const"><span>Ï†Aggregate_Constructor</span></a><span> </span><span class="free"><span>constructor</span></span><span> </span><span class="free"><span>args</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><span>ğ—ğ–ºğ—…</span></span><span> </span><span class="free"><span>T</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>â´</span></span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_assert_\&lt;phi&gt;app|fact"><span>semantic_assert</span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>constructor</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span>args</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>TY</span></span><span>â€º</span></span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_return_\&lt;phi&gt;app|fact"><span>semantic_return</span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>constructor</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="free"><span>args</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>âµ</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate_def|fact"><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate_def|thm"><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate_def|axiom"><span class="entity_def" id="PhSm_Ag_Base.synthesis_construct_aggregate|const"><span>synthesis_construct_aggregate</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_def|fact"><span>Ï†Aggregate_Constructor_def</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.useful|attribute"><span class="operator"><span>useful</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.\&lt;phi&gt;Aggregate_Constructor_Synth|const"><span>Ï†Aggregate_Constructor_Synth</span></a><span> </span><span class="free"><span>constructor</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_20646..20647">C</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>ğ—‰ğ—‹ğ—ˆğ–¼</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦ƒ</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>0</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>âŸ¼</span></a></span><span> </span><span class="main"><span>Î»</span></span><span class="bound"><span>ret</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Vals|const"><span>ğ—ğ–ºğ—…ğ—Œ[</span></a></span><span class="bound"><span>ret</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Vals|const"><span>]</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.REMAINS|const"><span>ğ—‹ğ–¾ğ—†ğ–ºğ—‚ğ—‡ğ—Œ</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>â¦„</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.synthesis|const"><span>synthesis</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>0</sub></span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="keyword1"><span>ğ—ğ–ºğ—…</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.REMAINS|const"><span>ğ—‹ğ–¾ğ—†ğ–ºğ—‚ğ—‡ğ—Œ</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span>â€º</span></span></span><span>
  </span><span class="main"><span>@tag</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.synthesis|const"><span>synthesis</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>â´</span></span></span><span>
    </span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_20646..20647"><span>C</span></a><span> </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_local_values_nochk_\&lt;phi&gt;app|fact"><span>semantic_local_values_nochk</span></a><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_assert_\&lt;phi&gt;app|fact"><span>semantic_assert</span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>constructor</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="skolem"><span>ğ—0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>TY</span></span><span>â€º</span></span></span><span>
    </span><a class="entity_ref" href="../Phi_System/PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.semantic_return_\&lt;phi&gt;app|fact"><span>semantic_return</span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>constructor</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>Ï†arg.dest</span></a><span> </span><span class="skolem"><span>ğ—0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Satisfaction|const"><span>âŠ¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>â¦‚</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>âµ</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>Ï†synthesis_ag</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†synthesis_cut</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>Ï†synthesis_cut</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†synthesis_cut</span><span class="main"><span>+</span></span><span>300</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
  </span><span class="quoted"><span>â€¹synthesis for aggregate structuresâ€º</span></span><span>



</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Syntax Baseâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Structure and Tupleâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>nonterminal</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="offset_21152..21165">Ï†_tuple_args_</span><span>"</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="offset_21172..21184">Ï†_tuple_arg_</span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.\&lt;phi&gt;_Empty_Tuple_sugar|const"><span>Ï†_Empty_Tuple_sugar</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'any</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>Ï†</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â¦ƒ</span></span><span> </span><span class="keyword1"><span>â¦„</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹A syntax sugar to be overloadedâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"_Ï†Tuple"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21152..21165"><span>Ï†_tuple_args_</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>logic</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â¦ƒ</span></span><span> _ </span><span class="keyword1"><span>â¦„</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
       </span><span class="quoted"><span>"_Ï†tuple_arg"</span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21172..21184"><span>Ï†_tuple_arg_</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21152..21165"><span>Ï†_tuple_args_</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_"</span></span><span class="main"><span>)</span></span><span>
       </span><span class="quoted"><span>"_Ï†tuple_args"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21172..21184"><span>Ï†_tuple_arg_</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21152..21165"><span>Ï†_tuple_args_</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#offset_21152..21165"><span>Ï†_tuple_args_</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>,</span></span><span class="keyword3"><span>/ </span></span><span>_"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"_Ï†Tuple </span><span class="main"><span>(</span></span><span>_Ï†tuple_args </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod|const"><span>Ï†Prod</span></a><span> </span><span class="main"><span>(</span></span><span>_Ï†Tuple </span><span class="main"><span>(</span></span><span>_Ï†tuple_arg </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>_Ï†Tuple </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>strip_phi_tuple_args</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>â€¹_Ï†tuple_argsâ€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>x</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>L</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>x</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>strip_phi_tuple_args</span></span><span> </span><span class="entity"><span>L</span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>strip_phi_tuple_args</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>â€¹_Ï†tuple_argâ€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>strip_phi_tuple_args</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>error</span><span> </span><span class="inner_quoted"><span>"Bad Syntax"</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Access to Element Fieldâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PhSm_Ag_Base.access_to_ele_synt|const"><span>access_to_ele_synt</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'c</span></span><span>â€º</span></span></span><span>
    </span><span class="comment1"><span>â€• â€¹A syntax sugar to be overloadedâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"_access_to_ele_synt_"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>logic</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>Ï†_ag_idx_</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>logic</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â€£</span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>parse_translation</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="main"><span>[</span></span><span>
  </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>â€¹_access_to_ele_synt_â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>a</span></span><span class="main"><span>,</span></span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.access_to_ele_synt|const"><span>access_to_ele_synt</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span>dummyT</span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>a</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>Phi_Aggregate_Syntax.parse_index</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>]</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>print_translation</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="main"><span>[</span></span><span>
  </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.access_to_ele_synt|const"><span>access_to_ele_synt</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>a</span></span><span class="main"><span>,</span></span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>â€¹_access_to_ele_synt_â€º</span></span><span class="main"><span>,</span></span><span> </span><span>dummyT</span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>a</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>Phi_Aggregate_Syntax.print_index</span></span><span> </span><span class="entity"><span>x</span></span><span> </span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>]</span></span><span>â€º</span></span><span>
 
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We can use </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â€£</span></span><span> fieldâ€º</span></span></span><span> to access the address of the element named </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>fieldâ€º</span></span></span><span> in the
  object pointed by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>pâ€º</span></span></span><span>.
  We may also use </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â€£</span></span><span> </span><span class="numeral"><span>2</span></span><span>â€º</span></span></span><span> to access the address of the 2nd element.
  Use </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â€£</span></span><span> </span><span class="keyword1"><span>LOGIC_IDX(</span></span><span class="free"><span>var</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> to access the element </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>varâ€º</span></span></span><span> which is a logical variableâ€º</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹IDE Interfaceâ€º</span></span></span><span>

</span><span class="comment1"><span>(* declare_Ï†lang_operator infix 40 := *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†overloads</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhSm_Ag_Base.\&lt;tribullet&gt;_\&lt;phi&gt;app|fact"><span>â€£</span></span><span>"</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhSm_Ag_Base.:=_\&lt;phi&gt;app|fact"><span>:=</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_get_aggregate|fact"><span>op_get_aggregate</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/app_rules.ML.html#IDE_CP_Core.\&lt;phi&gt;overload|attribute"><span class="operator"><span>Ï†overload</span></span></a><span> </span><span class="quoted"><span>"</span><span>â€£</span><span>"</span></span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="PhSm_Ag_Base.html#PhSm_Ag_Base.op_set_aggregate|fact"><span>op_set_aggregate</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/app_rules.ML.html#IDE_CP_Core.\&lt;phi&gt;overload|attribute"><span class="operator"><span>Ï†overload</span></span></a><span> </span><span class="quoted"><span>"</span><span>:=</span><span>"</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>Ï†parser_lbrack</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>500</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>500</span><span class="main"><span>,</span></span><span>500</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>Ï†parser_rbrack</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>500</span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span>500</span><span class="main"><span>,</span></span><span>500</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Semantics/library/generic_element_access.ML.html"><span>â€¹library/generic_element_access.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> aggregate_getter_setter </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_lbrack</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"["</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>s</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>[</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="entity"><span>Generic_Element_Access.open_bracket_opr</span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="entity"><span>s</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> aggregate_getter_end </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_rbrack</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"]"</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>]</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="entity"><span>Generic_Element_Access.close_bracket</span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> construct_aggregate </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_lbrack</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"â¦ƒ"</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>s</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>â¦ƒ</span></span><span>â€º</span></span></span><span> </span><span>--</span><span> </span><span>Scan.option</span><span> </span><span class="main"><span>(</span></span><span>Parse.short_ident</span><span> </span><span>--|</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>:</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>arg_name</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="entity"><span>Generic_Element_Access.gen_constructor</span></span><span> </span><span class="inner_quoted"><span>""</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"â¦ƒ"</span></span><span class="main"><span>,</span></span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>arg_name</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="entity"><span>s</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> construct_aggregate_end </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_rbrack</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"â¦„"</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>â¦„</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="entity"><span>Phi_Opr_Stack.check_meta_apply_balance</span></span><span> </span><span class="inner_quoted"><span>"â¦ƒ"</span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>;</span></span><span>
    </span><span class="entity"><span>Phi_Opr_Stack.close_parenthesis</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>cfg</span></span><span class="main"><span>,</span></span><span> </span><span>NONE</span><span class="main"><span>,</span></span><span> </span><span>false</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> triangle_operator </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_unique</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"â€£"</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>â€£</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="entity"><span>Phi_Opr_Stack.push_meta_operator</span></span><span> </span><span class="entity"><span>cfg</span></span><span>
            </span><span class="main"><span>(</span></span><span class="entity"><span>Generic_Element_Access.mk_dot_opr</span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We differentiate </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â†â€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>:=â€º</span></span></span><span>.
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â†â€º</span></span></span><span> is used to update the value of a local variable.
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>:=â€º</span></span></span><span> is used to change the value of a memory object.
  Without this differentiation, ambiguity occurs when we have a local variable of a pointer
  pointing to a memory object which also stores a pointer, and an assignment can ambiguously refer
  to updating the variable or writing to the memory object.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dot_opr_chk_left_precedence</span></span><span> </span><span class="entity"><span>prio</span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="entity"><span>oprs</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Phi_Opr_Stack</span><span>
      </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="entity"><span>first</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Meta_Opr</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"$"</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>precedence_of</span></span><span> </span><span class="entity"><span>L</span></span><span>
             </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>p</span></span><span> </span><span>&gt;=</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_dot_opr</span><span class="antiquote"><span>}</span></span></span></span><span>
                </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span>false</span><span> </span><span class="entity"><span>L</span></span><span>
                </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>p</span></span><span> </span><span>&lt;</span><span> </span><span class="entity"><span>prio</span></span><span>
                </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>first</span></span><span>
                  </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="quasi_keyword"><span>loose</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_push_val</span><span class="main"><span>+</span></span><span>1</span><span class="antiquote"><span>}</span></span></span></span><span>
                  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="quasi_keyword"><span>loose</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_dot_opr</span><span class="main"><span>+</span></span><span>1</span><span class="antiquote"><span>}</span></span></span></span><span>
                </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="entity"><span>prio</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="entity"><span>first</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>first</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="quasi_keyword"><span>loose</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_push_val</span><span class="main"><span>+</span></span><span>1</span><span class="antiquote"><span>}</span></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="quasi_keyword"><span>loose</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_dot_opr</span><span class="main"><span>+</span></span><span>1</span><span class="antiquote"><span>}</span></span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Meta_Opr</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"â€£"</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span>false</span><span> </span><span class="entity"><span>L</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Meta_Opr</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>pr</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>pr</span></span><span> </span><span>&gt;</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_app</span><span class="antiquote"><span>}</span></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span>false</span><span> </span><span class="entity"><span>L</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="entity"><span>Generic_Element_Access.err_assignment</span></span><span> </span><span class="entity"><span>pos</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Opr</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>pr</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>L</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>pr</span></span><span> </span><span>&gt;</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_app</span><span class="antiquote"><span>}</span></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span>false</span><span> </span><span class="entity"><span>L</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="entity"><span>Generic_Element_Access.err_assignment</span></span><span> </span><span class="entity"><span>pos</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>prio</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>prec_of</span></span><span> </span><span>true</span><span> </span><span class="entity"><span>oprs</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> assignment_opr </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_left_arrow</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>"â†"</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>â†</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Phi_Opr_Stack</span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>prio</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dot_opr_chk_left_precedence</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_assignment</span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>push_meta_operator</span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>prio</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_assignment</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>VAR_ARITY_IN_OPSTACK</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"â†"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>NONE</span><span class="main"><span>,</span></span><span>
                       </span><span class="entity"><span>Generic_Element_Access.dot_triangle_assignment</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> update_opr </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_left_arrow</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_top</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>":="</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="quoted"><span>â€¹ </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Parse.position</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">keyword</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="keyword2"><span>:=</span></span><span>â€º</span></span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Phi_Opr_Stack</span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>prio</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dot_opr_chk_left_precedence</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_update_opr</span><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="entity"><span>pos</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>push_meta_operator</span></span><span> </span><span class="entity"><span>cfg</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>prio</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>priority</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_update_opr</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>VAR_ARITY_IN_OPSTACK</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>":="</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>pos</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>NONE</span><span class="main"><span>,</span></span><span>
                       </span><span class="entity"><span>Generic_Element_Access.dot_triangle_update_opr</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>opr_ctxt</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†lang_parser</span></span></span><span> literal_symbol_in_eleidx </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>Ï†parser_app</span><span>-250</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>Ï†lang_push_val</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="quoted"><span>""</span></span><span class="main"><span>]</span></span><span>
                                      </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_System/Calculus_of_Programming.html#Calculus_of_Programming.CurrentConstruction|const"><span>CurrentConstruction</span></a><span> </span><a class="entity_ref" href="../Phi_System/Calculus_of_Programming.html#Calculus_of_Programming.programming_mode|const"><span>programming_mode</span></a><span> </span><span class="var"><span>?blk</span></span><span> </span><span class="var"><span>?H</span></span><span> </span><span class="var"><span>?S</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>oprs</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="main"><span>#</span></span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>oprs</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="entity"><span>Phi_Opr_Stack.Meta_Opr</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"â€£"</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
        </span><span>Parse.name</span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>s</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
        </span><span class="main"><span>(</span></span><span class="entity"><span>oprs</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>#</span></span><span>transformation_rule </span><span class="entity"><span>Phi_Working_Mode.programming</span></span><span>
                  </span><span>OF</span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>,</span></span><span> </span><span>Thm.instantiate</span><span>
                                  </span><span class="main"><span>(</span></span><span>TVars.empty</span><span class="main"><span>,</span></span><span> </span><span>Vars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"s"</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.PhiTool_Symbol.html#PhiTool_Symbol.symbol|type"><span>symbol</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                                                           </span><span>Thm.cterm_of</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Tool_Symbol.mk_symbol</span></span><span> </span><span class="entity"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
                                  </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> "</span><a class="entity_ref" href="PhiSem_Symbol.html#PhiSem_Symbol._intro_symbol_|fact"><span>_intro_symbol_</span></a><span>"</span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Scan.fail</span><span>
â€º</span></span><span>



</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>