<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Phi_Logic_Programming_Reasoner.PLPR</title>
</head>


<body>
<div class="head">
<h1>Theory Phi_Logic_Programming_Reasoner.PLPR</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Phi_Logic_Programming_Reasoner.PLPR.html"><span>PLPR</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html"><span>PLPR_error_msg</span></a><span> </span><span class="quoted"><span>"</span><a href="HOL-Eisbach.Eisbach.html"><span>HOL-Eisbach.Eisbach</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="HOL-Eisbach.Eisbach_Tools.html"><span>HOL-Eisbach.Eisbach_Tools</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="Phi_Document.Base.html"><span>Phi_Document.Base</span></a><span>"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>keywords</span></span></span><span> </span><span class="quoted"><span>"except"</span></span><span> </span><span class="quoted"><span>"@tag"</span></span><span> </span><span class="quoted"><span>"requires"</span></span><span> </span><span class="main"><span>::</span></span><span> quasi_command
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"Ï†reasoner"</span></span><span> </span><span class="quoted"><span>"Ï†reasoner_ML"</span></span><span> </span><span class="main"><span>::</span></span><span> thy_decl </span><span class="main"><span>%</span></span><span> </span><span class="quoted"><span>"ML"</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"Ï†reasoner_group"</span></span><span> </span><span class="main"><span>::</span></span><span> thy_defn
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"Ï†reasoner_group_assert"</span></span><span> </span><span class="main"><span>::</span></span><span> thy_decl
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"print_Ï†reasoners"</span></span><span> </span><span class="quoted"><span>"print_Ï†reasoner_groups"</span></span><span> </span><span class="main"><span>::</span></span><span> diag
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&gt;"</span></span><span> </span><span class="main"><span>::</span></span><span> quasi_command
  </span><span class="keyword2"><span class="keyword"><span>abbrevs</span></span></span><span>
      </span><span class="quoted"><span>"&lt;premise&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;guard&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—€ğ—ğ–ºğ—‹ğ–½"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;condition&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;@GOAL&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"@GOAL"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;threshold&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—ğ—ğ—‹ğ–¾ğ—Œğ—ğ—ˆğ—…ğ–½"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"!!"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"!!"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"??"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"??"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;simplify&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;safe&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—Œğ–ºğ–¿ğ–¾"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;no&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—‡ğ—ˆ"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;inst&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—‚ğ—‡ğ—Œğ—"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;user&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—ğ—Œğ–¾ğ—‹"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;do&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ–½ğ—ˆ"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"&lt;param&gt;"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"ğ—‰ğ–ºğ—‹ğ–ºğ—†"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Preliminariesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹ML Libraries - Iâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>basic_entity</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Document_Output.antiquotation_pretty_source_embedded</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>pretty_term_style</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>style</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Document_Output.pretty_term</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>style</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>typ</span></span><span>  </span><span class="entity"><span>mode</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Scan.peek</span><span> </span><span class="main"><span>(</span></span><span>Args.named_typ</span><span>  </span><span>o</span><span> </span><span>Syntax.read_typ</span><span>
                                             </span><span>o</span><span> </span><span>Proof_Context.set_mode</span><span> </span><span class="entity"><span>mode</span></span><span> </span><span>o</span><span> </span><span>Context.proof_of</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>term</span></span><span> </span><span class="entity"><span>mode</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Scan.peek</span><span> </span><span class="main"><span>(</span></span><span>Args.named_term</span><span> </span><span>o</span><span> </span><span>Syntax.read_term</span><span>
                                             </span><span>o</span><span> </span><span>Proof_Context.set_mode</span><span> </span><span class="entity"><span>mode</span></span><span> </span><span>o</span><span> </span><span>Context.proof_of</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>prop</span></span><span> </span><span class="entity"><span>mode</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Scan.peek</span><span> </span><span class="main"><span>(</span></span><span>Args.named_term</span><span> </span><span>o</span><span> </span><span>Syntax.read_prop</span><span>
                                             </span><span>o</span><span> </span><span>Proof_Context.set_mode</span><span> </span><span class="entity"><span>mode</span></span><span> </span><span>o</span><span> </span><span>Context.proof_of</span><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>thy</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>thy</span></span><span>
</span><span>|&gt;</span><span>  </span><span>ML_Antiquotation.inline_embedded</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>pattern</span><span>â€º</span></span></span><span>
    </span><span class="main"><span>(</span></span><span>Args.term_pattern</span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span>ML_Syntax.atomic</span><span> </span><span>o</span><span> </span><span>ML_Syntax.print_term</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>|&gt;</span><span> </span><span>ML_Antiquotation.inline_embedded</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>pattern_prop</span><span>â€º</span></span></span><span>
    </span><span class="main"><span>(</span></span><span class="entity"><span>prop</span></span><span> </span><span>Proof_Context.mode_pattern</span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span>ML_Syntax.atomic</span><span> </span><span>o</span><span> </span><span>ML_Syntax.print_term</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>|&gt;</span><span> </span><span>ML_Antiquotation.value_embedded</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>schematic_ctyp</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>typ</span></span><span> </span><span>Proof_Context.mode_schematic</span><span>
      </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>T</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_quoted"><span>"Thm.ctyp_of ML_context"</span></span><span>  </span><span>^</span><span> </span><span>ML_Syntax.atomic</span><span> </span><span class="main"><span>(</span></span><span>ML_Syntax.print_typ</span><span> </span><span class="entity"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>|&gt;</span><span> </span><span>ML_Antiquotation.value_embedded</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>schematic_cterm</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>term</span></span><span> </span><span>Proof_Context.mode_schematic</span><span>
      </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_quoted"><span>"Thm.cterm_of ML_context"</span></span><span> </span><span>^</span><span> </span><span>ML_Syntax.atomic</span><span> </span><span class="main"><span>(</span></span><span>ML_Syntax.print_term</span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>|&gt;</span><span> </span><span>ML_Antiquotation.value_embedded</span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>schematic_cprop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>prop</span></span><span> </span><span>Proof_Context.mode_schematic</span><span>
      </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_quoted"><span>"Thm.cterm_of ML_context"</span></span><span> </span><span>^</span><span> </span><span>ML_Syntax.atomic</span><span> </span><span class="main"><span>(</span></span><span>ML_Syntax.print_term</span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>|&gt;</span><span> </span><span class="entity"><span>basic_entity</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>schematic_term</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Term_Style.parse</span></span><span> </span><span>--</span><span> </span><span class="entity"><span>term</span></span><span> </span><span>Proof_Context.mode_schematic</span><span class="main"><span>)</span></span><span>
                                        </span><span class="entity"><span>pretty_term_style</span></span><span>
</span><span>|&gt;</span><span> </span><span class="entity"><span>basic_entity</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>schematic_prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Term_Style.parse</span></span><span> </span><span>--</span><span> </span><span class="entity"><span>prop</span></span><span> </span><span>Proof_Context.mode_schematic</span><span class="main"><span>)</span></span><span>
                                        </span><span class="entity"><span>pretty_term_style</span></span><span>
</span><span>|&gt;</span><span> </span><span class="entity"><span>basic_entity</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>pattern_term</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Term_Style.parse</span></span><span> </span><span>--</span><span> </span><span class="entity"><span>term</span></span><span> </span><span>Proof_Context.mode_pattern</span><span class="main"><span>)</span></span><span>
                                        </span><span class="entity"><span>pretty_term_style</span></span><span>
</span><span>|&gt;</span><span> </span><span class="entity"><span>basic_entity</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span>pattern_prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Term_Style.parse</span></span><span> </span><span>--</span><span> </span><span class="entity"><span>prop</span></span><span> </span><span>Proof_Context.mode_pattern</span><span class="main"><span>)</span></span><span>
                                        </span><span class="entity"><span>pretty_term_style</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="operator"><span>ML_debugger</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/imporved_net.ML.html"><span>â€¹library/imporved_net.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/ml_thms.ML.html"><span>â€¹library/tools/ml_thms.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/pattern.ML.html"><span>â€¹library/pattern.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner_decl.ML.html"><span>â€¹library/reasoner_decl.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/priority_group.ML.html"><span>â€¹library/priority_group.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/where_tac.ML.html"><span>â€¹library/tools/where_tac.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/helpers00.ML.html"><span>â€¹library/tools/helpers00.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/pretty_goal.ML.html"><span>â€¹library/tools/pretty_goal.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>attribute_setup</span></span></span><span> </span><span class="entity_def" id="PLPR.condition|attribute"><span>condition</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span>Scan.peek</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt_g</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Args.internal_term</span><span> </span><span>||</span><span>
                          </span><span>Parse.token</span><span> </span><span>Parse.embedded</span><span> </span><span>--</span><span> </span><span>Parse.for_fixes</span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>prop_token</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>fixes</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span>Token.evaluate</span><span> </span><span>Token.Term</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>raw_prop</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Context.proof_of</span><span> </span><span class="entity"><span>ctxt_g</span></span><span>
          </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Proof_Context.add_fixes_cmd</span><span> </span><span class="entity"><span>fixes</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
          </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>prop</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Syntax.read_prop</span><span> </span><span class="entity"><span>ctxt'</span></span><span> </span><span class="main"><span>(</span></span><span>Token.inner_syntax_of</span><span> </span><span class="entity"><span>raw_prop</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>singleton</span><span> </span><span class="main"><span>(</span></span><span>Variable.export_terms</span><span> </span><span class="entity"><span>ctxt'</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>prop</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>prop_token</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>)</span></span><span> </span><span>&gt;&gt;</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>prop</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Thm.rule_attribute</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>cprop</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Context.cases</span><span> </span><span>Thm.global_cterm_of</span><span> </span><span>Thm.cterm_of</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>prop</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Thm.implies_intr</span><span> </span><span class="entity"><span>cprop</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Guard of Reasoning Ruleâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹If the guard of a rule fails, the rule will be considered non-appliable, just like the case
  when pattern mismatchs. The difference lies in the cutting and backtracking behavior.
  If a cut rule is considered non-appliable, it will not cut remaining candidates.
  If the prior rules before a no-backtrack-accepted rule are non-appliable, the no-backtrack-accepted
  rule will be applied.

  A rule can have at most one guard, and it must be at the leading place.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard|const"><span>ğ—‹Guard</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>5</span><span class="main"><span>]</span></span><span> 5</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Guard</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_I|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_I|thm"><span>ğ—‹Guard_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—‹Guard</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_D|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_D|thm"><span>ğ—‹Guard_D</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—‹Guard</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_E|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_E|thm"><span>ğ—‹Guard_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—‹Guard</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_reduct|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Guard_reduct|thm"><span>ğ—‹Guard_reduct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—‹Guard</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent Sequenceâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Ant_Seq_def|fact"><span class="entity_def" id="PLPR.Ant_Seq_def|thm"><span class="entity_def" id="PLPR.Ant_Seq_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Ant_Seq|const"><span>Ant_Seq</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></span><span>"</span></span><span> 26</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Ant_Seq</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(âˆ§)</span></a></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The key distinction of </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>Ant_Seq</span></a><span>â€º</span></span><span> is that its congruence rule is enabled by default,
      as it implies a left-to-right evaluation order.â€º</span></span></span><span>

</span><span class="comment1"><span>(*TODO: as we have a specific term for antecedent sequence, we should depreciate and prohibit
  the legacy use of â€¹âˆ§â€º as the connective for antecedent sequence.*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ant_Seq_cong|fact"><span class="entity_def" id="PLPR.Ant_Seq_cong|thm"><span>Ant_Seq_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P'</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>Q'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>P'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>Q'</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ant_Seq_reduct|fact"><span class="entity_def" id="PLPR.Ant_Seq_reduct(2)|thm"><span class="entity_def" id="PLPR.Ant_Seq_reduct(1)|thm"><span>Ant_Seq_reduct</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ant_Seq_I|fact"><span class="entity_def" id="PLPR.Ant_Seq_I|thm"><span>Ant_Seq_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ant_Seq_assoc|fact"><span class="entity_def" id="PLPR.Ant_Seq_assoc|thm"><span>Ant_Seq_assoc</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>C</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ant_Seq_imp|fact"><span class="entity_def" id="PLPR.Ant_Seq_imp|thm"><span>Ant_Seq_imp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹General Annotationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A pure syntactical tag, maybe used to divide spaces of reasoning rules for specific sorts
  of reasoning tasks. Specifically, a reasoning rule tagged by a specific tag, may be used
  exclusively in specific reasoning mechanism.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.arity_type_action|fact"><span class="entity_def" id="PLPR.arity_type_action|thm"><span class="entity_def" id="PLPR.arity_type_action|axiom"><span>typedecl</span></span></span></span></span></span><span> </span><span class="entity_def" id="PLPR.action|type"><span>action</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Action_Tag_def|fact"><span class="entity_def" id="PLPR.Action_Tag_def|thm"><span class="entity_def" id="PLPR.Action_Tag_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Action_Tag|const"><span>Action_Tag</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword3"><span>/ </span></span><span class="keyword1"><span>@tag</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>9</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span> 9</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Action_Tag</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Meta_Tag_def|fact"><span class="entity_def" id="PLPR.Meta_Tag_def|thm"><span class="entity_def" id="PLPR.Meta_Tag_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Meta_Tag|const"><span>Meta_Tag</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword3"><span>/ </span></span><span class="keyword1"><span>@tag''</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>9</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span> 9</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Meta_Tag</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Action_Tag_I|fact"><span class="entity_def" id="PLPR.Action_Tag_I|thm"><span>Action_Tag_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Action_Tag_E|fact"><span class="entity_def" id="PLPR.Action_Tag_E|thm"><span>Action_Tag_E</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/syntax/action_tag.ML.html"><span>â€¹library/syntax/action_tag.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹General Modeâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Modes are general annotations used in various antecedents, which may configure
  for the specific reasoning behavior among slight different options.
  The exact meaning of them depend on the specific antecedent using them.
  An example can be found in \cref{sec:proof-obligation}.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="PLPR.mode|type"><span>mode</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We provide a serial of predefined modes, which may be commonly useful.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.default|const"><span>default</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span>
       </span><span class="entity_def" id="PLPR.\&lt;c&gt;\&lt;h&gt;\&lt;a&gt;\&lt;n&gt;\&lt;g&gt;\&lt;e&gt;\&lt;d&gt;|const"><span>ğ–¼ğ—ğ–ºğ—‡ğ—€ğ–¾ğ–½</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span>â€º</span></span></span><span>
       </span><span class="entity_def" id="PLPR.MODE_GUARD|const"><span>MODE_GUARD</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span> </span><span class="comment1"><span>â€• â€¹necessary condition for exploring a search branch, may instantiating the
                              goal but never instantiating the contextual premisesâ€º</span></span><span>
       </span><span class="entity_def" id="PLPR.NO_INST|const"><span>NO_INST</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹prohibiting instantiationâ€º</span></span><span>
       </span><span class="entity_def" id="PLPR.MODE_COLLECT|const"><span>MODE_COLLECT</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span> </span><span class="comment1"><span>â€• â€¹relating to collectionâ€º</span></span><span>
       </span><span class="entity_def" id="PLPR.MODE_AUTO|const"><span>MODE_AUTO</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span>â€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹something that will be triggered automaticallyâ€º</span></span><span> </span><span class="comment1"><span>(*deprecated!*)</span></span><span>
       </span><span class="entity_def" id="PLPR.MODE_SAFE|const"><span>MODE_SAFE</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—Œğ–ºğ–¿ğ–¾</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹simplification where only selected safe rules are applied.â€º</span></span><span>
       </span><span class="entity_def" id="PLPR.MODE_NO_INST_SAFE|const"><span>MODE_NO_INST_SAFE</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹simplification where only selected safe rules are applied.â€º</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Annotations for Proof Obligationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Premise_def|fact"><span class="entity_def" id="PLPR.Premise_def|thm"><span class="entity_def" id="PLPR.Premise_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Premise|const"><span>Premise</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></span><span>_</span><span class="keyword1"><span>]</span></span><span> _ "</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span>28</span><span class="main"><span>]</span></span><span> 27</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Premise</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>mode</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Normal_Premise|const"><span>Normal_Premise</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>28</span><span class="main"><span>]</span></span><span> 27</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Normal_Premise</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.default|const"><span>default</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Simp_Premise|const"><span>Simp_Premise</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>28</span><span class="main"><span>]</span></span><span> 27</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Simp_Premise</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_GUARD|const"><span>MODE_GUARD</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Proof_Obligation|const"><span>Proof_Obligation</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>28</span><span class="main"><span>]</span></span><span> 27</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Proof_Obligation</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_COLLECT|const"><span>MODE_COLLECT</span></a><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> wraps a boolean assertion for different roles in reasoning.

  </span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> is </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹guardâ€º</span></span></span><span> of a rule constraining whether the rule can be applied.
    The assertion </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> is attempted with a weak but safe solver (usually </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span>clarsimp</span></a><span class="antiquote"><span>}</span></span></span><span>) in order
    to prevent infinite loop on unprovable propositions which is clearly unexpected.
    Therefore, any rule protected by it is appliable only when the condition </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> is provable
    using the safe solver.

  </span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> reports a proof obligation, and the reasoning system moves </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> into the nearest
    </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span> which collects all reported obligations. The reasoning system never checks
    the validity of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> but simply report it by moving, and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span> typically presented
    after </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span> should never occur during the reasoning process because they are goals left to
    users. There is no way suspending the reasoning and asking users' intervention because there
    can be a lot of searching branches which do not always succeed in the end, so we just collect
    the proof obligations and store it somewhere in the final result of the reasoning.
â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Basic Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_I|fact"><span class="entity_def" id="PLPR.Premise_I|thm"><span>Premise_I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_D|fact"><span class="entity_def" id="PLPR.Premise_D|thm"><span>Premise_D</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_E|fact"><span class="entity_def" id="PLPR.Premise_E|thm"><span>Premise_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_const_True|fact"><span class="entity_def" id="PLPR.Premise_const_True(6)|thm"><span class="entity_def" id="PLPR.Premise_const_True(5)|thm"><span class="entity_def" id="PLPR.Premise_const_True(4)|thm"><span class="entity_def" id="PLPR.Premise_const_True(3)|thm"><span class="entity_def" id="PLPR.Premise_const_True(2)|thm"><span class="entity_def" id="PLPR.Premise_const_True(1)|thm"><span>Premise_const_True</span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_INST|const"><span>NO_INST</span></a><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_NO_INST_SAFE|const"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_norm|fact"><span class="entity_def" id="PLPR.Premise_norm(3)|thm"><span class="entity_def" id="PLPR.Premise_norm(2)|thm"><span class="entity_def" id="PLPR.Premise_norm(1)|thm"><span>Premise_norm</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_obligations|fact"><span class="entity_def" id="PLPR.contract_obligations|thm"><span>contract_obligations</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode'</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹User Input of Termsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.ParamTag_def|fact"><span class="entity_def" id="PLPR.ParamTag_def|thm"><span class="entity_def" id="PLPR.ParamTag_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.ParamTag|const"><span>ParamTag</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 26</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span class="free"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></a></span><span> </span><span class="free"><span>x</span></span><span>â€º</span></span></span><span> asks users to input some term that matches pattern </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>x</span></span><span>â€º</span></span></span><span>.
  Ï†-Processor `set_param` processes this antecedent.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.ParamTag|fact"><span class="entity_def" id="PLPR.ParamTag|thm"><span>ParamTag</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag_def|fact"><span>ParamTag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.TrueI|fact"><span>TrueI</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹Disable simplification on parametersâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/syntax/param.ML.html"><span>â€¹library/syntax/param.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹User Input of Facts or Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Argument_def|fact"><span class="entity_def" id="PLPR.Argument_def|thm"><span class="entity_def" id="PLPR.Argument_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Argument|const"><span>Argument</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—ğ—Œğ–¾ğ—‹</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>11</span><span class="main"><span>]</span></span><span> 10</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Argument</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Argument_I|fact"><span class="entity_def" id="PLPR.Argument_I|thm"><span>Argument_I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument|const"><span>Argument</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument_def|fact"><span>Argument_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument|const"><span>ğ—ğ—Œğ–¾ğ—‹</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> represents the wrapped antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  is intended to be given or solved by users. Different with </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span> where
  boolean </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span> is a pure assertion being a verification condition,
  the wrapped </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> is a judgement in the programming, such as a transformation of abstraction
  or a view shift or any others representing specific properties.

  In addition, </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument|const"><span>ğ—ğ—Œğ–¾ğ—‹</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> suppresses any attempts from the automatic reasoner. </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  will be protected as intact.
â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pended Goalsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Do_def|fact"><span class="entity_def" id="PLPR.Do_def|thm"><span class="entity_def" id="PLPR.Do_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Do|const"><span>Do</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ–½ğ—ˆ</span></span><span> _"</span></span><span>   </span><span class="main"><span>[</span></span><span>3</span><span class="main"><span>]</span></span><span> 2</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Do</span></span><span>  </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In a rule, </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> annotates the antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> is a reasoning task as a result
obtained from the reasoning, instead of a prerequisite condition of applying the rule.
During the reasoning process,

</span><span class="antiquoted"><span>â–ª</span></span><span> once it encounters an antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> not wrapped by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ–½ğ—ˆâ€º</span></span></span><span>, </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> is evaluated immediately
  and once it fails the search branch backtracks;

</span><span class="antiquoted"><span>â–ª</span></span><span> by contrast, once it encounters an antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> wrapped by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ–½ğ—ˆâ€º</span></span></span><span>, it means an obtained
  reasoning obligation as an outcome of the reasoning,
  just like </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> meaning an extracted verification condition.
  So conforming to </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>, no immediate reasoning work is invoked and the antecedent
  is returned and is given before the </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">schematic_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="main"><span>â€¦</span></span><span>â€º</span></span></span><span> in order,
  as an outcome of the reasoning,.

  For example, if during a reasoning process, two </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A1</span></span><span>â€º</span></span></span><span> and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A2</span></span><span>â€º</span></span></span><span> are encountered in
  order, and if the reasoning succeeds, the final outcome would be
  \[ </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">schematic_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A1</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="free"><span>A2</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="main"><span>â€¦</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Conclusion</span></span><span>â€º</span></span></span><span> \]
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Do_I|fact"><span class="entity_def" id="PLPR.Do_I|thm"><span>Do_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_def|fact"><span>Do_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Do_D|fact"><span class="entity_def" id="PLPR.Do_D|thm"><span>Do_D</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_def|fact"><span>Do_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/syntax/pended_goals.ML.html"><span>â€¹library/syntax/pended_goals.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹NO_SIMPâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.NO_SIMP_def|fact"><span class="entity_def" id="PLPR.NO_SIMP_def|thm"><span class="entity_def" id="PLPR.NO_SIMP_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.NO_SIMP|const"><span>NO_SIMP</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>NO_SIMP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹to prevent simplification on the inner termsâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.NO_SIMP&apos;_def|fact"><span class="entity_def" id="PLPR.NO_SIMP&apos;_def|thm"><span class="entity_def" id="PLPR.NO_SIMP&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>NO_SIMP'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>::</span></span><span>prop</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.NO_SIMP_cong|fact"><span class="entity_def" id="PLPR.NO_SIMP_cong|thm"><span>NO_SIMP_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.NO_SIMP&apos;_cong|fact"><span class="entity_def" id="PLPR.NO_SIMP&apos;_cong|thm"><span>NO_SIMP'_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.NO_SIMP_I|fact"><span class="entity_def" id="PLPR.NO_SIMP_I|thm"><span>NO_SIMP_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP_def|fact"><span>NO_SIMP_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.NO_SIMP&apos;_I|fact"><span class="entity_def" id="PLPR.NO_SIMP&apos;_I|thm"><span>NO_SIMP'_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;_def|fact"><span>NO_SIMP'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"_Let_NS"</span></span><span>      </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>letbinds</span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>                </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span class="keyword1"><span>let<span class="hidden">â‡©</span><sub>n</sub><span class="hidden">â‡©</span><sub>o</sub><span class="hidden">â‡©</span><sub>-</sub><span class="hidden">â‡©</span><sub>s</sub><span class="hidden">â‡©</span><sub>i</sub><span class="hidden">â‡©</span><sub>m</sub><span class="hidden">â‡©</span><sub>p</sub></span></span><span> </span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword3"><span>/ </span></span><span class="keyword1"><span>in</span></span><span> </span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>0</span><span class="main"><span>,</span></span><span> 10</span><span class="main"><span>]</span></span><span> 10</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"_Let_NS </span><span class="main"><span>(</span></span><span>_binds </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>e</span></span><span>"</span></span><span>  </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="quoted"><span>"_Let_NS </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span>_Let_NS </span><span class="free"><span>bs</span></span><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><span class="keyword1"><span>let<span class="hidden">â‡©</span><sub>n</sub><span class="hidden">â‡©</span><sub>o</sub><span class="hidden">â‡©</span><sub>-</sub><span class="hidden">â‡©</span><sub>s</sub><span class="hidden">â‡©</span><sub>i</sub><span class="hidden">â‡©</span><sub>m</sub><span class="hidden">â‡©</span><sub>p</sub></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="free"><span>e</span></span><span>"</span></span><span>        </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>Let</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>e</span></span><span class="main"><span>)</span></span><span>"</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Annotation Distinguishing IN-Argument \&amp; OUT-Argumentâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Schematic variables in the conclusion of a reasoning rule falls into two sorts, </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹IN-Argumentâ€º</span></span></span><span>
  and </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹OUT-Argumentâ€º</span></span></span><span>, in which the former accepts (by instantiating to) arguments given from the
  reasoning goal to be solved, and therefore should be considered fixed,
  whereas the later assigns result to the reasoning goal (by instantiating the schematic variable
  of the goal), and therefore can be freely instantiated. â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.With_IN_Arg_def|fact"><span class="entity_def" id="PLPR.With_IN_Arg_def|thm"><span class="entity_def" id="PLPR.With_IN_Arg_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.With_IN_Arg|const"><span>With_IN_Arg</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;with-IN-arg&gt;</span></span><span>"</span></span><span> 4</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>With_IN_Arg</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>prop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_IN_Arg|const"><span>&lt;with-IN-arg&gt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>prop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_IN_Arg|const"><span>&lt;with-IN-arg&gt;</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_IN_Arg|const"><span>&lt;with-IN-arg&gt;</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.With_IN_Arg_I|fact"><span class="entity_def" id="PLPR.With_IN_Arg_I|thm"><span>With_IN_Arg_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_IN_Arg|const"><span>&lt;with-IN-arg&gt;</span></a></span><span> </span><span class="free"><span>x</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_IN_Arg_def|fact"><span>With_IN_Arg_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/syntax/with_IN_arg.ML.html"><span>â€¹library/syntax/with_IN_arg.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Embedded Pattern Annotationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Sometimes, especially for rule generated from template instantiation, giving patterns in the
  proposition of the rule (template) can be useful as the embedded patterns are instantiated together
  with instantiating the rule template.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.With_Pattern_def|fact"><span class="entity_def" id="PLPR.With_Pattern_def|thm"><span class="entity_def" id="PLPR.With_Pattern_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.With_Pattern|const"><span>With_Pattern</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;with-pattern&gt;</span></span><span>"</span></span><span> 4</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>With_Pattern</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Prop</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Pattern</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Prop</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Except_Pattern_def|fact"><span class="entity_def" id="PLPR.Except_Pattern_def|thm"><span class="entity_def" id="PLPR.Except_Pattern_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Except_Pattern|const"><span>Except_Pattern</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;except-pattern&gt;</span></span><span>"</span></span><span> 4</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Except_Pattern</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Prop</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Pattern</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Prop</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.With_Pattern_I|fact"><span class="entity_def" id="PLPR.With_Pattern_I|thm"><span>With_Pattern_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_Pattern|const"><span>With_Pattern</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>pat</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.With_Pattern_def|fact"><span>With_Pattern_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Except_Pattern_I|fact"><span class="entity_def" id="PLPR.Except_Pattern_I|thm"><span>Except_Pattern_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Except_Pattern|const"><span>Except_Pattern</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>pat</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Except_Pattern_def|fact"><span>Except_Pattern_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/syntax/embedded_pattern.ML.html"><span>â€¹library/syntax/embedded_pattern.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/helpers0.ML.html"><span>â€¹library/helpers0.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Meta Ballâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.meta_Ball_def|fact"><span class="entity_def" id="PLPR.meta_Ball_def|thm"><span class="entity_def" id="PLPR.meta_Ball_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.meta_Ball|const"><span>meta_Ball</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>meta_Ball</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.meta_case_prod_def|fact"><span class="entity_def" id="PLPR.meta_case_prod_def|thm"><span class="entity_def" id="PLPR.meta_case_prod_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.meta_case_prod|const"><span>meta_case_prod</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>Ã—</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>meta_case_prod</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"_meta_Ball"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>pttrn</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(3</span></span><span class="keyword1"><span>â‹€</span></span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>/</span></span><span class="keyword1"><span>âˆˆ</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span>.</span></span><span class="keyword3"><span>/ </span></span><span>_</span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>0</span><span class="main"><span>,</span></span><span> 0</span><span class="main"><span>,</span></span><span> 0</span><span class="main"><span>]</span></span><span> 0</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"_meta_Ball </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span class="free"><span>z</span></span><span class="main"><span>,</span></span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span class="main"><span>,</span></span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span class="free"><span>zs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>â‡Œ</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>aprop</span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="free"><span>y</span></span><span> </span><span class="free"><span>zs</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Basic Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹meta_Ballâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_Ball_I|fact"><span class="entity_def" id="PLPR.meta_Ball_I|thm"><span>meta_Ball_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_Ball_reduct|fact"><span class="entity_def" id="PLPR.meta_Ball_reduct|thm"><span>meta_Ball_reduct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_Ball_sing|fact"><span class="entity_def" id="PLPR.meta_Ball_sing|thm"><span>meta_Ball_sing</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>y</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.atomize_Ball|fact"><span class="entity_def" id="PLPR.atomize_Ball|thm"><span>atomize_Ball</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>Ball</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ball_for_reason|fact"><span class="entity_def" id="PLPR.Ball_for_reason|thm"><span>Ball_for_reason</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>âˆ€</span></span><span class="bound"><span>x</span></span><span class="main"><span>âˆˆ</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>âˆˆ</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball_def|fact"><span>Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_Ball_pair|fact"><span class="entity_def" id="PLPR.meta_Ball_pair|thm"><span>meta_Ball_pair</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>y</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod_def|fact"><span>meta_case_prod_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Ball_pair|fact"><span class="entity_def" id="PLPR.Ball_pair|thm"><span>Ball_pair</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>âˆ€</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>âˆ€</span></span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>y</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹meta_case_prodâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.atomize_case_prod|fact"><span class="entity_def" id="PLPR.atomize_case_prod|thm"><span>atomize_case_prod</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod_def|fact"><span>meta_case_prod_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_case_prod_simp|fact"><span class="entity_def" id="PLPR.meta_case_prod_simp|thm"><span>meta_case_prod_simp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod_def|fact"><span>meta_case_prod_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.meta_case_prod_simp&apos;|fact"><span class="entity_def" id="PLPR.meta_case_prod_simp&apos;|thm"><span>meta_case_prod_simp'</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod|const"><span>meta_case_prod</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_case_prod_def|fact"><span>meta_case_prod_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹ML Libraries - IIâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/helpers01.ML.html"><span>â€¹library/tools/helpers01.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/helpers.ML.html"><span>â€¹library/helpers.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/Hook.ML.html"><span>â€¹library/tools/Hook.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/handlers.ML.html"><span>â€¹library/handlers.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/term_pattern_store.ML.html"><span>â€¹library/tools/term_pattern_store.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/type_pattern_store.ML.html"><span>â€¹library/tools/type_pattern_store.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/pattern_translation.ML.html"><span>â€¹library/pattern_translation.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simpset.ML.html"><span>â€¹library/tools/simpset.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Setup Simpsetâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.simp_thms|fact"><span>HOL.simp_thms</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simpset.ML.html#PLPR.\&lt;phi&gt;safe_simp|attribute"><span class="operator"><span>Ï†safe_simp</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simpset.ML.html#PLPR.\&lt;phi&gt;safe_simp|attribute"><span class="operator"><span>Ï†safe_simp</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.right_neutral|fact"><span>append.right_neutral</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.left_neutral|fact"><span>append.left_neutral</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append.append_Cons|fact"><span>append_Cons</span></a><span>
  </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.fst_conv|fact"><span>fst_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.snd_conv|fact"><span>snd_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case|fact"><span>prod.case</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id_apply|fact"><span>id_apply</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.o_apply|fact"><span>o_apply</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Isomorphic Atomizeâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The system </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Object_Logic.atomizeâ€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Object_Logic.rulifyâ€º</span></span></span><span> is not isomorphic in the sense
  that for any given rule </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Râ€º</span></span></span><span>, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Object_Logic.rulify (Object_Logic.atomize R)â€º</span></span></span><span> does not exactly
  equal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Râ€º</span></span></span><span>. The section gives a way addressing this issue.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html"><span>â€¹library/iso_atomize.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Predefined Embeddingâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.pure_imp_embed_def|fact"><span class="entity_def" id="PLPR.pure_imp_embed_def|thm"><span class="entity_def" id="PLPR.pure_imp_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.pure_imp_embed|const"><span>pure_imp_embed</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>(âŸ¶)</span></a></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.pure_all_embed_def|fact"><span class="entity_def" id="PLPR.pure_all_embed_def|thm"><span class="entity_def" id="PLPR.pure_all_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.pure_all_embed|const"><span>pure_all_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span>âˆ€<span class="hidden">â‡©</span><sub>e</sub><span class="hidden">â‡©</span><sub>m</sub><span class="hidden">â‡©</span><sub>b</sub><span class="hidden">â‡©</span><sub>e</sub><span class="hidden">â‡©</span><sub>d</sub></span></span><span> â€º</span></span><span> 10</span><span class="main"><span>)</span></span><span>
    </span><span class="comment1"><span>â€• â€¹We give it a binder syntax to prevent eta-contraction which
        deprives names of quantifier variablesâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>pure_all_embed</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>All</span></a><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.pure_conj_embed_def|fact"><span class="entity_def" id="PLPR.pure_conj_embed_def|thm"><span class="entity_def" id="PLPR.pure_conj_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.pure_conj_embed|const"><span>pure_conj_embed</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(âˆ§)</span></a></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.pure_prop_embed_def|fact"><span class="entity_def" id="PLPR.pure_prop_embed_def|thm"><span class="entity_def" id="PLPR.pure_prop_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.pure_prop_embed|const"><span>pure_prop_embed</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.pure_eq_embed_def|fact"><span class="entity_def" id="PLPR.pure_eq_embed_def|thm"><span class="entity_def" id="PLPR.pure_eq_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.pure_eq_embed|const"><span>pure_eq_embed</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_eq_embed|const"><span>pure_eq_embed</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>Y</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_eq_embed_def|fact"><span>pure_eq_embed_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_imp_embed|const"><span>pure_imp_embed</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_imp_embed_def|fact"><span>pure_imp_embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>&amp;&amp;&amp;</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_conj_embed|const"><span>pure_conj_embed</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_conj|fact"><span>atomize_conj</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_conj_embed_def|fact"><span>pure_conj_embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(*TODO: find a way to preserve the name*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_all_embed|const"><span>pure_all_embed</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_all_embed_def|fact"><span>pure_all_embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_prop_embed|const"><span>pure_prop_embed</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>Pure.prop_def</span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.pure_prop_embed_def|fact"><span>pure_prop_embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.atomize_Ball|fact"><span>atomize_Ball</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹ML Library - IIIâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.contract_obligations|fact"><span>contract_obligations</span></a><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/PLPR_Syntax0.ML.html"><span>â€¹library/PLPR_Syntax0.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Predefined Reasoner Groupsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Below we provide a set of predefined reasoner groups serving for default options of standalone
  rules which do not cooperate with other rules. The ranges of the default groups are narrow and any
  cooperating rules spanning a larger range of priorities should declare a specific group
  as they actually form a sub-system for a specific reasoning procedure.
  The preset also serves as a guideline configure suggesting users recommended allocation of priority space. â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>default</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>100</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>100</span><span class="main"><span>,</span></span><span>100</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
                           </span><span class="quoted"><span>â€¹The default priority of reasoning rulesâ€º</span></span><span>
                </span><span>cutting</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 1010</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
                           </span><span class="quoted"><span>â€¹Normal cutting rulesâ€º</span></span><span>
                </span><span>normalizing</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>2000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>2000</span><span class="main"><span>,</span></span><span>2010</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>cutting</span><span>
                           </span><span class="quoted"><span>â€¹Rules normaling reasoning goals and therefore of higher priority
                            than normal cutting rulesâ€º</span></span><span>
                </span><span>overriding</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>4000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>4000</span><span class="main"><span>,</span></span><span>4010</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>normalizing</span><span>
                           </span><span class="quoted"><span>â€¹Precedent rules overriding the normal process and may lead to faster
                            sucess or cut a wrong branch earlier4.â€º</span></span><span>
                </span><span>general</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>20</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>20</span><span class="main"><span>,</span></span><span>22</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
                          </span><span class="quoted"><span>â€¹Rules solving some problem generally, and maybe slowly, therefore of
                           low priority and expecting rules of higher priority can optimize the reasoning
                           on certain specific cases.â€º</span></span><span>
                </span><span>fail</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>0</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>0</span><span class="main"><span>,</span></span><span>0</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL|const"><span>TRACE_FAIL</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
                       </span><span class="quoted"><span>â€¹Rules reporting failuresâ€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Introductionâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/statistics.ML.html"><span>â€¹library/tools/statistics.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html"><span>â€¹library/reasoner.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/helpers1.ML.html"><span>â€¹library/tools/helpers1.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_I|fact"><span>ğ—‹Guard_I</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_I|fact"><span>Ant_Seq_I</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.TrueI|fact"><span>TrueI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
  Ï†-Logic Programming Reasoner is a extensible reasoning engine
  based on logic programming like Prolog.
  It allows arbitrary user reasoners to be integrated freely, and applies them selectively
  by matching the pattern of the goals.

  The reasoning is a depth-first heuristic search guided by </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹priorityâ€º</span></span></span><span> of each branch.
  A reasoning state is represented by a </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹pairâ€º</span></span></span><span> of </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Proof.contextâ€º</span></span></span><span> and a sequent, of type
  </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Proof.context * thmâ€º</span></span></span><span>.
  Search branches on a reasoning state are admissible reasoners on the sequent.
  A reasoner is admissible on a sequent if the sequent matches the pattern of the reasoner
  (cf. patterns in \cref{sec:patterns}).

  The reasoning accepts several reasoning states, and outputs </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹oneâ€º</span></span></span><span> reasoning state which is the
  first one satisfies the termination condition, </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹orâ€º</span></span></span><span> none if every search branches fail.

  The priorities of rules demonstrate which rules are better among admissible reasoners.
  The priority makes sense only locally, among all admissible reasoners on a reasoning state.
  The accumulation of priority values (i.e. the sum of the priority of all applied reasoners) of a
  reasoning state is meaningless and merely for debug-usage.
  Because it is a DFS, the first reached result is the optimal one w.r.t each search branches in a
  greedy sense. (the global maximum is senseless here because the priority accumulation is
  meaningless).

  The sequent of the reasoning state is a Harrop Formula (HF), e.g.,
  \[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Antecedent1 âŸ¹ Antecedent2 âŸ¹ Conclusionâ€º</span></span></span><span>, \]
  where antecedents represent sub-goals that have to be reasoned \textit{in order}.

  The \xphi-LPR engine reasons antecedents in order, invoking the reasoners that match the pattern
  of the leading antecedent best (cf. Priority).

  An antecedent can be augmented by conditions that can be utilized during the reasoning.
  It can also be universally quantified.
  \[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(â‹€x. P1 x âŸ¹ P2 x âŸ¹ Conclusion_of_Antecedent1 x) âŸ¹ A2 âŸ¹ Câ€º</span></span></span><span> \]

  A typically reasoner is to deduce the conclusion of the antecedent by applying an introduction
  rule like </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A11 x âŸ¹ A12 x âŸ¹ Conclusion_of_Antecedent1 xâ€º</span></span></span><span>, resulting in
  \[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(â‹€x. P1 x âŸ¹ P2 x âŸ¹ A11 x) âŸ¹ (â‹€x. P11 x âŸ¹ P12 x âŸ¹ A12 x) âŸ¹ A2 âŸ¹ Câ€º</span></span></span><span>. \]

  Then, the engine reasons the currently heading antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(â‹€x. P1 x âŸ¹ P2 x âŸ¹ A11 x)â€º</span></span></span><span>
  recursively. The antecedent list of a reasoning state resembles a calling stack of usual programs.
  From this perspective, the introduction rule of </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>Antecedent1</span></span><span>â€º</span></span></span><span> invokes two 'sub-routines'
  (or the reasoners of) </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A11</span></span><span>â€º</span></span></span><span> and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A22</span></span><span>â€º</span></span></span><span>.
  â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The Engine \&amp; The Conceptsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
The engine is implemented in </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹library/reasoner.MLâ€º</span></span></span><span>.

</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹structure Phi_Reasoner = struct

(*Reasoning state*)
type context_state = Proof.context * thm
type name = term (* the name as a term is just for pretty printing *)

val pattern_on_conclusion : term -&gt; pattern
val pattern_on_condition  : term -&gt; pattern

(*A reasoner is a quintuple*)
type reasoner = {
  name: name,
  pos: Position.T,
  pattern: pattern list,
  blacklist: pattern list,
  tactic: context_state -&gt; context_state Seq.seq
}

type priority = int
val add : priority * reasoner -&gt; Context.generic -&gt; Context.generic
val del : name -&gt; Context.generic -&gt; Context.generic
val reason : context_state -&gt; context_state option

val auto_level : int Config.T

exception Success of context_state
exception Global_Cut of context_state

...
end
â€º</span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Patterns \label{sec:patterns}â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
The </span><span class="antiquoted"><span class="operator"><span>â™</span></span><span class="plain_text"><span>â€¹patternâ€º</span></span></span><span> and the </span><span class="antiquoted"><span class="operator"><span>â™</span></span><span class="plain_text"><span>â€¹blacklistâ€º</span></span></span><span> stipulate the range in which a reasoner will be invoked.
A reasoner is invoked iff the antecedent matches at least one pattern in the pattern list and none
  in the blacklist.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
There are two kinds of patterns, that match on conclusion and that on condition, constructed by
</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹pattern_on_conclusionâ€º</span></span></span><span> and </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹pattern_on_conclusionâ€º</span></span></span><span> respectively.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span>â™</span></span><span class="plain_text"><span>â€¹Prefix </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹varâ€º</span></span></span><span>â€º</span></span></span><span>. A schematic variable in a pattern can have name prefix </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹var_â€º</span></span></span><span>.
In this case, the variable only matches schematic variables.

</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹Remarkâ€º</span></span></span><span>: It is important to write schematic variables in patterns explicitly. The engine
does not convert any free variables to schematic variables implicitly.â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Automatic Levelâ€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹by </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹auto_levelâ€º</span></span></span><span>
is a general configuration deciding whether the engine applies
  some aggressive tactics that may consume considerable time or never terminate.

There are 3 levels:
</span><span class="antiquoted"><span>â–¸</span></span><span>[0]: the most safe, which may mean manual mode for some reasoner.
      It does not exclude non-termination or blocking when some tactics are necessary for the
      features. Method </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><span>simp</span><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span>clarify</span></a><span class="antiquote"><span>}</span></span></span><span> are acceptable on this level.
</span><span class="antiquoted"><span>â–¸</span></span><span>[1]: relatively safe automation, where aggressive tactics are forbidden but non-termination is
  still possible. Method </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span>auto</span></a><span class="antiquote"><span>}</span></span></span><span> is forbidden in this level because it blocks too easily.
</span><span class="antiquoted"><span>â–¸</span></span><span>[2]: the most powerful automation, where no limitation is imposed on automation strategies.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Priority \label{sec:cut}â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹

The reasoning is a depth-first search and every reasoner is registered with a priority deciding
the order of attempting the reasoners. Reasoners with higher priority are attempted first.

According to the priority of reasoners, reasoners fall into 3 sorts corresponding to
different pruning optimization strategy.

</span><span class="antiquoted"><span>â–¸</span></span><span> When the priorities of the candidate reasoners on a certain reasoning state are all less than 1000,
  the reasoning works in the normal behavior where it attempts the highest candidate and once fails
  backtracks to the next candidate.

</span><span class="antiquoted"><span>â–¸</span></span><span> When the highest priority of the candidates $\geq$ 1000 and $&lt;$ than 1000,000,
  this candidate becomes a </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹local cutâ€º</span></span></span><span>. The reasoning attempts only the local cut and if it fails,
  no other candidates will be attempted, but the backtrack is still propagated to the upper layer
  (of the search tree).
  Any presence of a candidate with priority $\geq$ 1000, causes the reasoning (at this point)
  is confident (in the sense that no alternative search branch will be attempted).

</span><span class="antiquoted"><span>â–¸</span></span><span> When the highest priority of the candidates $\geq$ 100,000,
  this candidate becomes a </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹global cutâ€º</span></span></span><span>, which forgets all the previous search history.
  No backtrack will be propagated to the past before the global cut so it improves the performance.
  Once the reasoning of the branch of the cut fails, the whole reasoning fails.

Reasoners of priority $\geq$ 1000 are named </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹confident reasonersâ€º</span></span></span><span> and others are
</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹submissive reasonersâ€º</span></span></span><span>.

</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹Remarkâ€º</span></span></span><span>: a local cut reasoner can throw </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Global_Cut sâ€º</span></span></span><span> to trigger a global cut with the
  reasoning state </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹sâ€º</span></span></span><span>.

â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Terminationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The reasoning terminates when:

</span><span class="antiquoted"><span>â–ª</span></span><span> Any reasoning state has no antecedent any more or all its designated leading
    antecedents are solved. This reasoning state is returned.
</span><span class="antiquoted"><span>â–ª</span></span><span> Any reasoner throws </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Success resultâ€º</span></span></span><span>.
</span><span class="antiquoted"><span>â–ª</span></span><span> All accessible search paths are traversed.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span> is an antecedent that throws </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Successâ€º</span></span></span><span>.
Therefore it remarks the reasoning is succeeded.
A typical usage of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span> is shown in the following sequent,
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A1 âŸ¹ A2 âŸ¹ ğ—‹Success âŸ¹ P âŸ¹ Qâ€º</span></span></span><span> \]
which expresses the reasoning succeeds after solving </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A1</span></span><span>â€º</span></span></span><span>, </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A2</span></span><span>â€º</span></span></span><span>, and it outputs
  result </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pure.prop Pâ€º</span></span></span><span> is helpful to protect remaining antecedents if you only want to reason
  the beginning several antecedents instead of all antecedents, e.g.,
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Solve_A1 âŸ¹ Pure.prop (Protect_A2 âŸ¹ C)â€º</span></span></span><span> \]â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Outputâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The output reasoning state can be:

</span><span class="antiquoted"><span>â–ª</span></span><span> The first traversed reasoning state that has no antecedent or all the designated leading
    antecedents are solved.
</span><span class="antiquoted"><span>â–ª</span></span><span> The </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹resultâ€º</span></span></span><span> threw out by </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Success resultâ€º</span></span></span><span>.

â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹If none of the above are reached during a reasoning process, the process returns nothing
  (</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Noneâ€º</span></span></span><span> or </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Seq.emptyâ€º</span></span></span><span>).
The reasoning only outputs </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹milestone statesâ€º</span></span></span><span> representing the problem is indeed solved partially
instead of any unfinished intermediate reasoning state.
Milestone states are explicitly annotated by user (e.g.,
  by antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Success</span></span><span>â€º</span></span></span><span> or by setting the priority to 1000,000).
Any other intermediate reasoning state is not considered a successfully finished state
so that is not outputted.â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Provide User Reasoners \&amp; Apply the Engineâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹\xphi-LPR can be augmented by user reasoners.
The system predefines a resolution based reasoner using introducing rules and elimination rules.
Other arbitrary reasoners can also be built from tactics or ML code.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoning by Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Attributes </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute_def</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> is provided for introducing resolution rules.

  \begin{matharray}{rcl}
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute_def</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> &amp; : &amp; </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>attributeâ€º</span></span></span><span>
  \end{matharray}

  \small
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">rail</span><span class="hidden">&gt;</span></span></span><span>â€¹
    </span><span class="keyword1"><span>@</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> (</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> add_rule</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'add'</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> add_rule</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'del'</span></span><span>)
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax_def</span></span><span> add_rule</span><span class="antiquote"><span>}</span></span></span><span class="keyword2"><span>:</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> priority</span><span class="antiquote"><span>}</span></span></span><span class="keyword3"><span>?</span></span><span>
    (</span><span class="inner_quoted"><span>'for'</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> patterns</span><span class="antiquote"><span>}</span></span></span><span>)</span><span class="keyword3"><span>?</span></span><span> (</span><span class="inner_quoted"><span>'except'</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> blacklist</span><span class="antiquote"><span>}</span></span></span><span>)</span><span class="keyword3"><span>?</span></span><span>
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax_def</span></span><span> priority</span><span class="antiquote"><span>}</span></span></span><span class="keyword2"><span>:</span></span><span> ((() </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'?'</span></span><span> </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'!'</span></span><span> </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'!!'</span></span><span> </span><span class="keyword3"><span>|</span></span><span> </span><span class="inner_quoted"><span>'default'</span></span><span>) </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> nat</span><span class="antiquote"><span>}</span></span></span><span>)
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax_def</span></span><span> patterns</span><span class="antiquote"><span>}</span></span></span><span class="keyword2"><span>:</span></span><span> (() </span><span class="keyword3"><span>+</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> term</span><span class="antiquote"><span>}</span></span></span><span>)
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax_def</span></span><span> blacklist</span><span class="antiquote"><span>}</span></span></span><span class="keyword2"><span>:</span></span><span> (() </span><span class="keyword3"><span>+</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> term</span><span class="antiquote"><span>}</span></span></span><span>)
  â€º</span></span><span>
  \normalsize

</span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span>~</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹addâ€º</span></span></span><span> declares reasoning rules used in Ï†-LPR.
  </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span>~</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹delâ€º</span></span></span><span> removes the reasoning rule.
  If no keyword </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹addâ€º</span></span></span><span> or </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹delâ€º</span></span></span><span> is given, </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹addâ€º</span></span></span><span> is the default option.

</span><span class="antiquoted"><span>â§</span></span><span> The </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> patterns</span><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> blacklist</span><span class="antiquote"><span>}</span></span></span><span> are that described in \cref{sec:patterns}.
  For introduction rules, the patterns and the blacklist match only the conclusion of the
  leading antecedent; for elimination rules, they match only the conditions of the
  leading antecedent.

  Patterns can be omitted. For introduction rule, the default pattern is the conclusion
  of the rule; for elimination rule, the default is the first premise.

</span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> priority</span><span class="antiquote"><span>}</span></span></span><span> is a natural number together with an option mode description.
  '!' means the rule is a local cut, '!!' is for global cut, '?' for the normal rule with backtrack.
  'default' is for those automatically generated rule able to be override by user easily.
  The default priority is 100 with backtrack.

  Once a rule is declared as 'default', it is only applied when there is no other applicable rules
  of higher priority, even when the application of the rules fails.
  When you declare a rule as 'default', you may ask yourself, if the users provide another rule of
  a higher priority, and the rule fails, is your rule still expected to be applied? If it is true,
  your rule should not be declared as 'default' but just a normal rule with backtrack.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹Remarkâ€º</span></span></span><span>: Rules of priority $\geq$ 1000 are named </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹confident rulesâ€º</span></span></span><span> and others are
</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹submissive rulesâ€º</span></span></span><span>.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹Remarkâ€º</span></span></span><span>: Attribute </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>attribute</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> can be used without any argument.
  </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹[[Ï†reason]]â€º</span></span></span><span> denotes </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹[[Ï†reason add]]â€º</span></span></span><span> exactly.
  However, the usage of empty arguments is not recommended
  due to technical reasons that in this case of empty argument
  the attribute cannot get the position of the associated reasoning rule, and
  this position is displayed in debug printing.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹â€º</span></span></span><span>Feasible \label{sec:rFeasible}â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Cut rules including local cut and global cut are those of priority $\geq$ 1000.
A cut rule can have at most one special </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Guardâ€º</span></span></span><span> antecedent at the leading position,
which determines the condition of the rule to be applied, e.g. the following rule can be applied
only if </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A1â€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A2â€º</span></span></span><span> are solvable.
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Guard (A1 &amp;&amp;&amp; A2) âŸ¹ A3 âŸ¹ Câ€º</span></span></span><span> \]
It provides a mechanism to constrain semantic conditions of applying the rule,
whereas the pattern matches mentioned earlier are only able to check the syntactical conditions.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoners by Isar Methods and ML codeâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
There are two commands defining reasoners, respectively by Eisbach expression and by ML code.

  \begin{matharray}{rcl}
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command_def</span></span><span> </span><span>Ï†reasoner</span><span class="antiquote"><span>}</span></span></span><span> &amp; : &amp; </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>local_theory â†’ local_theoryâ€º</span></span></span><span>\\
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command_def</span></span><span> </span><span>Ï†reasoner_ML</span><span class="antiquote"><span>}</span></span></span><span> &amp; : &amp; </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>local_theory â†’ local_theoryâ€º</span></span></span><span>\\
  \end{matharray}

  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">rail</span><span class="hidden">&gt;</span></span></span><span>â€¹
    </span><span class="keyword1"><span>@</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command</span></span><span> </span><span>Ï†reasoner</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> name</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> priority</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> patterns'</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="inner_quoted"><span>'='</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> Eisabach_method</span><span class="antiquote"><span>}</span></span></span><span>
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="keyword1"><span>@</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command</span></span><span> </span><span>Ï†reasoner_ML</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> name</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> priority</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> patterns'</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="inner_quoted"><span>'='</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> ML_code</span><span class="antiquote"><span>}</span></span></span><span>
    </span><span class="keyword2"><span>;</span></span><span>
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax_def</span></span><span> patterns'</span><span class="antiquote"><span>}</span></span></span><span class="keyword2"><span>:</span></span><span> </span><span class="inner_quoted"><span>'('</span></span><span> (</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> term</span><span class="antiquote"><span>}</span></span></span><span> </span><span class="keyword3"><span>+</span></span><span> </span><span class="inner_quoted"><span>'Â¦'</span></span><span>) </span><span class="inner_quoted"><span>')'</span></span><span>
  â€º</span></span><span>

</span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command</span></span><span> </span><span>Ï†reasoner</span><span class="antiquote"><span>}</span></span></span><span> defines a reasoner using an Eisabach expression. The Eisabach expression
  defines a proof method in Isabelle/Isar and this proof method is invoked on the leading antecedent
  as a sub-goal when </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> patterns'</span><span class="antiquote"><span>}</span></span></span><span> match.

</span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>command</span></span><span> </span><span>Ï†reasoner_ML</span><span class="antiquote"><span>}</span></span></span><span> defines a reasoner from ML code. The given code should be a ML function
  of type </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹context_state -&gt; context_state Seq.seqâ€º</span></span></span><span>, i.e., a contextual tactic.

â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Apply the Engineâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹There are two ways to use the reasoning engine, from ML code by using </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹Phi_Reasoner.reasonâ€º</span></span></span><span>,
and as a proof method.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Proof Methodâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
There are two commands defining reasoners, respectively by Eisbach expression and by ML code.

  \begin{matharray}{rcl}
    </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method_def</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|method"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> &amp; : &amp; </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>methodâ€º</span></span></span><span>\\
  \end{matharray}

  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">rail</span><span class="hidden">&gt;</span></span></span><span>â€¹
    </span><span class="keyword1"><span>@</span></span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|method"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span> (</span><span class="inner_quoted"><span>'add'</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> thms</span><span class="antiquote"><span>}</span></span></span><span>)</span><span class="keyword3"><span>?</span></span><span> (</span><span class="inner_quoted"><span>'del'</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>syntax</span></span><span> thms</span><span class="antiquote"><span>}</span></span></span><span>)</span><span class="keyword3"><span>?</span></span><span>
  â€º</span></span><span>

</span><span class="antiquoted"><span>â§</span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>method</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|method"><span>Ï†reason</span></a><span class="antiquote"><span>}</span></span></span><span>~</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹addâ€º</span></span></span><span>~</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>aâ€º</span></span></span><span>~</span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹delâ€º</span></span></span><span>~</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>bâ€º</span></span></span><span>
  applies Ï†-LPR on the proof state (which is a HHF sequent~\cite{isar-ref}).
  It means subgoals of the proof are regarded as antecedents and Ï†-LPR reasons them one by one
  in order.

  Optional modifier </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹addâ€º</span></span></span><span>~</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>aâ€º</span></span></span><span> adds introduction rules </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>aâ€º</span></span></span><span> temporarily with default patterns
  (the conclusion of the rule) and default priority (100).
  Modifier </span><span class="antiquoted"><span class="operator"><span>â–©</span></span><span class="raw_text"><span>â€¹delâ€º</span></span></span><span>~</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>bâ€º</span></span></span><span> removes introductions rules </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>bâ€º</span></span></span><span> temporarily.
  We do not provide modifiers to alter elimination rules now.
â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Predefined Antecedents, Reasoners, and Rulesâ€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Auxiliary Structures \&amp; Small Reasoning Proceduresâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Action (continued)â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In the reasoning, antecedents of the same form may have different purposes, e.g.,
  antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>P = ?Qâ€º</span></span></span><span> may except a complete simplification or numeric calculation only or any other
  specific conversion. Of different purposes, antecedents are expected to be processed by
  different reasoners. To achieves this, because the engine selects reasoners by syntactic pattern,
  this section proposes a general structure tagging the purpose of antecedents.

The purpose is denoted by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>actionâ€º</span></span></span><span> type, which is an unspecified type because it serves only for
  syntactic purpose.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹P @tag Aâ€ºâ€º</span></span></span><span> tags antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> by the specific purpose denoted by </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span>â€º</span></span></span><span>.

  The type variable </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="tfree"><span>'category</span></span><span>â€º</span></span></span><span> enables to classify actions by types and type classes.
  For example, some operation may be designed for any generic action </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?act :: (?'ty::cls) actionâ€º</span></span></span><span>
  that fall into class </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>clsâ€º</span></span></span><span>.

</span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹Comment: I am thinking this category type variable is a bad design because the indexing
  data structure (Net) we are using doesn't support type sort, causing this feature is actually
  not indexed at all, causing the reasoning here becomes searching one by one in linear time!
  Maybe classification should be done by some term-level structure. Let's think when have time!â€º</span></span></span><span>â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Action_Tag_D|fact"><span class="entity_def" id="PLPR.Action_Tag_D|thm"><span>Action_Tag_D</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Conv_Action_Tag_I|fact"><span class="entity_def" id="PLPR.Conv_Action_Tag_I|thm"><span>Conv_Action_Tag_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/action_tag.ML.html"><span>â€¹library/action_tag.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pended Goals (continued)â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/pended_goals.ML.html"><span>â€¹library/pended_goals.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Do_embed_def|fact"><span class="entity_def" id="PLPR.Do_embed_def|thm"><span class="entity_def" id="PLPR.Do_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Do_embed|const"><span>Do_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Do_embed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>Do</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_embed|const"><span>Do_embed</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_def|fact"><span>Do_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_embed_def|fact"><span>Do_embed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ParamTag</span></a></span><span> 1000 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>ğ—‰ğ–ºğ—‹ğ–ºğ—†</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span class="entity"><span>Phi_Reasoners.defer_param_antecedent</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument|const"><span>Argument</span></a></span><span> 1000 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Argument|const"><span>ğ—ğ—Œğ–¾ğ—‹</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span class="entity"><span>Phi_Reasoners.defer_antecedent</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>Do</span></a></span><span> 1200 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do|const"><span>ğ–½ğ—ˆ</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="var"><span>?P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span class="entity"><span>Phi_Reasoners.defer_antecedent</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Atomizationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Atomize_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Atomize_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Atomize_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Atomize</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P'</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P'</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Iso_Atomize_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Iso_Atomize_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Iso_Atomize_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Iso_Atomize|const"><span>ğ—‹Iso_Atomize</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Iso_Atomize</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P'</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P'</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Conv.gconv_rule</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.hhf_concl_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                </span><span>Conv.arg1_conv</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.atomize_conv</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma'</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize_def|fact"><span>ğ—‹Atomize_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Iso_Atomize|const"><span>ğ—‹Iso_Atomize</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Conv.gconv_rule</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.hhf_concl_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                </span><span>Conv.arg1_conv</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.iso_atomize_conv</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma'</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize_def|fact"><span>ğ—‹Atomize_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span> â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reduce trivial higher-order variable who applies to constantâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable_def|fact"><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable_def|thm"><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Reduce_HO_trivial_variable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable_I|fact"><span class="entity_def" id="PLPR.Reduce_HO_trivial_variable_I|thm"><span>Reduce_HO_trivial_variable_I</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable_def|fact"><span>Reduce_HO_trivial_variable_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Phi_Help.instantiate_higher_order_var_in_antecedents</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
                      </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable_I|fact"><span>Reduce_HO_trivial_variable_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Meta-Ball (continued)â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>meta_ball</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>50</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
                            </span><span class="quoted"><span>â€¹Cutting rules for meta bounded quantification (meta_Ball)â€º</span></span><span>
                </span><span>meta_ball_fallback</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>general</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>general</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>general</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>general</span><span>
                            </span><span class="quoted"><span>â€¹Slow but universal reasoning for meta bounded quantification (meta_Ball)â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Supporting Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.sing_times_sing|fact"><span class="entity_def" id="PLPR.sing_times_sing|thm"><span>sing_times_sing</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Times|const"><span>Ã—</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.sing_if|fact"><span class="entity_def" id="PLPR.sing_if|thm"><span>sing_if</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoning Ruleâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>meta_ball</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>y</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable_def|fact"><span>Reduce_HO_trivial_variable_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_pair|fact"><span>meta_Ball_pair</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><span>equal_elim_rule2</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>meta_ball</span><span class="main"><span class="main"><span>+</span></span></span><span>10</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ball_pair|fact"><span>Ball_pair</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffD2|fact"><span>iffD2</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>meta_ball</span><span class="main"><span class="main"><span>+</span></span></span><span>10</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>meta_ball</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize|const"><span>ğ—‹Atomize</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Any</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âˆˆ</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âˆª</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball_def|fact"><span>meta_Ball_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Atomize_def|fact"><span>ğ—‹Atomize_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>norm_hhf_eq</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>



</span><span class="comment1"><span>(*ML_file â€¹library/tools/case_prod_conv.MLâ€º *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="free"><span>meta_case_prod_in_meta_Ball</span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="main"><span>%</span></span><span>meta_ball_fallback</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.meta_Ball|const"><span>meta_Ball</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>Ball</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Conv.gconv_rule</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.hhf_concl_conv_no_ball</span></span><span>
                        </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.expand_meta_and_hol_ball</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Conv.all_conv</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Conv.all_conv</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="comment1"><span>(*fn ctxt =&gt;
                Conv.rewr_conv @{thm meta_Ball_def} then_conv
                Phi_Conv.prod_case_split_in_all_conv (K Conv.all_conv) ctxt
            *)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent'</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>

</span><span class="comment1"><span>(*
Ï†reasoner_ML case_prod_in_Ball !1 (â€¹Ball _ _â€º) = â€¹
  fn (_, (ctxt,sequent)) =&gt; Seq.make (fn () =&gt;
  let val sequent' = Conv.gconv_rule (Phi_Conv.hhf_concl_conv (fn ctxt =&gt;
                Conv.rewr_conv @{thm Ball_for_reason} then_conv
                Phi_Conv.prod_case_split_in_all_conv (K Conv.all_conv) ctxt
            ) ctxt) 1 sequent
   in SOME ((ctxt, sequent'), Seq.empty)
  end)
â€º
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ball_for_reason|fact"><span>Ball_for_reason</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Contextual Lemmataâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Useful_Thms</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Named_Thms</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>name</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">binding</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><span class="entity_def" id="PLPR.useful|attribute"><span class="entity_def" id="PLPR.useful|fact"><span>useful</span></span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>description</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="inner_quoted"><span>"theorems to be inserted in the automatic proving, \
        \having the same effect of using the @{command using} command."</span></span><span>
</span><span class="main"><span>)</span></span><span> â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Useful_Thms.setup</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Literal Booleansâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Literal_Boolean_def|fact"><span class="entity_def" id="PLPR.Literal_Boolean_def|thm"><span class="entity_def" id="PLPR.Literal_Boolean_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.Literal_Boolean|const"><span>Literal_Boolean</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>bool_ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Simplifier.simpset_of</span><span> </span><span class="main"><span>(</span></span><span>Proof_Context.init_global</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Thy_Info.get_theory</span></span><span> </span><span class="inner_quoted"><span>"HOL.HOL"</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean|const"><span>Literal_Boolean</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean|const"><span>Literal_Boolean</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sctxt</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Simplifier.put_simpset</span><span> </span><span class="entity"><span>bool_ss</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Conv.gconv_rule</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.hhf_concl_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>sctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                          </span><span class="entity"><span>HOLogic.Trueprop_conv</span></span><span> </span><span class="main"><span>(</span></span><span>Conv.arg_conv</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Simplifier.rewrite</span></span><span> </span><span class="entity"><span>sctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>sctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent'1</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*Trueprop*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*Literal_Boolean*)</span></span><span> </span><span>$</span><span> </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
            </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma'</span></span><span> </span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean|const"><span>Literal_Boolean</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean_def|fact"><span>Literal_Boolean_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span>
                         </span><span class="entity"><span>RS'</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent'1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
         </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>NONE</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹General Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span>â™</span></span><span class="plain_text"><span>â€¹Schematic variablesâ€º</span></span></span><span> are able to be instantiated (assigned) by reasoners.
 The instantiation of an schematic variable </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?vâ€º</span></span></span><span> updates all the occurrences of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?vâ€º</span></span></span><span> in the
  remaining sequent, and this instantion can be seen as assigning results of the execution of the
  antecedent.
For example,
 \[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>1 + 2 = ?result âŸ¹ Print ?result âŸ¹ Doneâ€º</span></span></span><span> \]
  the reasoning of antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>1 + 2 = ?resultâ€º</span></span></span><span> instantiates </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?resultâ€º</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>3â€º</span></span></span><span>, and results in
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Print 3 âŸ¹ Doneâ€º</span></span></span><span> \]
 If we regard the antecedent as a program (sub-routine),
 the schematic variables of the antecedent have a meaning of </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹outputâ€º</span></span></span><span>,
 and we name them </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹output variablesâ€º</span></span></span><span>.
â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Basic Reasoning Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>lambda_unify_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>40</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span> 70</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>LHS</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>RHS</span></span><span>â€º</span></span></span><span>
      </span><span class="quoted"><span>â€¹lambda unificationâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>lambda_unify__default</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>40</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>40</span><span class="main"><span>,</span></span><span> 40</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>lambda_unify_all</span><span> </span><span class="quoted"><span>â€¹system defaultâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>lambda_unify_high</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>60</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span> 70</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>lambda_unify_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>lambda_unify__default</span><span>
      </span><span class="quoted"><span>â€¹user rules of higher priority than the normal unification, used to override the default behaviorâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>lambda_unify_low</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>20</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span> 30</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>lambda_unify_all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>lambda_unify__default</span><span>
      </span><span class="quoted"><span>â€¹user rules of lower priority than the normal unification, used when the normal unification fails.â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span>conjunctionI</span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span>  </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.refl|fact"><span>HOL.refl</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>lambda_unify__default</span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>]</span></span><span>
        </span><span>Pure.reflexive</span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>lambda_unify__default</span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>Ï†LPR_imp</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>100</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span>â€¹Rules handling implifications, may involving different optimizations for specific casesâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.impI|fact"><span>impI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†LPR_imp</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>x = yâ€º</span></span></span><span> has a meaning of assignment, and is done by unificationâ€º</span></span></span><span>

</span><span class="comment1"><span>(*
text â€¹Meta-programming is feasible on Ï†-LPR.
The reasoning of an antecedent may generate dynamically another antecedent, and assign it to
an output variable of type <span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span>â€¹boolâ€º.

When multiple antecedents are going to be generated, it is
more efficient to contract them into one antecedent using conjunctions (e.g. â€¹A1 âˆ§ A2 âˆ§ A3 âˆ§ â‹¯â€º),
so they can be represented by one output variable of type <span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span>â€¹boolâ€º.

â€¹(âˆ§<span class="hidden">â‡©</span><sub>r</sub>)â€º and â€¹(âˆ€<span class="hidden">â‡©</span><sub>r</sub>)â€º are used to contract antecedents and embed universally quantified variables
respectively.
â€º

(*TODO: depreciate this!*)
definition Compact_Antecedent :: â€¹bool â‡’ bool â‡’ boolâ€º (infixr "âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>" 35)
  where [iff]: â€¹Compact_Antecedent = (âˆ§)â€º

definition Compact_Forall :: â€¹('a â‡’ bool) â‡’ boolâ€º (binder "âˆ€<span class="hidden">â‡©</span><sub>ğ—‹</sub>" 10)
  where [iff]: â€¹Compact_Forall = Allâ€º

text â€¹Assertive rules are given to unfold the compression and reason the antecedents in order.â€º

lemma [Ï†reason 1000]:
  â€¹P âŸ¹ Q âŸ¹ P âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub> Qâ€º
  unfolding Compact_Antecedent_def ..

lemma [Ï†reason 1000]:
  â€¹(â‹€x. P x) âŸ¹ âˆ€<span class="hidden">â‡©</span><sub>ğ—‹</sub>x. P xâ€º
  unfolding Compact_Forall_def ..
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Unificationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>lambda_unify_low</span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="var"><span class="var"><span class="var"><span>?var</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span>â€º</span></span></span></span></span><span>
                                      </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span>â€º</span></span></span></span></span><span>
                                      </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?var</span></span></span></span><span>â€º</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>lambda_unify_low</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>lambda_unify_low</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>lambda_unify_low</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>lambda_unify_low</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Matchesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>Matches</span></span><span> </span><span class="free"><span>pattern</span></span><span> </span><span class="free"><span>term</span></span><span>â€º</span></span></span><span> asserts </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>pattern</span></span><span>â€º</span></span></span><span> matches </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>term</span></span><span>â€º</span></span></span><span>;
  </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a><span> </span><span class="free"><span>pattern</span></span><span> </span><span class="free"><span>term</span></span><span>â€º</span></span></span><span> asserts </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>pattern</span></span><span>â€º</span></span></span><span> does not match </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>term</span></span><span>â€º</span></span></span><span>.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Matches_def|fact"><span class="entity_def" id="PLPR.Matches_def|thm"><span class="entity_def" id="PLPR.Matches_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Matches|const"><span>Matches</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Matches</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.NO_LAMBDA_CONVERTIBLE_def|fact"><span class="entity_def" id="PLPR.NO_LAMBDA_CONVERTIBLE_def|thm"><span class="entity_def" id="PLPR.NO_LAMBDA_CONVERTIBLE_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>NO_LAMBDA_CONVERTIBLE</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Matches_I|fact"><span class="entity_def" id="PLPR.Matches_I|thm"><span>Matches_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches|const"><span>Matches</span></a><span> </span><span class="free"><span>pattern</span></span><span> </span><span class="free"><span>term</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches_def|fact"><span>Matches_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches|const"><span>Matches</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches|const"><span>Matches</span></a><span> </span><span class="var"><span>?pattern</span></span><span> </span><span class="var"><span>?term</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches|const"><span>Matches</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>pattern</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>term</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>Pattern.matches</span><span> </span><span class="main"><span>(</span></span><span>Proof_Context.theory_of</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>pattern</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>term</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Matches_I|fact"><span>Matches_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.NO_MATCH_I|fact"><span class="entity_def" id="PLPR.NO_MATCH_I|thm"><span>NO_MATCH_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH_def|fact"><span>NO_MATCH_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a><span> </span><span class="var"><span>?A</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>a</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>th</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>Pattern.matches</span><span> </span><span class="main"><span>(</span></span><span>Proof_Context.theory_of</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>a</span></span><span class="main"><span>,</span></span><span class="entity"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>Seq.empty</span><span>
    </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_MATCH_I|fact"><span>NO_MATCH_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></a><span> </span><span class="var"><span>?A</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>a</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>th</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>Phi_Help.beta_eta_contract_term</span></span><span> </span><span class="entity"><span>a</span></span><span> </span><span>aconv</span><span> </span><span class="entity"><span>Phi_Help.beta_eta_contract_term</span></span><span> </span><span class="entity"><span>b</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>Seq.empty</span><span>
    </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>lemma'</span></span><span> </span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span><span> </span><span class="quasi_keyword"><span>by</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE_def|fact"><span>NO_LAMBDA_CONVERTIBLE_def</span></a><span class="main"><span>)</span></span><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Proof By Assumptionâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.By_Assumption_def|fact"><span class="entity_def" id="PLPR.By_Assumption_def|thm"><span class="entity_def" id="PLPR.By_Assumption_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.By_Assumption|const"><span>By_Assumption</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>By_Assumption</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.May_By_Assumption_def|fact"><span class="entity_def" id="PLPR.May_By_Assumption_def|thm"><span class="entity_def" id="PLPR.May_By_Assumption_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.May_By_Assumption|const"><span>May_By_Assumption</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>May_By_Assumption</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.By_Assumption_I|fact"><span class="entity_def" id="PLPR.By_Assumption_I|thm"><span>By_Assumption_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.By_Assumption|const"><span>By_Assumption</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.By_Assumption_def|fact"><span>By_Assumption_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.May_By_Assumption_I|fact"><span class="entity_def" id="PLPR.May_By_Assumption_I|thm"><span>May_By_Assumption_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.May_By_Assumption|const"><span>May_By_Assumption</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.May_By_Assumption_def|fact"><span>May_By_Assumption_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.By_Assumption|const"><span>By_Assumption</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.By_Assumption|const"><span>By_Assumption</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>Tactic.assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.By_Assumption_I|fact"><span>By_Assumption_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
      </span><span>|&gt;</span><span> </span><span>Seq.map</span><span> </span><span class="main"><span>(</span></span><span>pair</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.May_By_Assumption|const"><span>May_By_Assumption</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.May_By_Assumption|const"><span>May_By_Assumption</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.May_By_Assumption_I|fact"><span>May_By_Assumption_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="main"><span>(</span></span><span>HEADGOAL</span><span> </span><span class="main"><span>(</span></span><span>Tactic.assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span>ORELSE</span><span> </span><span>Seq.single</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>sequent'</span></span><span>
        </span><span>|&gt;</span><span> </span><span>Seq.map</span><span> </span><span class="main"><span>(</span></span><span>pair</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Cutâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The cuts have been introduced in \cref{sec:cut}.

Antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Cutâ€º</span></span></span><span> triggers a global cut.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Cut_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Cut_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Cut_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Cut|const"><span>ğ—‹Cut</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Cut</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Cut|const"><span>ğ—‹Cut</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Cut_def|fact"><span>ğ—‹Cut_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span> terminates the reasoning successfully with the reasoning state as
the result.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Success_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Success_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Success_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Success</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;Success_I|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Success_I|thm"><span>ğ—‹Success_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success_def|fact"><span>ğ—‹Success_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span class="entity"><span>Phi_Reasoner.Success</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success_I|fact"><span>ğ—‹Success_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Environment Variablesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Push_Envir_Var_def|fact"><span class="entity_def" id="PLPR.Push_Envir_Var_def|thm"><span class="entity_def" id="PLPR.Push_Envir_Var_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Push_Envir_Var|const"><span>Push_Envir_Var</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'name</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Push_Envir_Var</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Name</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Val</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Pop_Envir_Var_def|fact"><span class="entity_def" id="PLPR.Pop_Envir_Var_def|thm"><span class="entity_def" id="PLPR.Pop_Envir_Var_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Pop_Envir_Var|const"><span>Pop_Envir_Var</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'name</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Pop_Envir_Var</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Name</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Get_Envir_Var_def|fact"><span class="entity_def" id="PLPR.Get_Envir_Var_def|thm"><span class="entity_def" id="PLPR.Get_Envir_Var_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Get_Envir_Var|const"><span>Get_Envir_Var</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'name</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Get_Envir_Var</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Name</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Return</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Get_Envir_Var&apos;_def|fact"><span class="entity_def" id="PLPR.Get_Envir_Var&apos;_def|thm"><span class="entity_def" id="PLPR.Get_Envir_Var&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Get_Envir_Var&apos;|const"><span>Get_Envir_Var'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'name</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Get_Envir_Var'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Name</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Default</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Return</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/envir_var.ML.html"><span>â€¹library/envir_var.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Push_Envir_Var_I|fact"><span class="entity_def" id="PLPR.Push_Envir_Var_I|thm"><span>Push_Envir_Var_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Push_Envir_Var|const"><span>Push_Envir_Var</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="free"><span>V</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Push_Envir_Var_def|fact"><span>Push_Envir_Var_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Pop_Envir_Var_I|fact"><span class="entity_def" id="PLPR.Pop_Envir_Var_I|thm"><span>Pop_Envir_Var_I</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Pop_Envir_Var|const"><span>Pop_Envir_Var</span></a><span> </span><span class="free"><span>N</span></span><span>â€º</span></span></span><span>    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Pop_Envir_Var_def|fact"><span>Pop_Envir_Var_def</span></a><span>  </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Get_Envir_Var_I|fact"><span class="entity_def" id="PLPR.Get_Envir_Var_I|thm"><span>Get_Envir_Var_I</span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var|const"><span>Get_Envir_Var</span></a><span>  </span><span class="free"><span>N</span></span><span> </span><span class="free"><span>V</span></span><span>â€º</span></span></span><span>   </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var_def|fact"><span>Get_Envir_Var_def</span></a><span>  </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Get_Envir_Var&apos;_I|fact"><span class="entity_def" id="PLPR.Get_Envir_Var&apos;_I|thm"><span>Get_Envir_Var'_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var&apos;|const"><span>Get_Envir_Var'</span></a><span> </span><span class="free"><span>N</span></span><span> </span><span class="free"><span>D</span></span><span> </span><span class="free"><span>V</span></span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'v</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var&apos;_def|fact"><span>Get_Envir_Var'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Push_Envir_Var|const"><span>Push_Envir_Var</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Push_Envir_Var|const"><span>Push_Envir_Var</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>maxidx_of_term</span><span> </span><span class="entity"><span>V</span></span><span> </span><span>&lt;&gt;</span><span> </span><span class="inner_numeral"><span>~1</span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>warning</span><span> </span><span class="inner_quoted"><span>"PLPR Envir Var: The value to be assigned has schematic variables \
                           \which will not be retained!"</span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Context.proof_map</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.push</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.name_of</span></span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
            </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Push_Envir_Var_I|fact"><span>Push_Envir_Var_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
      </span><span>Seq.empty</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Pop_Envir_Var|const"><span>Pop_Envir_Var</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Pop_Envir_Var|const"><span>Pop_Envir_Var</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span> </span><span>Context.proof_map</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.pop</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.name_of</span></span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
              </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Pop_Envir_Var_I|fact"><span>Pop_Envir_Var_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
      </span><span>Seq.empty</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var|const"><span>Get_Envir_Var</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var|const"><span>Get_Envir_Var</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>idx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.maxidx_of</span><span> </span><span class="entity"><span>sequent</span></span><span> </span><span>+</span><span> </span><span class="inner_numeral"><span>1</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>PLPR_Env.get</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.name_of</span></span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Context.Proof</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>NONE</span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Phi_Reasoner.error</span></span><span>
                      </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"No enviromental variable "</span></span><span> </span><span>^</span><span> </span><span class="entity"><span>PLPR_Env.name_of</span></span><span> </span><span class="entity"><span>N</span></span><span> </span><span>^</span><span> </span><span class="inner_quoted"><span>" is set"</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><span>|</span></span><span> </span><span>SOME</span><span> </span><span class="entity"><span>V'</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.incr_indexes_cterm</span><span> </span><span class="entity"><span>idx</span></span><span> </span><span class="main"><span>(</span></span><span>Thm.cterm_of</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>V'</span></span><span class="main"><span>)</span></span><span>
             </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var_I|fact"><span>Get_Envir_Var_I</span></a><span class="antiquote"><span>}</span></span></span></span><span>
                        </span><span>|&gt;</span><span> </span><span>Thm.incr_indexes</span><span> </span><span class="entity"><span>idx</span></span><span>
                        </span><span>|&gt;</span><span> </span><span>Thm.instantiate</span><span> </span><span class="main"><span>(</span></span><span>TVars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"'v"</span></span><span class="main"><span>,</span></span><span class="entity"><span>idx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Thm.ctyp_of_cterm</span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
                                             </span><span>Vars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"V"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>idx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>Thm.typ_of_cterm</span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
                         </span><span class="main"><span>)</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                    </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var&apos;|const"><span>Get_Envir_Var'</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var&apos;|const"><span>Get_Envir_Var'</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>D</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>idx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.maxidx_of</span><span> </span><span class="entity"><span>sequent</span></span><span> </span><span>+</span><span> </span><span class="inner_numeral"><span>1</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.cterm_of</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>PLPR_Env.get</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.name_of</span></span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Context.Proof</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
                                   </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>SOME</span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span>NONE</span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>D</span></span><span class="main"><span>)</span></span><span>
                </span><span>|&gt;</span><span> </span><span>Thm.incr_indexes_cterm</span><span> </span><span class="entity"><span>idx</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Get_Envir_Var&apos;_I|fact"><span>Get_Envir_Var'_I</span></a><span class="antiquote"><span>}</span></span></span></span><span>
                  </span><span>|&gt;</span><span> </span><span>Thm.incr_indexes</span><span> </span><span class="entity"><span>idx</span></span><span>
                  </span><span>|&gt;</span><span> </span><span>Thm.instantiate</span><span> </span><span class="main"><span>(</span></span><span>TVars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"'v"</span></span><span class="main"><span>,</span></span><span class="entity"><span>idx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Thm.ctyp_of_cterm</span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
                                       </span><span>Vars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"V"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>idx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>Thm.typ_of_cterm</span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
                   </span><span class="main"><span>)</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
      </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Extracting Pure Facts Implied Inside a Ruleâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Ï†-LPR reasoning rules are specially designed for execution of logic programming. They are
  not in a direct form suitable for usual theorem proving. Here we provide mechanisms extracting
  boolean facts implied inside a reasoning rule to give such direct forms.
  One usage of thie feature is later in the Ï†-deriver where inductive hypotheses (such as a transformation)
  can imply boolean conditions necessary to the proof.
  For example, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡ P âŸ¹ A transforms B with Qâ€º</span></span></span><span> implies </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>P âŸ¶ Satisfiable A âŸ¶ Satisfiable B âˆ§ Qâ€º</span></span></span><span>
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;EIF_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;EIF_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;EIF_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹Extracting Implied Factsâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;ESC_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;ESC_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;ESC_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹Extracting Sufficient Conditionsâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span class="entity_def" id="PLPR.\&lt;A&gt;EIF&apos;_def|thm"><span class="entity_def" id="PLPR.\&lt;A&gt;EIF&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ’œEIF'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span class="entity_def" id="PLPR.\&lt;A&gt;ESC&apos;_def|thm"><span class="entity_def" id="PLPR.\&lt;A&gt;ESC&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ’œESC'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>extract_pure_all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>2</span><span class="main"><span>,</span></span><span> 3000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="quoted"><span>â€¹Rules either extracting the lower bound or the upper bound of the pure facts implied insideâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>extract_pure</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>30</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>extract_pure_all</span><span>
    </span><span class="quoted"><span>â€¹Rules either extracting the lower bound or the upper bound of the pure facts implied insideâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>extract_pure_fallback</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>extract_pure_all</span><span>
    </span><span class="quoted"><span>â€¹Fallbacks of extracting pure facts, typically returning the unsimplified original termâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>derived_ğ’œEIF_from_premis_extraction</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>50</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>extract_pure_all</span><span>
    </span><span class="quoted"><span>â€¹Rules derived from premise extractionâ€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span>
      </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>PROP</span></span></span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>PROP</span></span></span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>PROP</span></span></span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>PROP</span></span></span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?X</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>

  </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;default_reasoner_group|attribute"><span class="operator"><span>Ï†default_reasoner_group</span></span></a><span>
      </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>extract_pure</span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>extract_pure</span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>extract_pure</span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>extract_pure</span><span>  </span><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>


</span><span class="comment1"><span>(* ML_file â€¹library/tools/elimination_rule.MLâ€º *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Generation of Extracting Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Generate_Implication_Reasoning_def|fact"><span class="entity_def" id="PLPR.Generate_Implication_Reasoning_def|thm"><span class="entity_def" id="PLPR.Generate_Implication_Reasoning_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Generate_Implication_Reasoning</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>IN</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT_L</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT_R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>IN</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT_L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT_R</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?I</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span>
                        </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></a></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?I</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Do_Generate_Implication_Reasoning|fact"><span class="entity_def" id="PLPR.Do_Generate_Implication_Reasoning|thm"><span>Do_Generate_Implication_Reasoning</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>IN</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></a><span> </span><span class="free"><span>IN</span></span><span> </span><span class="free"><span>OUT_L</span></span><span> </span><span class="free"><span>OUT_R</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>OUT_L</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>OUT_R</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning_def|fact"><span>Generate_Implication_Reasoning_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>OL</span></span><span> </span><span class="free"><span>OR</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning|const"><span>Generate_Implication_Reasoning</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>OL</span></span><span> </span><span class="free"><span>OR</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Generate_Implication_Reasoning_def|fact"><span>Generate_Implication_Reasoning_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹ML Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/extracting_pure_facts.ML.html"><span>â€¹library/tools/extracting_pure_facts.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>attribute_setup</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;phi&gt;declare|attribute"><span>Ï†declare</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span>Scan.succeed</span><span> </span><span class="main"><span>(</span></span><span>Thm.declaration_attribute</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>th</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>ctxt'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Context.proof_of</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>lemmas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the_default</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Reasoners.extract_implied_fact</span></span><span> </span><span class="main"><span>{</span></span><span>wrap_all</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span> </span><span class="entity"><span>ctxt'</span></span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>fold</span><span> </span><span class="entity"><span>Useful_Thms.add_thm</span></span><span> </span><span class="entity"><span>lemmas</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>
  </span><span class="quoted"><span>â€¹Extracts pure facts implied inside and augments Useful lemmas with the results. â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Extraction Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq|const"><span>âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub></span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Ant_Seq_def|fact"><span>Ant_Seq_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Extact_implied_facts_Iden|fact"><span class="entity_def" id="PLPR.Extact_implied_facts_Iden|thm"><span>Extact_implied_facts_Iden</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>default</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure_fallback</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Extact_sufficient_conditions_Iden|fact"><span class="entity_def" id="PLPR.Extact_sufficient_conditions_Iden|thm"><span>Extact_sufficient_conditions_Iden</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>default</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure_fallback</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>A</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>A</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>B'</span></span><span> </span><span class="free"><span>B</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span>ğ’œEIF'_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span>ğ’œESC'_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="free"><span>A'</span></span><span> </span><span class="free"><span>A</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="free"><span>B</span></span><span>  </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span>ğ’œESC'_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span>ğ’œEIF'_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_56812..56817">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_56812..56817"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_56812..56817"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_56812..56817"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="free"><span>A</span></span><span>  </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="free"><span>B'</span></span><span> </span><span class="free"><span>B</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span>ğ’œESC'_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span>ğ’œEIF'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_57067..57072">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57067..57072"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57067..57072"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57067..57072"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57067..57072"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span>ğ’œEIF'_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span>ğ’œESC'_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_57305..57306">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span>â€º</span></span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_57332..57334">A'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>A'</span></span><span> </span><span class="skolem"><span>x</span></span><span>â€º</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57332..57334"><span>A'</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_57305..57306"><span>A</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;_def|fact"><span>ğ’œEIF'_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;_def|fact"><span>ğ’œESC'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>norm_hhf_eq</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP_def|fact"><span>NO_SIMP_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>X</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP_def|fact"><span>NO_SIMP_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;EIF&apos;|const"><span>ğ’œEIF'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;_def|fact"><span>NO_SIMP'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>X</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;ESC&apos;|const"><span>ğ’œESC'</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;|const"><span>NO_SIMP'</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP&apos;_def|fact"><span>NO_SIMP'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Proof Obligation (continued) \label{sec:proof-obligation}â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Premise_True|fact"><span class="entity_def" id="PLPR.Premise_True|thm"><span>Premise_True</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 5000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>overriding</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>" </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>any_mode</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(*
(*depreciate!*)
lemma [Ï†reason %normalizing]:
  â€¹ Premise mode (L = R)
âŸ¹ Premise mode (L = id R)â€º
  by simp

lemma [Ï†reason %normalizing]:
  â€¹ Premise mode (L = R)
âŸ¹ Premise mode (id L = R)â€º
  by simp

lemma [Ï†reason %normalizing + 10]:
  â€¹ Premise mode (La = Ra)
âŸ¹ Premise mode (Lb = Rb)
âŸ¹ Premise mode ((La, Lb) = (Ra, Rb))â€º
  unfolding Premise_def
  by simp

lemma [Ï†reason %normalizing]:
  â€¹ Premise mode (La = fst R)
âŸ¹ Premise mode (Lb = snd R)
âŸ¹ Premise mode ((La, Lb) = R)â€º
  unfolding Premise_def
  by (cases R; simp)

lemma [Ï†reason %normalizing]:
  â€¹ Premise mode (fst L = Ra)
âŸ¹ Premise mode (snd L = Rb)
âŸ¹ Premise mode (L = (Ra, Rb))â€º
  unfolding Premise_def
  by (cases L; simp)
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.provide_premise_condition|fact"><span class="entity_def" id="PLPR.provide_premise_condition|thm"><span>provide_premise_condition</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.provide_premise_condition_p|fact"><span class="entity_def" id="PLPR.provide_premise_condition_p|thm"><span>provide_premise_condition_p</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode'</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/PLPR_Syntax.ML.html"><span>â€¹library/PLPR_Syntax.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Contract Premises for Reporting Obligationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_add_additional_prems|fact"><span class="entity_def" id="PLPR.contract_add_additional_prems|thm"><span>contract_add_additional_prems</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Waste</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Waste</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>Pure.prop_def</span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_drop_waste|fact"><span class="entity_def" id="PLPR.contract_drop_waste|thm"><span>contract_drop_waste</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Waste</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>Pure.prop_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.contract_obligations|fact"><span>contract_obligations</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>|&gt;</span><span> </span><span>Thm.forall_intr_vars</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_premise_all|fact"><span class="entity_def" id="PLPR.contract_premise_all|thm"><span>contract_premise_all</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> "</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_intro_Ex|fact"><span class="entity_def" id="PLPR.contract_intro_Ex|thm"><span>contract_intro_Ex</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>Ex</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_59904..59909">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_59904..59909"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI_ex|fact"><span>someI_ex</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_59904..59909"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_59976..59981">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_59976..59981"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> P</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_59976..59981"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹PLPR can infer existentially quantified obligation. However, the built-in automation of Isabelle
  seems to be not good for handling them. Therefore we introduce a special existential quantifier
  having the irreversible </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>âˆƒ<span class="hidden">â‡©</span><sub>I</sub>â€º</span></span></span><span> rule configured into the automation, in order to enhance the
  deficiency in Isabelle's automation.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A Special Ex-quantifier Patching the Reasoningâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.special_Ex_def|fact"><span class="entity_def" id="PLPR.special_Ex_def|thm"><span class="entity_def" id="PLPR.special_Ex_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.special_Ex|const"><span>special_Ex</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>binder</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆƒ<span class="hidden">â‡§</span><sup>Ï†</sup><span class="hidden">â‡§</span><sup>-</sup><span class="hidden">â‡§</span><sup>L</sup><span class="hidden">â‡§</span><sup>P</sup><span class="hidden">â‡§</span><sup>R</sup></span></span><span>"</span></span><span> 10</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>special_Ex</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>Ex</span></a><span>â€º</span></span></span><span>

</span><span class="comment1"><span>(*lemma [intro]:
  â€¹P x âŸ¹ special_Ex Pâ€º
  unfolding special_Ex_def
  by rule*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.contract_intro_sp_Ex|fact"><span class="entity_def" id="PLPR.contract_intro_sp_Ex|thm"><span>contract_intro_sp_Ex</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>special_Ex</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex_def|fact"><span>special_Ex_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.contract_intro_Ex|fact"><span>contract_intro_Ex</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.partition_conj_MM|fact"><span class="entity_def" id="PLPR.partition_conj_MM|thm"><span>partition_conj_MM</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>D</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>D</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.partition_conj_MN|fact"><span class="entity_def" id="PLPR.partition_conj_MN|thm"><span>partition_conj_MN</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.sp_ex_ex_comm|fact"><span class="entity_def" id="PLPR.sp_ex_ex_comm|thm"><span>sp_ex_ex_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>Ï†</sup><span class="hidden">â‡§</span><sup>-</sup><span class="hidden">â‡§</span><sup>L</sup><span class="hidden">â‡§</span><sup>P</sup><span class="hidden">â‡§</span><sup>R</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>Ï†</sup><span class="hidden">â‡§</span><sup>-</sup><span class="hidden">â‡§</span><sup>L</sup><span class="hidden">â‡§</span><sup>P</sup><span class="hidden">â‡§</span><sup>R</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/patch_for_Ex.ML.html"><span>"library/tools/patch_for_Ex.ML"</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>simproc_setup</span></span></span><span> </span><span>move_sp_Ex_inside</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>Ï†</sup><span class="hidden">â‡§</span><sup>-</sup><span class="hidden">â‡§</span><sup>L</sup><span class="hidden">â‡§</span><sup>P</sup><span class="hidden">â‡§</span><sup>R</sup></span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.special_Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>f</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctm</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span>Conv.changed_conv</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.move_Ex_inside</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Conv.all_conv</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctm</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="keyword"><span>handle</span></span></span><span> </span><span>CTERM</span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>NONE</span><span>
â€º</span></span><span>

</span><span class="comment1"><span>(*lemmas [simp] =
  HOL.ex_disj_distrib[folded special_Ex_def]
  ex_simps[folded special_Ex_def]
  simp_thms(36, 39-40)[folded special_Ex_def]*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Annotations of Case-Splitâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.case_split_def|fact"><span class="entity_def" id="PLPR.case_split_def|thm"><span class="entity_def" id="PLPR.case_split_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.case_split|const"><span>case_split</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹Annotating the wrapped term </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>xâ€º</span></span></span><span> should be case-split.
      The annotation is supported in safe_obligation_solver, i.e., </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡ Pâ€º</span></span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reductionsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.case_split_red_bool|fact"><span class="entity_def" id="PLPR.case_split_red_bool(2)|thm"><span class="entity_def" id="PLPR.case_split_red_bool(1)|thm"><span>case_split_red_bool</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>  </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split_def|fact"><span>case_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.case_split_red_prod|fact"><span class="entity_def" id="PLPR.case_split_red_prod|thm"><span>case_split_red_prod</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split_def|fact"><span>case_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.case_split_red_sum|fact"><span class="entity_def" id="PLPR.case_split_red_sum(2)|thm"><span class="entity_def" id="PLPR.case_split_red_sum(1)|thm"><span>case_split_red_sum</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span>Inl</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span>Inl</span></a><span> </span><span class="free"><span>x</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span>Inr</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span>Inr</span></a><span> </span><span class="free"><span>y</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split_def|fact"><span>case_split_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Annotations of Controllersâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.LPR_ctrl_def|fact"><span class="entity_def" id="PLPR.LPR_ctrl_def|thm"><span class="entity_def" id="PLPR.LPR_ctrl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹tagging (especially boolean) flags which will be instantiated during the reasoning process,
      so they are treated as fixed variables and never instantiated by boolean proposition solvers
      (e.g., </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡ Pâ€º</span></span></span><span>), and are split by case analysis by the solvers (i.e., identical to
      </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>case_splitâ€º</span></span></span><span> annotation plus non-instantiation indication).â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reductionsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.LPR_ctrl_red_bool|fact"><span class="entity_def" id="PLPR.LPR_ctrl_red_bool(2)|thm"><span class="entity_def" id="PLPR.LPR_ctrl_red_bool(1)|thm"><span>LPR_ctrl_red_bool</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simpset.ML.html#PLPR.\&lt;phi&gt;safe_simp|attribute"><span class="operator"><span>Ï†safe_simp</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>  </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl_def|fact"><span>LPR_ctrl_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.LPR_ctrl_sum|fact"><span class="entity_def" id="PLPR.LPR_ctrl_sum(2)|thm"><span class="entity_def" id="PLPR.LPR_ctrl_sum(1)|thm"><span>LPR_ctrl_sum</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span>Inl</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inl|const"><span>Inl</span></a><span> </span><span class="free"><span>x</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span>Inr</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Sum_Type.html#Sum_Type.Inr|const"><span>Inr</span></a><span> </span><span class="free"><span>y</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl_def|fact"><span>LPR_ctrl_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Instantiation Eliminating Unknown Variablesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹TODO: hardcode this reasoning procedure to boost the performance.

The LPR provides ultimate flexibility but hard-coded version can cover most of cases and provide
much better performance.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.IEUV_def|fact"><span class="entity_def" id="PLPR.IEUV_def|thm"><span class="entity_def" id="PLPR.IEUV_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.IEUV|const"><span>IEUV</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>succeeded</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>solved</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>IN</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>IN</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>solved</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>OUT</span></span></span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹succeeded: at least one unknown variable is instantiated, meaning
      the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>INâ€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>OUTâ€º</span></span></span><span> are unequal. It is an out-argument.
     solved: is totally solved. It is an input argument. For callers, set it to True if the caller requires
      the assertion is fully solved by instantiation, otherwise set it to False to enable more rules.â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>100</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span> 3000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>succeeded</span></span><span> </span><span class="free"><span>solved</span></span><span> </span><span class="free"><span>IN</span></span><span> </span><span class="free"><span>OUT</span></span><span>â€º</span></span></span><span>
      </span><span class="quoted"><span>â€¹instantiating unknown variables in â€¹INâ€º and returns â€¹OUTâ€ºâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>IEUV__default</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>10</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="quoted"><span>â€¹system defaultâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>IEUV__top</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>3000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>3000</span><span class="main"><span>,</span></span><span>3000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="quoted"><span>â€¹system topâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>IEUV</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 1030</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>IEUV__default</span><span> </span><span class="quoted"><span>â€¹default groupâ€º</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>IEUV_eq</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 2000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>succeed</span></span><span> </span><span class="free"><span>solved</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>OUT</span></span><span>â€º</span></span></span><span>
                </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>IEUV__default</span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>IEUV_eq_refl</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>2001</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>2001</span><span class="main"><span>,</span></span><span> 2001</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>IEUV__all</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span>IEUV_eq</span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
  </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?SV</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?IN</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?SV</span></span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?IN</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
  </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;default_reasoner_group|attribute"><span class="operator"><span>Ï†default_reasoner_group</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>    </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>IEUV</span><span>            </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Rulesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>default</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV__default</span><span class="main"><span>,</span></span><span>
       </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV__top</span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>if</span></span></span></span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span>fn</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>sequent</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span>case</span></span></span></span></span></span></span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>sequent</span></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span>of</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="comment1"><span class="comment1"><span class="comment1"><span class="comment1"><span>(*Trueprop*)</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="comment1"><span class="comment1"><span class="comment1"><span class="comment1"><span>(*IEUV*)</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>X</span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span>
                </span><span>not</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span>Term.is_schematic</span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>X</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span>
             </span><span class="main"><span class="main"><span class="main"><span class="main"><span>|</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span> </span><span class="keyword3"><span class="keyword"><span class="keyword3"><span class="keyword"><span class="keyword3"><span class="keyword"><span class="keyword3"><span class="keyword"><span>raise</span></span></span></span></span></span></span></span></span><span> </span><span>THM</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="inner_quoted"><span class="inner_quoted"><span class="inner_quoted"><span class="inner_quoted"><span>"IEUV__top"</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span><span> </span><span class="inner_numeral"><span class="inner_numeral"><span class="inner_numeral"><span class="inner_numeral"><span>1</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span></span><span class="entity"><span class="entity"><span class="entity"><span>sequent</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span>â€º</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>X</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><span class="free"><span>A'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>B'</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>B'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span>?var</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>â€º</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>if</span></span></span></span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span>fn</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>sequent</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span>case</span></span></span></span></span></span></span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>sequent</span></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span class="keyword2"><span class="keyword"><span>of</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="comment1"><span class="comment1"><span class="comment1"><span class="comment1"><span>(*Trueprop*)</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="comment1"><span class="comment1"><span class="comment1"><span class="comment1"><span>(*IEUV*)</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span>$</span><span> </span><span>Var</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span>$</span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span> </span><span>true</span><span>
             </span><span class="main"><span class="main"><span class="main"><span class="main"><span>|</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span> </span><span>false</span><span>â€º</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>IEUV_eq_paramless_var</span></span><span> </span><span class="entity"><span>chk</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*Trueprop*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*IEUV*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>HOL.eq</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>L</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
      </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>L</span></span><span class="main"><span>,</span></span><span class="entity"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>chk</span></span><span> </span><span class="main"><span>(</span></span><span>true</span><span class="main"><span>,</span></span><span> </span><span>true</span><span class="main"><span>)</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>chk</span></span><span> </span><span class="main"><span>(</span></span><span>true</span><span class="main"><span>,</span></span><span> </span><span>false</span><span class="main"><span>)</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>chk</span></span><span> </span><span class="main"><span>(</span></span><span>false</span><span class="main"><span>,</span></span><span> </span><span>true</span><span class="main"><span>)</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>false</span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>false</span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.IEUV_eq_refl|fact"><span class="entity_def" id="PLPR.IEUV_eq_refl|thm"><span>IEUV_eq_refl</span></span></span><span>
      </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq_refl</span><span>
          </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="var"><span class="var"><span class="var"><span>?var</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>â€º</span></span></span></span></span><span>
              </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?var</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>â€º</span></span></span></span></span><span>
              </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="var"><span class="var"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?x</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span><span>â€º</span></span></span></span></span><span>
           </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>if</span></span></span></span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span class="entity"><span class="entity"><span>IEUV_eq_paramless_var</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span>fn</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span><span class="entity"><span class="entity"><span class="entity"><span>x</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span></span><span class="entity"><span class="entity"><span class="entity"><span>y</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>=&gt;</span></span></span></span></span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span class="keyword1"><span class="keyword"><span>orelse</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity"><span class="entity"><span>y</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span><span>â€º</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>40</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>O<span class="hidden">â‡©</span><sub>1</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>O<span class="hidden">â‡©</span><sub>2</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>x<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>O<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>O<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="comment1"><span>(*
lemma [Ï†reason %IEUV_eq+20]:
  â€¹ ğ—€ğ—ğ–ºğ—‹ğ–½ IEUV S<span class="hidden">â‡©</span><sub>1</sub> SV<span class="hidden">â‡©</span><sub>1</sub> (fst x = y<span class="hidden">â‡©</span><sub>1</sub>) O<span class="hidden">â‡©</span><sub>1</sub> âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          IEUV S<span class="hidden">â‡©</span><sub>2</sub> SV<span class="hidden">â‡©</span><sub>2</sub> (snd x = y<span class="hidden">â‡©</span><sub>2</sub>) O<span class="hidden">â‡©</span><sub>2</sub> âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          Literal_Boolean (S<span class="hidden">â‡©</span><sub>1</sub> âˆ¨ S<span class="hidden">â‡©</span><sub>2</sub>)
âŸ¹ IEUV True (SV<span class="hidden">â‡©</span><sub>1</sub> âˆ§ SV<span class="hidden">â‡©</span><sub>2</sub>) (x = (y<span class="hidden">â‡©</span><sub>1</sub>,y<span class="hidden">â‡©</span><sub>2</sub>)) (O<span class="hidden">â‡©</span><sub>1</sub> âˆ§ O<span class="hidden">â‡©</span><sub>2</sub>) â€º
  unfolding IEUV_def ğ—‹Guard_def Ant_Seq_def Literal_Boolean_def
  by (cases x; simp)

lemma [Ï†reason %IEUV_eq+20]:
  â€¹ ğ—€ğ—ğ–ºğ—‹ğ–½ IEUV S<span class="hidden">â‡©</span><sub>1</sub> SV<span class="hidden">â‡©</span><sub>1</sub> (x<span class="hidden">â‡©</span><sub>1</sub> = fst y) O<span class="hidden">â‡©</span><sub>1</sub> âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          IEUV S<span class="hidden">â‡©</span><sub>2</sub> SV<span class="hidden">â‡©</span><sub>2</sub> (x<span class="hidden">â‡©</span><sub>2</sub> = snd y) O<span class="hidden">â‡©</span><sub>2</sub> âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          Literal_Boolean (S<span class="hidden">â‡©</span><sub>1</sub> âˆ¨ S<span class="hidden">â‡©</span><sub>2</sub>)
âŸ¹ IEUV True (SV<span class="hidden">â‡©</span><sub>1</sub> âˆ§ SV<span class="hidden">â‡©</span><sub>2</sub>) ((x<span class="hidden">â‡©</span><sub>1</sub>,x<span class="hidden">â‡©</span><sub>2</sub>) = y) (O<span class="hidden">â‡©</span><sub>1</sub> âˆ§ O<span class="hidden">â‡©</span><sub>2</sub>) â€º
  unfolding IEUV_def ğ—‹Guard_def Ant_Seq_def Literal_Boolean_def
  by (cases y; simp)
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>20</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>y</sub></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y<span class="hidden">â‡©</span><sub>y</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean_def|fact"><span>Literal_Boolean_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>20</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>y</sub></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y<span class="hidden">â‡©</span><sub>y</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean_def|fact"><span>Literal_Boolean_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>20</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>y</sub></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y<span class="hidden">â‡©</span><sub>y</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean_def|fact"><span>Literal_Boolean_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>IEUV_eq</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>20</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S<span class="hidden">â‡©</span><sub>y</sub></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y<span class="hidden">â‡©</span><sub>y</sub></span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV|const"><span>IEUV</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>SV</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.IEUV_def|fact"><span>IEUV_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Literal_Boolean_def|fact"><span>Literal_Boolean_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>


</span><span class="comment1"><span>(*
lemma [Ï†reason %IEUV_eq+30]:
  â€¹ ğ—€ğ—ğ–ºğ—‹ğ–½ IEUV S SV (x = y) Y âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          Literal_Boolean SV
âŸ¹ IEUV S SV (fst x = fst y) Y â€º
  unfolding IEUV_def Literal_Boolean_def ğ—‹Guard_def Ant_Seq_def
  by simp blast

lemma [Ï†reason add]:
  â€¹ ğ—€ğ—ğ–ºğ—‹ğ–½ IEUV S SV (x = y) Y âˆ§<span class="hidden">â‡©</span><sub>ğ—‹</sub>
          Literal_Boolean SV
âŸ¹ IEUV S SV (snd x = snd y) Y â€º
  unfolding IEUV_def Literal_Boolean_def ğ—‹Guard_def Ant_Seq_def
  by simp blast

*)</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Setupâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/type_info_DB.ML.html"><span>"library/type_info_DB.ML"</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/type_info.ML.html"><span>"library/type_info.ML"</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/guess_instantiate.ML.html"><span>"library/guess_instantiate.ML"</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoners.ML.html"><span>"library/reasoners.ML"</span></a></span><span>
 
</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>Phi_Reasoner_solve_obligation_and_no_defer</span></span><span> </span><span class="main"><span>=</span></span><span>
          </span><span>Config.declare_int</span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"Phi_Reasoner_solve_obligation_and_no_defer"</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="operator"><span class="entity"><span>âŒ‚</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span class="inner_numeral"><span>0</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>defer_premise</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Config.get</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>Phi_Reasoner_solve_obligation_and_no_defer</span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="inner_numeral"><span>0</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Phi_Reasoners.defer_obligation_tac</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>,</span></span><span> fix_level</span><span class="main"><span>=</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span>true</span><span class="main"><span>,</span></span><span>true</span><span class="main"><span>,</span></span><span class="inner_numeral"><span>~1</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
           </span><span class="main"><span>|</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>th</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>Phi_Reasoners.has_obligations_tag</span></span><span> </span><span class="entity"><span>th</span></span><span>
                            </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Phi_Reasoners.defer_obligation_tac</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>,</span></span><span> fix_level</span><span class="main"><span>=</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span>true</span><span class="main"><span>,</span></span><span>true</span><span class="main"><span>,</span></span><span class="inner_numeral"><span>~1</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>th</span></span><span>
                            </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="entity"><span>Phi_Reasoners.guard_condition_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span>
           </span><span class="main"><span>|</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Phi_Reasoners.guard_condition_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
           </span><span class="main"><span>|</span></span><span> </span><span class="inner_numeral"><span>3</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Phi_Reasoners.auto_obligation_solver</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
           </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>error</span><span> </span><span class="inner_quoted"><span>"Bad value of Phi_Reasoner_solve_obligation_and_no_defer. Should be 0,1,2."</span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>Normal_Premise</span></a></span><span> </span><span class="main"><span>%</span></span><span>general</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="entity"><span>defer_premise</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>Simp_Premise</span></a></span><span> </span><span class="main"><span>%</span></span><span>general</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Reasoners.guard_condition_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_INST|const"><span>NO_INST</span></a></span><span> </span><span class="main"><span>%</span></span><span>general</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_INST|const"><span>NO_INST</span></a><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Reasoners.guard_condition_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>false</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>%</span></span><span>general</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Reasoners.safe_obligation_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_NO_INST_SAFE|const"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>%</span></span><span>general</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_NO_INST_SAFE|const"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="var"><span>?P</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Reasoners.safe_obligation_solver</span></span><span> </span><span class="main"><span>{</span></span><span>can_inst</span><span class="main"><span>=</span></span><span>false</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.prove_obligations_in_time|const"><span>prove_obligations_in_time</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span>Context.theory_map</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Env.set_effect</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.prove_obligations_in_time|const"><span>prove_obligations_in_time</span></a><span>â€º</span></span><span> </span><span class="main"><span>(</span></span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="main"><span>(</span></span><span>Bound</span><span> </span><span class="main"><span>(</span></span><span>Config.get_generic</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>Phi_Reasoner_solve_obligation_and_no_defer</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
     </span><span>Config.put_generic</span><span> </span><span class="entity"><span>Phi_Reasoner_solve_obligation_and_no_defer</span></span><span>
          </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_numeral"><span>0</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>HOLogic.dest_numeral</span></span><span> </span><span class="entity"><span>V</span></span><span class="main"><span>)</span></span><span>
          </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Config.put_generic</span><span> </span><span class="entity"><span>Phi_Reasoner_solve_obligation_and_no_defer</span></span><span>
              </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>V</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>Bound</span><span> </span><span class="entity"><span>i</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>i</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>error</span><span> </span><span class="inner_quoted"><span>"BUG"</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="comment1"><span>(* TODO: re-enable!
hide_fact contract_drop_waste contract_obligations contract_premise_all
          contract_add_additional_prems
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Extracting Pureâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_INST|const"><span>NO_INST</span></a><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span>  â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_NO_INST_SAFE|const"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_INST|const"><span>NO_INST</span></a><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_NO_INST_SAFE|const"><span>ğ—‡ğ—ˆ-ğ—‚ğ—‡ğ—Œğ—-ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>]</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Protection against Simplificationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Forms of antecedents are significant in Ï†-LPR reasoning.
  For convenience of reasoning, not all tasks are given a specific predicate constant, especially
  when some tasks can be considered as special cases of or sub-tasks of other tasks.

  Simplification is useful when generating reasoning rules automatically.
  However, simplification also easily destroys the implicitly assumed form of the tasks
  which are not assigned with a specific predicate constants.

  An example of specific predicate constant form:
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Predicate_Constant param1 param2 param3â€º</span></span></span><span>
  An example of free form not using a specific predicate constant:
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A âŸ¶ B @tag reduction_jobâ€º</span></span></span><span>
  where this task assumes a form of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>_ âŸ¶ _ @tag reduction_jobâ€º</span></span></span><span> implicitly and the form
  will be destroyed by simplification when </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A â‰¡ Trueâ€º</span></span></span><span>.

  In order to protect those free form of the tasks, this subsection provides a mechanism which
  rewrites the tasks to a form using a specific predicate constant before any simplification,
  and rewrites them back after the simplification, so that their forms are not destroyed during
  the simplification.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simplification_protect.ML.html"><span>â€¹library/tools/simplification_protect.MLâ€º</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Simplification \&amp; Rewriteâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[mode] ?result : termâ€ºâ€º</span></span></span><span> is generic antecedent for simplifying </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>termâ€º</span></span></span><span> in different
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>modeâ€º</span></span></span><span>. The </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?resultâ€º</span></span></span><span> should be an output variable for the result of the simplification.

  We implement a </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>defaultâ€º</span></span></span><span> mode where the system simple-set is used to simplify
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>termâ€º</span></span></span><span>. Users may configure their mode and their reasoner using different simple-set.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Simplify_def|fact"><span class="entity_def" id="PLPR.Simplify_def|thm"><span class="entity_def" id="PLPR.Simplify_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Simplify|const"><span>Simplify</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> "</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></span><span>_</span><span class="keyword1"><span>]</span></span><span> _ </span><span class="keyword1"><span>:</span></span><span class="keyword3"><span>/ </span></span><span>_"</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span>1000</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span> 9</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Simplify</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>setting</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>result</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>origin</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>result</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>origin</span></span></span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* definition Do_Simplificatin :: â€¹'a â‡’ 'a â‡’ propâ€º
  where â€¹Do_Simplificatin result origin â‰¡ (result â‰¡ origin)â€º *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Simplify_rev_def|fact"><span class="entity_def" id="PLPR.Simplify_rev_def|thm"><span>Simplify_rev_def</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.no_atp|attribute"><span class="operator"><span>no_atp</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>setting</span></span><span> </span><span class="free"><span>result</span></span><span> </span><span class="free"><span>origin</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="free"><span>origin</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>result</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Simplify_cong|fact"><span class="entity_def" id="PLPR.Simplify_cong|thm"><span>Simplify_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>A'</span></span><span> "</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Simplify_D|fact"><span class="entity_def" id="PLPR.Simplify_D|thm"><span>Simplify_D</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Simplify_I|fact"><span class="entity_def" id="PLPR.Simplify_I|thm"><span>Simplify_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Simplify_to_Premise|fact"><span class="entity_def" id="PLPR.Simplify_to_Premise|thm"><span>Simplify_to_Premise</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.default|const"><span>default</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(* lemma Do_Simplification:
  â€¹PROP Do_Simplificatin A B âŸ¹ Simplify s A Bâ€º
  unfolding Do_Simplificatin_def Simplify_def atomize_eq . *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.End_Simplification|fact"><span class="entity_def" id="PLPR.End_Simplification|thm"><span>End_Simplification</span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.End_Simplification&apos;|fact"><span class="entity_def" id="PLPR.End_Simplification&apos;|thm"><span>End_Simplification'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.End_Simplification&apos;&apos;|fact"><span class="entity_def" id="PLPR.End_Simplification&apos;&apos;|thm"><span>End_Simplification''</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/simplifier.ML.html"><span>â€¹library/simplifier.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Simplification&apos;|fact"><span>End_Simplification'</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Simplification&apos;&apos;|fact"><span>End_Simplification''</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Simplification|fact"><span>End_Simplification</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF|const"><span>ğ—‹EIF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;EIF_def|fact"><span>ğ—‹EIF_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>extract_pure</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC|const"><span>ğ—‹ESC</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>A'</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;ESC_def|fact"><span>ğ—‹ESC_def</span></a><span>  </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Default Simplifierâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Default_Simplify|const"><span>Default_Simplify</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> "</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’</span></span><span> _ </span><span class="keyword1"><span>:</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>999</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span> 9</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Default_Simplify</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.default|const"><span>default</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Default_Simplify|const"><span>Default_Simplify</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Default_Simplify|const"><span>Default_Simplify</span></a><span> </span><span class="var"><span>?X'</span></span><span> </span><span class="var"><span>?X</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹ </span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Simplifier.simplifier</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
                         </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span>addsimps</span><span> </span><span class="entity"><span>Useful_Thms.get</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>{</span></span><span>fix_vars</span><span class="main"><span>=</span></span><span>false</span><span class="main"><span>}</span></span><span> </span><span class="comment1"><span>(*TODO: set this fix_vars to true*)</span></span><span class="main"><span>)</span></span><span>
    </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>y</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>ğ—Œğ–ºğ–¿ğ–¾</span></a></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="var"><span>?X'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="var"><span>?X</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹ </span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Simplifier.simplifier</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>Phi_Safe_Simps.equip</span></span><span> </span><span class="main"><span>{</span></span><span>fix_vars</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>
    </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>cutting</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><span class="free"><span>mode</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_LAMBDA_CONVERTIBLE|const"><span>NO_LAMBDA_CONVERTIBLE</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>Y</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;c&gt;\&lt;h&gt;\&lt;a&gt;\&lt;n&gt;\&lt;g&gt;\&lt;e&gt;\&lt;d&gt;|const"><span>ğ–¼ğ—ğ–ºğ—‡ğ—€ğ–¾ğ–½</span></a><span> </span><span class="free"><span>mode</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>Y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Augmenting Refined Local Conditionsâ€º</span></span></span><span>

</span><span class="comment1"><span>(*TODO: shortcut when â€¹P = Falseâ€º*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.allI|fact"><span>allI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>Ï†LPR_imp</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span> </span><span class="free"><span>mode</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>%</span></span><span>Ï†LPR_imp</span><span class="main"><span>+</span></span><span>10 </span><span class="main"><span>(</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>ğ—‰ğ—‹ğ–¾ğ—†ğ—‚ğ—Œğ–¾</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
                                                  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>HOL.All</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>Set.Ball</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt0</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="entity"><span>X</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>HOL.All</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="entity"><span>X</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Abs</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="entity"><span>X</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Ball|const"><span>Set.Ball</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="entity"><span>X</span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>HOL.implies</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise|const"><span>Premise</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>true</span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>false</span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Context_Position.set_visible</span><span> </span><span>false</span><span> </span><span class="entity"><span>ctxt0</span></span><span> </span><span>delsimps</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms'</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.imp_disjL|fact"><span>imp_disjL</span></a><span class="antiquote"><span>}</span></span></span></span><span>

      </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>convX</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>ctm</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="entity"><span>Phi_Conv.hol_alls_balls_to_meta</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctm</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.term_of</span><span> </span><span class="entity"><span>ctm</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>HOL.implies</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span>
                     </span><span class="entity"><span>HOLogic.Trueprop_conv</span></span><span> </span><span class="main"><span>(</span></span><span>
                        </span><span class="entity"><span>Phi_Conv.hol_imp_conv</span></span><span> </span><span class="main"><span>(</span></span><span>Conv.rewr_conv</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a><span> mode</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.default|const"><span>default</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>
                                              </span><span>Conv.all_conv</span><span class="main"><span>)</span></span><span>
                     </span><span>then_conv</span><span> </span><span>Conv.rewr_conv</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span>
                     </span><span>then_conv</span><span> </span><span>Conv.arg_conv</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>convX</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctm</span></span><span>
             </span><span class="main"><span>|</span></span><span> </span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP|const"><span>NO_SIMP</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                     </span><span class="entity"><span>HOLogic.Trueprop_conv</span></span><span> </span><span class="main"><span>(</span></span><span>Conv.rewr_conv</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP_def|fact"><span>NO_SIMP_def</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctm</span></span><span>
             </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Conv.all_conv</span><span> </span><span class="entity"><span>ctm</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>ctm</span></span><span>

   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>qchk</span></span><span> </span><span class="main"><span>(</span></span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span class="main"><span>=</span></span><span> </span><span>Raw_Simplifier.norm_hhf</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
                   </span><span>|&gt;</span><span> </span><span>Conv.gconv_rule</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.meta_alls_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                        </span><span class="entity"><span>Phi_Conv.hhf_concl_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>HOLogic.Trueprop_conv</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Phi_Conv.hol_alls_balls_conv</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span class="main"><span>(</span></span><span>
                            </span><span class="entity"><span>Phi_Conv.hol_imp_conv</span></span><span> </span><span class="main"><span>(</span></span><span>Conv.rewr_conv</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>
                                                  </span><span class="main"><span>(</span></span><span>Conv.rewr_conv</span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.NO_SIMP_def|fact"><span>NO_SIMP_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>
                        </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span>then_conv</span><span>
                        </span><span class="entity"><span>Phi_Reasoners.asm_rewrite</span></span><span> </span><span>false</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span>then_conv</span><span>
                        </span><span class="entity"><span>Phi_Conv.hhf_concl_conv</span></span><span> </span><span class="entity"><span>convX</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
                      </span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span>
                   </span><span>|&gt;</span><span> </span><span class="entity"><span>Phi_Help.instantiate_higher_order_var_in_antecedents</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt0</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent'</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>Ï†LPR_imp</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable_def|fact"><span>Reduce_HO_trivial_variable_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>Ï†LPR_imp</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable|const"><span>Reduce_HO_trivial_variable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Reduce_HO_trivial_variable_def|fact"><span>Reduce_HO_trivial_variable_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Rule Generationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;A&gt;_template_reason|const"><span>ğ’œ_template_reason</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹tagging the antecedent has to be solved during the time of template instantiation.
      The text is printed when the reasoning fails. None for no printing (silently stopping the rule
      generation), </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>undefinedâ€º</span></span></span><span> for default printing (printing the term of the failed antecedent)â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.SIMP_def|fact"><span class="entity_def" id="PLPR.SIMP_def|thm"><span class="entity_def" id="PLPR.SIMP_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.SIMP|const"><span>SIMP</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹By default, the conclusion of a template will not be simplified. However, user may annotate
      terms by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>SIMPâ€º</span></span></span><span> to re-enable the simplification over the wrapped terms.â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/rule_generation.ML.html"><span>â€¹library/rule_generation.MLâ€º</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/properties.ML.html"><span>â€¹library/properties.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;phi&gt;instantiation|const"><span>Ï†instantiation</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;phi&gt;instantiation|const"><span>Ï†instantiation</span></a><span>â€º</span></span></span><span> 1000 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’[</span></a></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;phi&gt;instantiation|const"><span>Ï†instantiation</span></a><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Phi_Reasoners.wrap</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Simplifier.simplifier</span></span><span> </span><span class="main"><span>(</span></span><span>K</span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Rule_Gen.Rule_Gen_SS.enhance</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>{</span></span><span>fix_vars</span><span class="main"><span>=</span></span><span>true</span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/rule_generation.ML.html#PLPR.\&lt;phi&gt;generation_simp|attribute"><span class="operator"><span>Ï†generation_simp</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/BNF_Fixpoint_Base.html#BNF_Fixpoint_Base.conj_imp_eq_imp_imp|fact"><span>conj_imp_eq_imp_imp</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.sing_times_sing|fact"><span>sing_times_sing</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.sing_if|fact"><span>sing_if</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_cancel|fact"><span>if_cancel</span></a><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span>Context.theory_map</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Rule_Gen.Rule_Gen_SS.map</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><span class="entity"><span>Simplifier.add_cong</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj_cong|fact"><span>HOL.conj_cong</span></a><span class="main"><span>[</span></span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>



  </span><span class="comment1"><span>(* conj_commute conj_left_commute *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Literal Checkâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹check if a term is evaluated to a literal.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Is_Literal_def|fact"><span class="entity_def" id="PLPR.Is_Literal_def|thm"><span class="entity_def" id="PLPR.Is_Literal_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Is_Literal|const"><span>Is_Literal</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Is_Literal</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>is_literal</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>99</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
                              </span><span class="quoted"><span>â€¹Cutting rules reasoning <span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Is_Literalâ€ºâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Presetsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>fail</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="keyword1"><span>TEXT(</span></span><span class="inner_cartouche"><span>â€¹Fail to evaluateâ€º</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="inner_cartouche"><span>â€¹to a literalâ€º</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>x</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.numeral_class.numeral|const"><span>numeral</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>is_literal</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Literal Evaluationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.mode_literal|const"><span>mode_literal</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode|type"><span>mode</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.default|const"><span>default</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>A</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.simplify_literal_implies_literal|fact"><span class="entity_def" id="PLPR.simplify_literal_implies_literal|thm"><span>simplify_literal_implies_literal</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>Simplify</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal|const"><span>Is_Literal</span></a><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Is_Literal_def|fact"><span>Is_Literal_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Single Step Literal Evaluationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>single_step_literal_evaluation</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>1000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>20</span><span class="main"><span>,</span></span><span>3000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>RET</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>EXPR</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span>â€º</span></span></span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>single_step_literal_evaluation_fail</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>10</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>10</span><span class="main"><span>,</span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>single_step_literal_evaluation</span><span> </span><span class="quoted"><span>â€¹â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason_default_pattern|attribute"><span class="operator"><span>Ï†reason_default_pattern</span></span></a><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?RHS</span></span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a></a></a></a><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>â‡’</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span class="main"><span class="main"><span class="main"><span>_</span></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span class="var"><span>?RHS</span></span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a></a></a></a><span>â€º</span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
          </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;default_reasoner_group|attribute"><span class="operator"><span>Ï†default_reasoner_group</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span>â€º</span></span></span><span> </span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>single_step_literal_evaluation</span><span>     </span><span class="main"><span class="main"><span>(</span></span></span><span>100</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>default</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>single_step_literal_evaluation_fail</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="keyword1"><span>TEXT(</span></span><span class="inner_cartouche"><span>â€¹fail to evaluateâ€º</span></span><span> </span><span class="free"><span>EXPR</span></span><span> </span><span class="inner_cartouche"><span>â€¹to literalâ€º</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>RET</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>EXPR</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL_def|fact"><span>FAIL_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>




</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>



</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>





</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>



</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>




</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>add</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.mode_literal|const"><span>mode_literal</span></a><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>




</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Exhaustive Reasoningâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Ï†-LPR is a priority-guided depth-first reasoner giving the first reached solution.
  This extension enables exhaustive reasoning traverses all branches and combines proof obligations
  for each branch by disjuntion.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.merge_oblg_divergence|fact"><span class="entity_def" id="PLPR.merge_oblg_divergence|thm"><span>merge_oblg_divergence</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>Pa</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>Pb</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span>Pure.prop</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Proof_Obligation|const"><span>ğ—ˆğ–»ğ—…ğ—‚ğ—€ğ–ºğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>Pa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>Pb</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>Pure.prop_def</span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/exhaustive.ML.html"><span>â€¹library/exhaustive.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.merge_oblg_divergence|fact"><span>merge_oblg_divergence</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Reasoning Frameâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;END_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;END_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;END_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Antecedents </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span> and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span> conform a nested reasoning scope
resembling a subroutine for specific reasoning tasks or problems.
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¦ âŸ¹ ğ—‹BEGIN âŸ¹ Nested âŸ¹ Reasoning âŸ¹ ğ—‹END âŸ¹ â€¦â€º</span></span></span><span> \]
The scoped antecedents should be regarded as a </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹unit antecedentâ€º</span></span></span><span>
invoking a nested Ï†-LPR reasoning process and returning </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹onlyâ€º</span></span></span><span> the first reached solution (
just as the behaviour of Ï†-LPR engine).
Backtracking passes through the scoped antecedents to the earlier branches but NOT inside the scope.
In addition, cut is confined among the search paths in the scope as a unit.
Because of the cut and the reduced backtrack behavior, the performance is improved.

Sometimes a cut is admissible (green) as an expected behavior among several rules and reasoners
which constitute a loosely-gathered module for a specific problem.
However the cut is still not safe to be used because an external rule using the reasoning module
may demand the behavior of backtracking but the cut inside the module prevents
backtracks in the external rule.
In this case, the reasoning scope is helpful to wrap the loosely-gathered module to be confined
by closing side effects like cuts.

Specifically, any search path that reaches </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span> opens a new </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹frameâ€º</span></span></span><span> namely a space
of search paths.
The sub-searches continuing the path and before reaching
the paired </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span> are in this frame.
As Ï†-LPR works in BFS, a frame can contain another frame just if the search in the frame
encounters another </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span>.
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¦ âŸ¹ ğ—‹BEGIN âŸ¹ A<span class="hidden">â‡©</span><sub>1</sub> âŸ¹ ğ—‹BEGIN âŸ¹ A<span class="hidden">â‡©</span><sub>2</sub> âŸ¹ ğ—‹END âŸ¹ A<span class="hidden">â‡©</span><sub>3</sub> âŸ¹ ğ—‹END âŸ¹ â€¦â€º</span></span></span><span> \]
Once any search path encounters a </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span>, the innermost frame is closed and the sequent of the
search path is returned with dropping all other branches in the frame.
The mechanism checks whether all </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span> and </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span> are paired.

Any global cut cuts all and only all search branches in the innermost frame to which the cut
belongs. </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a><span>â€º</span></span></span><span> is prohibited in the nested scope because we do not know how to process
the remain antecedents after the </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Success|const"><span>ğ—‹Success</span></a><span>â€º</span></span></span><span> and how to return them into the outer scope.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;A&gt;frame|const"><span>ğ’œframe</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Call|const"><span>ğ—‹Call</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‹CALL</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>9</span><span class="main"><span>]</span></span><span> 8</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Call</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;A&gt;frame|const"><span>ğ’œframe</span></a><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹Call the antecedent </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> in a frameâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN_I|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;BEGIN_I|thm"><span>ğ—‹BEGIN_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN_def|fact"><span>ğ—‹BEGIN_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.\&lt;r&gt;END_I|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;END_I|thm"><span>ğ—‹END_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END_def|fact"><span>ğ—‹END_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/nested.ML.html"><span>â€¹library/nested.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;BEGIN|const"><span>ğ—‹BEGIN</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>PLPR_Nested_Reasoning.enter_scope</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;END|const"><span>ğ—‹END</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>PLPR_Nested_Reasoning.exit_scope</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Call|const"><span>ğ—‹Call</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Call|const"><span>ğ—‹CALL</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>PLPR_Nested_Reasoning.call</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pruningâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹At a reasoning state </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span>, multiple search branches may be emitted parallel to
find a solution of the antecedent.
A branch may find the solution while other branches from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span> still remain in the search history.
Then the reasoning in DFS manner keeps to solve next antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Bâ€º</span></span></span><span> and we assume </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Bâ€º</span></span></span><span> fails.
The reasoning then backtrack, and redo the search of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span> on remaining branches of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span>.
It is not reasonable because the reasoning is redoing a solved problem on </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span>.
To address this, a solution is to prune branches of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span> after </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span> succeeds.

In this section we introduce </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>subgoalâ€º</span></span></span><span> mechanism achieving the pruning.
Each antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Aâ€º</span></span></span><span> is tagged with a goal context </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span>, as </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹A @GOAL Gâ€ºâ€º</span></span></span><span>.
A reasoning rule may check that the goal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> has not been solved before doing any substantial
computation, e.g.,
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>CHK_SUBGOAL G âŸ¹ Computation âŸ¹ (Ant @GOAL G)â€º</span></span></span><span> \]
Antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>CHK_SUBGOAL Gâ€º</span></span></span><span> succeeds only when the goal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> is not marked solved, </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹orâ€º</span></span></span><span>, the current
  search branch is the thread that marked </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> solved previously.
When a rule succeeds, the rule may mark the goal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> solved to prune other branches that check </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span>.
\[ </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Computation âŸ¹ SOLVE_SUBGOAL G âŸ¹ (Ant @GOAL G)â€º</span></span></span><span> \]
If a goal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> has been marked solved, any other antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>SOLVE_SUBGOAL Gâ€º</span></span></span><span> marking </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> again, will
fail, unless the current search branch is the thread that marked </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> solved previously.

A subgoal is represented by an unspecified type which only has a syntactic effect in the reasoning.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.arity_type_subgoal|fact"><span class="entity_def" id="PLPR.arity_type_subgoal|thm"><span class="entity_def" id="PLPR.arity_type_subgoal|axiom"><span>typedecl</span></span></span></span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PLPR.subgoal|type"><span>subgoal</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.subgoal_context|const"><span>subgoal_context</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.action|type"><span>action</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.GOAL_CTXT|const"><span>GOAL_CTXT</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"_  </span><span class="keyword1"><span>@GOAL</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>26</span><span class="main"><span>,</span></span><span>1000</span><span class="main"><span>]</span></span><span> 26</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>@GOAL</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag|const"><span>@tag</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal_context|const"><span>subgoal_context</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.CHK_SUBGOAL_def|fact"><span class="entity_def" id="PLPR.CHK_SUBGOAL_def|thm"><span class="entity_def" id="PLPR.CHK_SUBGOAL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.CHK_SUBGOAL|const"><span>CHK_SUBGOAL</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹Check whether the goal is solvedâ€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CHK_SUBGOAL</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.SOLVE_SUBGOAL_def|fact"><span class="entity_def" id="PLPR.SOLVE_SUBGOAL_def|thm"><span class="entity_def" id="PLPR.SOLVE_SUBGOAL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>SOLVE_SUBGOAL</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Subgoals are hierarchical, having the unique top-most goal named </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹TOP_GOALâ€ºâ€º</span></span></span><span>.
New goal contexts are obtained by antecedent </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹SUBGOAL G ?G'â€ºâ€º</span></span></span><span> which assigns a new subgoal
under an unsolved </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> to output variable </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?G'â€º</span></span></span><span>.
The reasoning raises an error if </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?G'â€º</span></span></span><span> is not a schematic variable.

</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹SOLVE_SUBGOAL Gâ€ºâ€º</span></span></span><span> marks the goal </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Gâ€º</span></span></span><span> and all its subgoals solved.
The </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>TOP_GOALâ€º</span></span></span><span> can never be solved.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR.TOP_GOAL|const"><span>TOP_GOAL</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.SUBGOAL_def|fact"><span class="entity_def" id="PLPR.SUBGOAL_def|thm"><span class="entity_def" id="PLPR.SUBGOAL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.SUBGOAL|const"><span>SUBGOAL</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>SUBGOAL</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ROOT</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>NEW_GOAL</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementation of the Subgoal Reasonersâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.SUBGOAL_I|fact"><span class="entity_def" id="PLPR.SUBGOAL_I|thm"><span>SUBGOAL_I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SUBGOAL|const"><span>SUBGOAL</span></a><span> </span><span class="free"><span>ROOT</span></span><span> </span><span class="free"><span>NEWGOAL</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SUBGOAL_def|fact"><span>SUBGOAL_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.CHK_SUBGOAL_I|fact"><span class="entity_def" id="PLPR.CHK_SUBGOAL_I|thm"><span>CHK_SUBGOAL_I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.CHK_SUBGOAL|const"><span>CHK_SUBGOAL</span></a><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.CHK_SUBGOAL_def|fact"><span>CHK_SUBGOAL_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.SOLVE_SUBGOAL_I|fact"><span class="entity_def" id="PLPR.SOLVE_SUBGOAL_I|thm"><span>SOLVE_SUBGOAL_I</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></a><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL_def|fact"><span>SOLVE_SUBGOAL_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/Subgoal_Env.ML.html"><span>â€¹library/Subgoal_Env.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SUBGOAL|const"><span>SUBGOAL</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SUBGOAL|const"><span>SUBGOAL</span></a><span> </span><span class="var"><span>?ROOT</span></span><span> </span><span class="var"><span>?NEWGOAL</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Subgoal_Env.subgoal</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.CHK_SUBGOAL|const"><span>CHK_SUBGOAL</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.CHK_SUBGOAL|const"><span>CHK_SUBGOAL</span></a><span> </span><span class="var"><span>?GOAL</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Subgoal_Env.chk_subgoal</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></a><span> </span><span class="var"><span>?GOAL</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>Subgoal_Env.solve_subgoal</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>


</span><span class="comment1"><span>(* subsection â€¹Exhaustive Divergenceâ€º

ML_file â€¹library/exhaustive_divergen.MLâ€º

definition â€¹Begin_Exhaustive_Divergence âŸ· Trueâ€º
definition â€¹  End_Exhaustive_Divergence âŸ· Trueâ€º
definition [iff]: â€¹Stop_Divergence âŸ· Trueâ€º

lemma Stop_Divergence_I: â€¹Stop_Divergenceâ€º unfolding Stop_Divergence_def ..

lemma Begin_Exhaustive_Divergence_I: â€¹Begin_Exhaustive_Divergenceâ€º
  unfolding Begin_Exhaustive_Divergence_def ..

lemma End_Exhaustive_Divergence_I: â€¹End_Exhaustive_Divergenceâ€º
  unfolding End_Exhaustive_Divergence_def ..

Ï†reasoner_ML Begin_Exhaustive_Divergence 1000 (â€¹Begin_Exhaustive_Divergenceâ€º)
  = â€¹PLPR_Exhaustive_Divergence.begin Seq.of_listâ€º

Ï†reasoner_ML Stop_Divergence 1000 (â€¹Stop_Divergenceâ€º) =
  â€¹apsnd (fn th =&gt; @{thm Stop_Divergence_I} RS th) #&gt; PLPR_Exhaustive_Divergence.stopâ€º

Ï†reasoner_ML End_Exhaustive_Divergence 1000 (â€¹End_Exhaustive_Divergenceâ€º)
  = â€¹PLPR_Exhaustive_Divergence.exitâ€º
*)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Branchâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Meta Branchâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A ||| Bâ€º</span></span></span><span> is an antecedent way to encode search branch.
Compared with the ordinary approach using multiple submissive rules,
short-cut is featured by using subgoal. It tries each antecedent from left to right until
      the first success of solving an antecedent, and none of the remains are attempted.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Branch_def|fact"><span class="entity_def" id="PLPR.Branch_def|thm"><span class="entity_def" id="PLPR.Branch_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Branch|const"><span>Branch</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>|||</span></span><span>"</span></span><span> 3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Branch</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Branch_embed_def|fact"><span class="entity_def" id="PLPR.Branch_embed_def|thm"><span class="entity_def" id="PLPR.Branch_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Branch_embed|const"><span>Branch_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Branch_embed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.atomize_Branch|fact"><span class="entity_def" id="PLPR.atomize_Branch|thm"><span>atomize_Branch</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch|const"><span>Branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_def|fact"><span>Branch_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.or_def|fact"><span>or_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_imp|fact"><span>atomize_imp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_all|fact"><span>atomize_all</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch|const"><span>Branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_embed|const"><span>Branch_embed</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_embed_def|fact"><span>Branch_embed_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.atomize_Branch|fact"><span>atomize_Branch</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Branch_L|fact"><span class="entity_def" id="PLPR.Branch_L|thm"><span>Branch_L</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch|const"><span>|||</span></a></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_def|fact"><span>Branch_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_92462..92463">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_92560..92562">A'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="skolem"><span>C</span></span><span>â€º</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="skolem"><span>C</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_92560..92562"><span>A'</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_92462..92463"><span>A</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Branch_R|fact"><span class="entity_def" id="PLPR.Branch_R|thm"><span>Branch_R</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch|const"><span>|||</span></a></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_def|fact"><span>Branch_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_92721..92722">B</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="main"><span>â‹€</span></span><span class="bound"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_92819..92821">B'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="skolem"><span>C</span></span><span>â€º</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="skolem"><span>C</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_92819..92821"><span>B'</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#offset_92721..92722"><span>B</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span>
    </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_L|fact"><span>Branch_L</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch_R|fact"><span>Branch_R</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><span class="var"><span>?A</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Branch|const"><span>|||</span></a></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="var"><span>?B</span></span><span>â€º</span></span></span><span class="main"><span>,</span></span><span>
    </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span>%</span></span></span><span>cutting</span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI1|fact"><span>HOL.disjI1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjI2|fact"><span>HOL.disjI2</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="var"><span>?A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="var"><span>?B</span></span><span>â€º</span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>cutting</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>cutting</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Cutting Branchâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Orelse_shortcut_def|fact"><span class="entity_def" id="PLPR.Orelse_shortcut_def|thm"><span class="entity_def" id="PLPR.Orelse_shortcut_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Orelse_shortcut|const"><span>Orelse_shortcut</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub></span></span><span>"</span></span><span> 20</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="free"><span>(âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub>)</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(âˆ¨)</span></a></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span>â€º</span></span></span><span>, if </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>A</span></span><span>â€º</span></span></span><span> succeeds, </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>B</span></span><span>â€º</span></span></span><span> will not be attempted in any future backtrack.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Orelse_shortcut_I1|fact"><span class="entity_def" id="PLPR.Orelse_shortcut_I1|thm"><span>Orelse_shortcut_I1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>A</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></a><span> </span><span class="free"><span>G</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_def|fact"><span>Orelse_shortcut_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Orelse_shortcut_I2|fact"><span class="entity_def" id="PLPR.Orelse_shortcut_I2|thm"><span>Orelse_shortcut_I2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>B</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub></span></a></span><span> </span><span class="free"><span>B</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_def|fact"><span>Orelse_shortcut_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>Orelse_shortcut</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>âˆ¨<span class="hidden">â‡©</span><sub>c</sub><span class="hidden">â‡©</span><sub>u</sub><span class="hidden">â‡©</span><sub>t</sub></span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>G</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>goal</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Subgoal_Env.allocate_subgoal</span></span><span> </span><span>NONE</span><span> </span><span class="entity"><span>ctxt</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>I1</span></span><span class="main"><span>,</span></span><span class="entity"><span>I2</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span>Thm.instantiate</span><span> </span><span class="main"><span>(</span></span><span>TVars.empty</span><span class="main"><span>,</span></span><span> </span><span>Vars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"G"</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="entity"><span>G</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
                        </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_I1|fact"><span>Orelse_shortcut_I1</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_I2|fact"><span>Orelse_shortcut_I2</span></a><span class="antiquote"><span>}</span></span></span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>tac</span></span><span> </span><span class="entity"><span>sequent0</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Syntax.rulify_antecedents</span></span><span> </span><span>false</span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>I2</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent0</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>Subgoal_Env.chk_goal</span></span><span> </span><span class="entity"><span>goal</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>NONE</span><span>
            </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>try</span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*Trueprop*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut|const"><span>Orelse_shortcut</span></a><span>â€º</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                      </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>I1</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tac</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
               </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Syntax.rulify_antecedents</span></span><span> </span><span>false</span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>I1</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tac</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_I1|fact"><span>Orelse_shortcut_I1</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Orelse_shortcut_I2|fact"><span>Orelse_shortcut_I2</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Runtime-Deterministic Branchâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The condition </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Câ€º</span></span></span><span> in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>If C P Qâ€º</span></span></span><span> must be a constant boolean (after evaluation) in the reasoning
      time. The reasoning is always runtimely-deterministic that only goes to one branch in the
      reasoning time. It is not designed for branching reasoning.
      If the condition is failed to be evaluated into a constant, the reasoning fails.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>ğ—‹if</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>cutting</span><span>
                      </span><span class="quoted"><span>â€¹Rules reasoning branches in reasoning time.â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.RDB_True|fact"><span class="entity_def" id="PLPR.RDB_True|thm"><span>RDB_True</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.RDB_False|fact"><span class="entity_def" id="PLPR.RDB_False|thm"><span>RDB_False</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>2</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>C</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard|const"><span>ğ—€ğ—ğ–ºğ—‹ğ–½</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><span class="free"><span>C</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Default_Simplify|const"><span>ğ—Œğ—‚ğ—†ğ—‰ğ—…ğ—‚ğ–¿ğ—’</span></a></span><span> </span><span class="free"><span>C'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Default_Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>C</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="free"><span>C'</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>ğ–¼ğ—ˆğ—‡ğ–½ğ—‚ğ—ğ—‚ğ—ˆğ—‡</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span> </span><span class="free"><span>C'</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Guard_def|fact"><span>ğ—‹Guard_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify_def|fact"><span>Simplify_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split|const"><span>case_split</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.case_split_def|fact"><span>case_split_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span>ğ—‹if</span><span class="main"><span class="main"><span class="main"><span class="main"><span>+</span></span></span></span></span><span>10</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl|const"><span>LPR_ctrl</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>Q</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.LPR_ctrl_def|fact"><span>LPR_ctrl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Tryâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Try_def|fact"><span class="entity_def" id="PLPR.Try_def|thm"><span class="entity_def" id="PLPR.Try_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Try|const"><span>Try</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Try</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>success_or_fail</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Attempt_Fallback_def|fact"><span class="entity_def" id="PLPR.Attempt_Fallback_def|thm"><span class="entity_def" id="PLPR.Attempt_Fallback_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Attempt_Fallback|const"><span>Attempt_Fallback</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Attempt_Fallback</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹
The typical usage is </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹Try ?success_or_fail Pâ€ºâ€º</span></span></span><span>, where
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> should be an antecedent having some fallback reasoner (not given here),
and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>?success_or_failâ€º</span></span></span><span> is an output variable representing whether the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> is successfully
deduced </span><span class="antiquoted"><span class="operator"><span>âˆ—</span></span><span class="plain_text"><span>â€¹withoutâ€º</span></span></span><span> using fallback.

A high priority (800) rule reasons </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>â€¹Try True Pâ€ºâ€º</span></span></span><span> normally and set the output variable
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>success_or_failâ€º</span></span></span><span> to be true.

To use </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Try True Pâ€º</span></span></span><span>, the corresponding fallback rule </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Attempt_Fallback Pâ€º</span></span></span><span> has to be given.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span class="quoted"><span>"</span><span>try</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span class="main"><span>+</span></span><span>1</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try|const"><span>Try</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>cutting</span><span>
                        </span><span class="quoted"><span>â€¹Rules for reasoning â€¹Try _ _â€º â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Try_true_branch|fact"><span class="entity_def" id="PLPR.Try_true_branch|thm"><span>Try_true_branch</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span class="quoted"><span>"</span><span>try</span><span>"</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SOLVE_SUBGOAL|const"><span>SOLVE_SUBGOAL</span></a><span> </span><span class="free"><span>G</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try|const"><span>Try</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>P</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try_def|fact"><span>Try_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Try_false_branch|fact"><span class="entity_def" id="PLPR.Try_false_branch|thm"><span>Try_false_branch</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="main"><span class="main"><span class="main"><span class="main"><span>%</span></span></span></span></span><span class="quoted"><span>"</span><span>try</span><span>"</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Attempt_Fallback|const"><span>Attempt_Fallback</span></a><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try|const"><span>Try</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>P</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Attempt_Fallback_def|fact"><span>Attempt_Fallback_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try_def|fact"><span>Try_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try|const"><span>Try</span></a></span><span> </span><span class="main"><span>%</span></span><span class="quoted"><span>"</span><span>try</span><span>"</span></span><span> </span><span class="main"><span>+</span></span><span> 1 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try|const"><span>Try</span></a><span> </span><span class="var"><span>?var_F</span></span><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="comment1"><span>(*Trueprop*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="comment1"><span>(*Try*)</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>G'</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sg</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Subgoal_Env.allocate_subgoal</span></span><span> </span><span>NONE</span><span> </span><span class="entity"><span>ctxt</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>fallback</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>Subgoal_Env.chk_goal</span></span><span> </span><span class="entity"><span>sg</span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span>NONE</span><span>
          </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt'</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try_false_branch|fact"><span>Try_false_branch</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>true_rule</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.instantiate</span><span> </span><span class="main"><span>(</span></span><span>TVars.empty</span><span class="main"><span>,</span></span><span> </span><span>Vars.make</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"G"</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.subgoal|type"><span>subgoal</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="entity"><span>G'</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Try_true_branch|fact"><span>Try_true_branch</span></a><span class="antiquote"><span>}</span></span></span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt'</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>true_rule</span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>fallback</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>






</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Optimal Solutionâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Ï†-LPR is priority-driven DFS searching the first reached solution which may not be the optimal
  one for certain measure. The section gives a way to find out the solution of the minimum cost
  among a given set of candidates.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Optimum_Solution_def|fact"><span class="entity_def" id="PLPR.Optimum_Solution_def|thm"><span class="entity_def" id="PLPR.Optimum_Solution_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Optimum_Solution|const"><span>Optimum_Solution</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Optimum_Solution</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Begin_Optimum_Solution_def|fact"><span class="entity_def" id="PLPR.Begin_Optimum_Solution_def|thm"><span class="entity_def" id="PLPR.Begin_Optimum_Solution_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.Begin_Optimum_Solution|const"><span>Begin_Optimum_Solution</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.End_Optimum_Solution_def|fact"><span class="entity_def" id="PLPR.End_Optimum_Solution_def|thm"><span class="entity_def" id="PLPR.End_Optimum_Solution_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.End_Optimum_Solution|const"><span>End_Optimum_Solution</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>âŸ·</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Each individual invocation of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Optimum_Solution Pâ€º</span></span></span><span>
invokes an individual instance of the optimal solution reasoning.
The reasoning of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Pâ€º</span></span></span><span> is proceeded exhaustively meaning exploring all backtracks except local cuts.
â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Candidatesâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The candidates are all search branches diverged from the antecedents marked by â€º</span></span></span><span>

</span><span class="comment1"><span>(* definition ğ—‹Choice :: â€¹prop â‡’ propâ€º ("ğ—‹CHOICE _" [3] 2) where â€¹ğ—‹Choice P â‰¡ Pâ€º

lemma ğ—‹Choice_I: â€¹ PROP P âŸ¹ PROP ğ—‹Choice Pâ€º unfolding ğ—‹Choice_def . *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹For the antecedents marked by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Choiceâ€º</span></span></span><span>, the mechanism traverses exhaustively all
combinations of their (direct) solvers, but for other not marked antecedents, the strategy is
not changed and is as greedy as the usual behavior --- returning the first-reached solution
and discarding the others.

As an example, in
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Begin_Optimum_Solution âŸ¹ ğ—‹Choice A âŸ¹ B âŸ¹ ğ—‹Choice C âŸ¹ End_Optimum_Solution âŸ¹ â€¦â€º</span></span></span><span>,
assuming both </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A,B,Câ€º</span></span></span><span> have 2 solvers </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A<span class="hidden">â‡©</span><sub>1</sub>,A<span class="hidden">â‡©</span><sub>2</sub>,B<span class="hidden">â‡©</span><sub>1</sub>,B<span class="hidden">â‡©</span><sub>2</sub>,C<span class="hidden">â‡©</span><sub>1</sub>,C<span class="hidden">â‡©</span><sub>2</sub>â€º</span></span></span><span> and assuming </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>B<span class="hidden">â‡©</span><sub>1</sub>â€º</span></span></span><span> have higher priority
than </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>B<span class="hidden">â‡©</span><sub>2</sub>â€º</span></span></span><span> and can success, the mechanism traverses 4 combination of the solvers </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A<span class="hidden">â‡©</span><sub>1</sub>,C<span class="hidden">â‡©</span><sub>1</sub>â€º</span></span></span><span>,
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A<span class="hidden">â‡©</span><sub>1</sub>,C<span class="hidden">â‡©</span><sub>2</sub>â€º</span></span></span><span>, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A<span class="hidden">â‡©</span><sub>2</sub>,C<span class="hidden">â‡©</span><sub>1</sub>â€º</span></span></span><span>, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>A<span class="hidden">â‡©</span><sub>2</sub>,C<span class="hidden">â‡©</span><sub>2</sub>â€º</span></span></span><span>, i.e., only exhaustively on </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Choiceâ€º</span></span></span><span>-marked antecedents but still
greedy on others.

Note, even marked by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Choiceâ€º</span></span></span><span>, local cuts are still valid and cuts search branches.
Global cut is disabled during the whole reasoning because it kills other search branches.
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span> is available and the mechanism ensures it is always the optimal one invokes the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>ğ—‹Successâ€º</span></span></span><span>.
â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Costâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The cost is measured by reports from the following antecedents inserted in the user rules.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Incremental_Cost_def|fact"><span class="entity_def" id="PLPR.Incremental_Cost_def|thm"><span class="entity_def" id="PLPR.Incremental_Cost_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Incremental_Cost|const"><span>Incremental_Cost</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Incremental_Cost</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Threshold_Cost_def|fact"><span class="entity_def" id="PLPR.Threshold_Cost_def|thm"><span class="entity_def" id="PLPR.Threshold_Cost_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Threshold_Cost|const"><span>Threshold_Cost</span></span></span><span>   </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—ğ—ğ—‹ğ–¾ğ—Œğ—ğ—ˆğ—…ğ–½</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Threshold_Cost</span></span><span>   </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The final cost of a reasoning process is the sum of all the reported </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Incremental_Costâ€º</span></span></span><span> or
  the maximum </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Threshold_Costâ€º</span></span></span><span>, the one which is larger.

If the cost of two branches are the same, the first reached one is considered better.
â€º</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Optimum_Solution_embed_def|fact"><span class="entity_def" id="PLPR.Optimum_Solution_embed_def|thm"><span class="entity_def" id="PLPR.Optimum_Solution_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Optimum_Solution_embed|const"><span>Optimum_Solution_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Optimum_Solution_embed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution|const"><span>Optimum_Solution</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution_embed|const"><span>Optimum_Solution_embed</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution_embed_def|fact"><span>Optimum_Solution_embed_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution_def|fact"><span>Optimum_Solution_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Incremental_Cost_I|fact"><span class="entity_def" id="PLPR.Incremental_Cost_I|thm"><span>Incremental_Cost_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Incremental_Cost|const"><span>Incremental_Cost</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Incremental_Cost_def|fact"><span>Incremental_Cost_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Threshold_Cost_I|fact"><span class="entity_def" id="PLPR.Threshold_Cost_I|thm"><span>Threshold_Cost_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Threshold_Cost|const"><span>Threshold_Cost</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Threshold_Cost_def|fact"><span>Threshold_Cost_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Begin_Optimum_Solution_I|fact"><span class="entity_def" id="PLPR.Begin_Optimum_Solution_I|thm"><span>Begin_Optimum_Solution_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Begin_Optimum_Solution|const"><span>Begin_Optimum_Solution</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Begin_Optimum_Solution_def|fact"><span>Begin_Optimum_Solution_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.End_Optimum_Solution_I|fact"><span class="entity_def" id="PLPR.End_Optimum_Solution_I|thm"><span>End_Optimum_Solution_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution|const"><span>End_Optimum_Solution</span></a><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution_def|fact"><span>End_Optimum_Solution_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Do_Optimum_Solution|fact"><span class="entity_def" id="PLPR.Do_Optimum_Solution|thm"><span>Do_Optimum_Solution</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>X</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution|const"><span>End_Optimum_Solution</span></a><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution|const"><span>Optimum_Solution</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution_def|fact"><span>Optimum_Solution_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
                                    
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/optimum_solution.ML.html"><span>â€¹library/optimum_solution.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Incremental_Cost|const"><span>Incremental_Cost</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Incremental_Cost|const"><span>Incremental_Cost</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>HOLogic.dest_number</span></span><span> </span><span class="entity"><span>N</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Incremental_Cost_I|fact"><span>Incremental_Cost_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.pull</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Optimum_Solution.report_cost</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>n</span></span><span class="main"><span>,</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Threshold_Cost|const"><span>Threshold_Cost</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Threshold_Cost|const"><span>Threshold_Cost</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>HOLogic.dest_number</span></span><span> </span><span class="entity"><span>N</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>sequent'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Threshold_Cost_I|fact"><span>Threshold_Cost_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.pull</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>PLPR_Optimum_Solution.report_cost</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_numeral"><span>0</span></span><span class="main"><span>,</span></span><span class="entity"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="main"><span>)</span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution|const"><span>Optimum_Solution</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Solution|const"><span>Optimum_Solution</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>PLPR_Optimum_Solution.internal_start</span></span><span> </span><span>o</span><span> </span><span>apsnd</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>th</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_Optimum_Solution|fact"><span>Do_Optimum_Solution</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Begin_Optimum_Solution|const"><span>Begin_Optimum_Solution</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Begin_Optimum_Solution|const"><span>Begin_Optimum_Solution</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>PLPR_Optimum_Solution.internal_start</span></span><span> </span><span>o</span><span> </span><span>apsnd</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>th</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Begin_Optimum_Solution_I|fact"><span>Begin_Optimum_Solution_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution|const"><span>End_Optimum_Solution</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution|const"><span>End_Optimum_Solution</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹
  </span><span class="entity"><span>PLPR_Optimum_Solution.internal_finish</span></span><span> </span><span>o</span><span> </span><span>apsnd</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>th</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.End_Optimum_Solution_I|fact"><span>End_Optimum_Solution_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>th</span></span><span class="main"><span>)</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>
â€º</span></span><span>

</span><span class="comment1"><span>(*Ï†reasoner_ML ğ—‹Choice 1000 (â€¹PROP ğ—‹Choice _â€º) = â€¹fn (ctxt,sequent) =&gt;
  PLPR_Optimum_Solution.choices (ctxt, @{thm ğ—‹Choice_I} RS sequent)â€º *)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Derivationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Optimum_Among_def|fact"><span class="entity_def" id="PLPR.Optimum_Among_def|thm"><span class="entity_def" id="PLPR.Optimum_Among_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Optimum_Among|const"><span>Optimum_Among</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Optimum_Among</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Candidates</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Candidates</span></span></span></span><span>â€º</span></span></span><span>
  </span><span class="comment1"><span>â€• â€¹We leave it as a syntax merelyâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Optimum_Among_embed_def|fact"><span class="entity_def" id="PLPR.Optimum_Among_embed_def|thm"><span class="entity_def" id="PLPR.Optimum_Among_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Optimum_Among_embed|const"><span>Optimum_Among_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Optimum_Among_embed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Among|const"><span>Optimum_Among</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Among_embed|const"><span>Optimum_Among_embed</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Among_embed_def|fact"><span>Optimum_Among_embed_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Optimum_Among_def|fact"><span>Optimum_Among_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Recursion Guardâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹Recursion_Guard</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span>prop</span><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ—‹RECURSION'_GUARD'(</span></span><span>_</span><span class="keyword1"><span>')</span></span><span class="keyword3"><span>/ </span></span><span>_"</span></span><span> </span><span class="main"><span>[</span></span><span>2</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>]</span></span><span> 2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>(</span></span><span class="keyword1"><span class="free"><span>ğ—‹RECURSION_GUARD(</span></span></span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span class="free"><span>)</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹</span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹RECURSION_GUARD(</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>)</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span> annotates the reasoning of </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>P</span></span><span>â€º</span></span></span><span> is about goal </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>X</span></span><span>â€º</span></span></span><span>.
It remembers </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> and once in the following reasoning the same goal </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>â€¹</span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> occurs again,
it aborts the search branch because an infinite recursion happens.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_embed_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_embed_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_embed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Guard_embed|const"><span>ğ—‹Recursion_Guard_embed</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Recursion_Guard_embed</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_atomize_rules|attribute"><span class="operator"><span>iso_atomize_rules</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/iso_atomize.ML.html#PLPR.iso_rulify_rules|attribute"><span class="operator"><span>iso_rulify_rules</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹Recursion_Guard</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard_embed|const"><span>ğ—‹Recursion_Guard_embed</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard_embed_def|fact"><span>ğ—‹Recursion_Guard_embed_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard_def|fact"><span>ğ—‹Recursion_Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Residue_def|fact"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Residue_def|thm"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Residue_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.\&lt;r&gt;Recursion_Residue|const"><span>ğ—‹Recursion_Residue</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>ğ—‹Recursion_Residue</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Do_\&lt;r&gt;Recursion_Guard|fact"><span class="entity_def" id="PLPR.Do_\&lt;r&gt;Recursion_Guard|thm"><span>Do_ğ—‹Recursion_Guard</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Residue|const"><span>ğ—‹Recursion_Residue</span></a><span> </span><span class="free"><span>X</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹RECURSION_GUARD(</span></a></span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>)</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard_def|fact"><span>ğ—‹Recursion_Guard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 1000</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Residue|const"><span>ğ—‹Recursion_Residue</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Residue_def|fact"><span>ğ—‹Recursion_Residue_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/recursion_guard.ML.html"><span>â€¹library/recursion_guard.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹Recursion_Guard</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>ğ—‹RECURSION_GUARD(</span></a></span><span class="var"><span>?X</span></span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.\&lt;r&gt;Recursion_Guard|const"><span>)</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>PROP</span></span><span> </span><span class="var"><span>?P</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="entity"><span>PLPR_Recursion_Guard.reason</span></span><span> </span><span>o</span><span> </span><span>snd</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Do_\&lt;r&gt;Recursion_Guard|fact"><span>Do_ğ—‹Recursion_Guard</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Efficient Memoizationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹by adding the conclusion as a local reasoning rule, for conclusions containing no schematic
  variables only.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.Memoize_def|fact"><span class="entity_def" id="PLPR.Memoize_def|thm"><span class="entity_def" id="PLPR.Memoize_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR.Memoize|const"><span>Memoize</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>â‡’</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>â€º</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>MEMOIZE</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>9</span><span class="main"><span>]</span></span><span> 8</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>Memoize</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Memoize_I|fact"><span class="entity_def" id="PLPR.Memoize_I|thm"><span>Memoize_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>X</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize|const"><span>Memoize</span></a><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize_def|fact"><span>Memoize_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR.Memoize_D|fact"><span class="entity_def" id="PLPR.Memoize_D|thm"><span>Memoize_D</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize|const"><span>Memoize</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>X</span></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize_def|fact"><span>Memoize_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Implementationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_group</span></span></span><span> </span><span>locally_memoized</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>100000</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span>100000</span><span class="main"><span>,</span></span><span> 100000</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>_</span></span><span>â€º</span></span></span><span>
  </span><span class="quoted"><span>â€¹Locally memoized reasoning segmentsâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/memoization.ML.html"><span>â€¹library/memoization.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize|const"><span>Memoize</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize|const"><span>Memoize</span></a><span> </span><span class="main"><span>_</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Seq.make</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>Phi_Reasoners.tagged_memoize</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>SOME</span><span> </span><span class="entity"><span>s'</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>s'</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span>NONE</span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm'</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Memoize_I|fact"><span>Memoize_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="entity"><span>RS'</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Seq.empty</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Error Messageâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/failure_reason.ML.html"><span>â€¹library/tools/failure_reason.MLâ€º</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>Context_Position.is_really_visible</span><span> </span><span class="entity"><span>ctxt</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
         </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span>
               </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
         </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Phi_Reasoner.info_print</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING_I|fact"><span>TRACING_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>Context_Position.is_really_visible</span><span> </span><span class="entity"><span>ctxt</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
         </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span>
               </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
         </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
         </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>warning</span><span> </span><span class="entity"><span>str</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING_I|fact"><span>WARNING_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL&apos;|const"><span>FAIL'</span></a><span> </span><span class="var"><span>?x'</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>bmode</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>bmode</span></span><span> </span><span>&lt;&gt;</span><span> </span><span class="entity"><span>Phi_Reasoner.EXPLORATIVE_BACKTRACKING</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                        </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
                         </span><span class="main"><span>|</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL&apos;|const"><span>FAIL'</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
           </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
           </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Phi_Reasoners.report_failure_reason'</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span> </span><span class="main"><span>[</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                        </span><span class="entity"><span>Text_Encoding.decode_text_pretty</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
       </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL|const"><span>TRACE_FAIL</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL|const"><span>TRACE_FAIL</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL&apos;|const"><span>TRACE_FAIL'</span></a><span> </span><span class="var"><span>?x'</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>bmode</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>bmode</span></span><span> </span><span>&lt;&gt;</span><span> </span><span class="entity"><span>Phi_Reasoner.EXPLORATIVE_BACKTRACKING</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                        </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL|const"><span>TRACE_FAIL</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
                         </span><span class="main"><span>|</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACE_FAIL|const"><span>TRACE_FAIL</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
           </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
           </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Phi_Reasoners.report_failure_reason'</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span> </span><span class="main"><span>[</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
                        </span><span class="entity"><span>Text_Encoding.decode_text_pretty</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
       </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span>Seq.empty</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR&apos;|const"><span>ERROR'</span></a><span> </span><span class="var"><span>?x'</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                 </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
                  </span><span class="main"><span>|</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR&apos;|const"><span>ERROR'</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>error</span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>exception</span></span></span><span> </span><span class="entity"><span>PLPR_EXCEPTION</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span>string</span><span>â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.EXCEPTION|const"><span>EXCEPTION</span></a></span><span> </span><span class="main"><span>%</span></span><span>cutting</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.EXCEPTION|const"><span>EXCEPTION</span></a><span> </span><span class="var"><span>?x</span></span><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                 </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.EXCEPTION|const"><span>EXCEPTION</span></a><span>â€º</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
    </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span class="entity"><span>PLPR_EXCEPTION</span></span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> 100</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.OR_FAIL|const"><span>ğ—ˆğ—‹</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.OR_FAIL|const"><span>ğ–¿ğ–ºğ—‚ğ—…</span></a></span><span> </span><span class="free"><span>text</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.OR_FAIL_def|fact"><span>OR_FAIL_def</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>Ï†reason</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>no</span></span></span></span><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>explorative</span></span></span></span><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>backtrack</span></span></span></span><span> 90</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>â€¹ </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="free"><span>text</span></span><span>
</span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.OR_FAIL|const"><span>ğ—ˆğ—‹</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.OR_FAIL|const"><span>ğ–¿ğ–ºğ—‚ğ—…</span></a></span><span> </span><span class="free"><span>text</span></span><span> â€º</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL_def|fact"><span>FAIL_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Syntactic Modeâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR.SYNTACTIC_MODE_def|fact"><span class="entity_def" id="PLPR.SYNTACTIC_MODE_def|thm"><span class="entity_def" id="PLPR.SYNTACTIC_MODE_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span class="entity_def" id="PLPR.SYNTACTIC_MODE|const"><span>SYNTACTIC_MODE</span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>Ï†reasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SYNTACTIC_MODE|const"><span>SYNTACTIC_MODE</span></a></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>â€¹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.SYNTACTIC_MODE|const"><span>SYNTACTIC_MODE</span></a><span>â€º</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>â€¹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span>assume_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span> </span><span class="entity"><span>sequent</span></span><span>
    </span><span>|&gt;</span><span> </span><span>Seq.map</span><span> </span><span class="main"><span>(</span></span><span>pair</span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
â€º</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Finaleâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/helpers99.ML.html"><span>â€¹library/tools/helpers99.MLâ€º</span></a></span><span>

</span><span class="comment1"><span>(*
subsection â€¹Obtainâ€º â€• â€¹A restricted version of generalized elimination for existential onlyâ€º
  â€• â€¹Maybe Useless, considering to discard!â€º

definition Obtain :: â€¹'a â‡’ ('a â‡’ bool) â‡’ boolâ€º where â€¹Obtain x P âŸ· P xâ€º
definition â€¹DO_OBTAIN â‰¡ Trueprop Trueâ€º

lemma DO_OBTAIN_I: â€¹PROP DO_OBTAINâ€º unfolding DO_OBTAIN_def ..
lemma Obtain_Framework:
  â€¹PROP Sequent âŸ¹ PROP GE âŸ¹ PROP DO_OBTAIN âŸ¹ PROP Sequent &amp;&amp;&amp; PROP GEâ€º
  using conjunctionI .

lemma Obtain_I:
  â€¹P x âŸ¹ Obtain x Pâ€º
  unfolding Obtain_def .

Ï†reasoner_ML Obtain 1200 (â€¹Obtain ?x ?Pâ€º) = â€¹
fn (ctxt, sequent) =&gt;
  let
    val obtain_goal = Thm.major_prem_of sequent
    fun obtain_goal_vars L (Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Obtainâ€º, _) $ V $ P) = obtain_goal_vars (V::L) P
      | obtain_goal_vars L (<span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Truepropâ€º $ P) = obtain_goal_vars L P
      | obtain_goal_vars L (Abs (_,_,P)) = obtain_goal_vars L P
      | obtain_goal_vars L _ = L
    fun to_ex_goal (Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Obtainâ€º, Type ("fun", [_, ty])) $ _ $ P)
          = Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Exâ€º, ty) $ to_ex_goal P
      | to_ex_goal (<span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Truepropâ€º $ P) = <span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Truepropâ€º $ to_ex_goal P
      | to_ex_goal (Abs (N,Ty,P)) = Abs (N,Ty, to_ex_goal P)
      | to_ex_goal P = P
    val goal = Thm.trivial (Thm.cterm_of ctxt (to_ex_goal obtain_goal))
    val L = obtain_goal_vars [] obtain_goal
   in
    if forall is_Var L
    then Seq.single (ctxt, goal RS (sequent COMP @{thm Obtain_Framework}))
    else error("asdwh78")
  end
â€º

Ï†reasoner_ML DO_OBTAIN 1200 (â€¹PROP DO_OBTAINâ€º) = â€¹
fn (ctxt, sequent') =&gt; Seq.make (fn _ =&gt;
  let
    val sequent'' = @{thm DO_OBTAIN_I} RS sequent'
    val (sequent, GE') = Conjunction.elim sequent''
    val obtain_goal = Thm.major_prem_of sequent
    fun obtain_goal_vars L (Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Obtainâ€º, _) $ V $ P) = obtain_goal_vars (V::L) P
      | obtain_goal_vars L (<span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Truepropâ€º $ P) = obtain_goal_vars L P
      | obtain_goal_vars L (Abs (_,_,P)) = obtain_goal_vars L P
      | obtain_goal_vars L _ = L
    fun get_goal (Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Obtainâ€º, _) $ _ $ P) = get_goal P
      | get_goal (Abs (_,_,P)) = get_goal P
      | get_goal (<span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span>â€¹Truepropâ€º $ P) = get_goal P
      | get_goal P = P
    val L = obtain_goal_vars [] obtain_goal
    val N = length L
    val GE = Tactical.REPEAT_DETERM_N N
                (Thm.biresolution NONE false [(true, @{thm exE})] 1) GE' |&gt; Seq.hd
    val (var_names, ctxt') = Proof_Context.add_fixes
          (map (fn tm =&gt; (Binding.name (Term.term_name tm), SOME (fastype_of tm), NoSyn)) L) ctxt
    val vars = map Free (var_names ~~ map Term.fastype_of L)
    val vars_c = map (Thm.cterm_of ctxt') vars
    val assm =
        Term.subst_bounds (vars, get_goal obtain_goal)
          |&gt; Thm.cterm_of ctxt'
    fun export_assm thm = thm
          |&gt; Thm.implies_intr assm
          |&gt; Drule.forall_intr_list vars_c
          |&gt; (fn th =&gt; th COMP GE)
    val ([assm_thm], ctxt'') = Assumption.add_assms (fn _ =&gt; fn _ =&gt; (export_assm, I)) [assm] ctxt'
    val sequent1 = Tactical.REPEAT_DETERM_N N
            (Thm.biresolution NONE false [(true, @{thm Obtain_I})] 1) sequent |&gt; Seq.hd
   in SOME ((ctxt'', assm_thm RS sequent1), Seq.empty)
  end
)â€º

*)</span></span><span>

</span><span class="comment1"><span>(* subsection â€¹Generalized Eliminationâ€º

definition "Ï†Generalized_Elimination x = x"

definition â€¹DO_GENERALIZED_ELIMINATION â‰¡ Trueprop Trueâ€º

lemma DO_GENERALIZED_ELIMINATION_I:
  â€¹PROP DO_GENERALIZED_ELIMINATIONâ€º
  unfolding DO_GENERALIZED_ELIMINATION_def ..

lemma Generalized_Elimination_Framework:
  â€¹ TERM P
âŸ¹ TERM P â€• â€¹Unifies prop in Sequent and that in GE hereâ€º
âŸ¹ PROP Sequent
âŸ¹ PROP GE
âŸ¹ PROP DO_GENERALIZED_ELIMINATION
âŸ¹ PROP GE &amp;&amp;&amp; PROP Sequentâ€º
  using Pure.conjunctionI .

ML_file â€¹library/elimination.MLâ€º

*)</span></span><span>


</span><span class="comment1"><span>(*
subsection â€¹Miscâ€º
 subsubsection â€¹Collect Schematic \&amp; Free \&amp; other termsâ€º â€• â€¹Not Stable!â€º

paragraph â€¹Schematicâ€º

definition â€¹Collect_Schematic (typ::'a itself) sch Term â‰¡ Trueprop Trueâ€º

text â€¹It collects all schematic variables matching type <span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span>â€¹'aâ€º in <span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span>â€¹Termâ€º.
  The return is in form <span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span>â€¹Collect_Schematic TYPE('a) (v1, v2, v3) Termâ€º.
  The matching of <span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span>â€¹'aâ€º is in the usual way, where only schematic variables but no free variables
    are considered as variables that can match something.â€º

lemma Collect_Schematic_I: â€¹PROP Collect_Schematic TY sch Termâ€º
  unfolding Collect_Schematic_def ..

Ï†reasoner_ML Collect_Schematic 1200 (â€¹PROP Collect_Schematic TYPE(?'a) ?sch ?Termâ€º) = â€¹
  fn (ctxt, sequent) =&gt;
    let
      val (Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Collect_Schematicâ€º, _)
            $ Const (<span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span>â€¹Pure.typeâ€º, Type(<span class="hidden">\&lt;^</span><span class="control">type_name</span><span class="hidden">&gt;</span>â€¹itselfâ€º, [T])))
            $ _
            $ Term
        = Thm.major_prem_of sequent
      val vs = fold_aterms (fn (v as Var (_, T')) =&gt; (fn L =&gt;
                                  if Type.could_match (T,T') then insert (op =) v L else L)
                             | _ =&gt; I) Term []
      val vs' = Thm.cterm_of ctxt (HOLogic.mk_tuple vs)
      val idx = Thm.maxidx_of_cterm vs' + 1
      val rule = Drule.infer_instantiate ctxt [(("sch",idx),vs')]
                    (Thm.incr_indexes idx @{thm Collect_Schematic_I})
    in Seq.single (ctxt, rule RS sequent)
    end
â€º
*)</span></span><span>
</span><span class="comment1"><span>(*Others, to be done!*)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>