<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory HOL-Data_Structures.Map_Specs</title>
</head>


<body>
<div class="head">
<h1>Theory HOL-Data_Structures.Map_Specs</h1>
</div>

<pre class="source"><span class="comment1"><span>(* Author: Tobias Nipkow *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Specifications of Map ADT›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="HOL-Data_Structures.Map_Specs.html"><span>Map_Specs</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="HOL-Data_Structures.AList_Upd_Del.html"><span>AList_Upd_Del</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The basic map interface with </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span> based specification:›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Map_Specs.Map.intro|fact"><span class="entity_def" id="Map_Specs.Map_def|fact"><span class="entity_def" id="Map_Specs.Map.intro|thm"><span class="entity_def" id="Map_Specs.Map_def|thm"><span class="entity_def" id="Map_Specs.Map_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map|locale"><span class="entity_def" id="Map_Specs.Map|const"><span>Map</span></span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'m</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>update</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'m</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'m</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>delete</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'m</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'m</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>lookup</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'m</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>invar</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'m</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.map_empty|fact"><span class="entity_def" id="Map_Specs.Map.map_empty|thm"><span class="entity_def" id="offset_368..377">map_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lookup</span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.map_update|fact"><span class="entity_def" id="Map_Specs.Map.map_update|thm"><span class="entity_def" id="offset_411..421">map_update</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>lookup</span></span><span class="main"><span>(</span></span><span class="free"><span>update</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>lookup</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.map_delete|fact"><span class="entity_def" id="Map_Specs.Map.map_delete|thm"><span class="entity_def" id="offset_486..496">map_delete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>lookup</span></span><span class="main"><span>(</span></span><span class="free"><span>delete</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>lookup</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.invar_empty|fact"><span class="entity_def" id="Map_Specs.Map.invar_empty|thm"><span class="entity_def" id="offset_557..568">invar_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span>empty</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.invar_update|fact"><span class="entity_def" id="Map_Specs.Map.invar_update|thm"><span class="entity_def" id="offset_588..600">invar_update</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>invar</span></span><span class="main"><span>(</span></span><span class="free"><span>update</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map.invar_delete|fact"><span class="entity_def" id="Map_Specs.Map.invar_delete|thm"><span class="entity_def" id="offset_638..650">invar_delete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>invar</span></span><span class="main"><span>(</span></span><span class="free"><span>delete</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#Map_Specs.Map|locale"><span>Map</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Map_Specs.Map.map_specs|fact"><span class="entity_def" id="Map_Specs.Map.map_specs(6)|thm"><span class="entity_def" id="Map_Specs.Map.map_specs(5)|thm"><span class="entity_def" id="Map_Specs.Map.map_specs(4)|thm"><span class="entity_def" id="Map_Specs.Map.map_specs(3)|thm"><span class="entity_def" id="Map_Specs.Map.map_specs(2)|thm"><span class="entity_def" id="Map_Specs.Map.map_specs(1)|thm"><span>map_specs</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_368..377"><span>map_empty</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_411..421"><span>map_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_486..496"><span>map_delete</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_557..568"><span>invar_empty</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_588..600"><span>invar_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_638..650"><span>invar_delete</span></a><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The basic map interface with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>inorder›</span></span></span><span>-based specification:›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Map_Specs.Map_by_Ordered.intro|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered_def|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.intro|thm"><span class="entity_def" id="Map_Specs.Map_by_Ordered_def|thm"><span class="entity_def" id="Map_Specs.Map_by_Ordered_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered|locale"><span class="entity_def" id="Map_Specs.Map_by_Ordered|const"><span>Map_by_Ordered</span></span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>update</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'t</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>delete</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'t</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>lookup</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>inorder</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>inv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_empty|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_empty|thm"><span class="entity_def" id="offset_1084..1097">inorder_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>empty</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_lookup|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_lookup|thm"><span class="entity_def" id="offset_1124..1138">inorder_lookup</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>lookup</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.map_of|const"><span>map_of</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_update|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_update|thm"><span class="entity_def" id="offset_1212..1226">inorder_update</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>inorder</span></span><span class="main"><span>(</span></span><span class="free"><span>update</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.upd_list|const"><span>upd_list</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_delete|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_delete|thm"><span class="entity_def" id="offset_1315..1329">inorder_delete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
  </span><span class="free"><span>inorder</span></span><span class="main"><span>(</span></span><span class="free"><span>delete</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.del_list|const"><span>del_list</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_empty|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_empty|thm"><span class="entity_def" id="offset_1414..1431">inorder_inv_empty</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>empty</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_update|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_update|thm"><span class="entity_def" id="offset_1450..1468">inorder_inv_update</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>inv</span></span><span class="main"><span>(</span></span><span class="free"><span>update</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_delete|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.inorder_inv_delete|thm"><span class="entity_def" id="offset_1524..1542">inorder_inv_delete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>inv</span></span><span class="main"><span>(</span></span><span class="free"><span>delete</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹It implements the traditional specification:›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar_def|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar_def|thm"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar_def_raw|axiom"><span class="entity_def" id="offset_1653..1663">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar.cong|fact"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar.cong|thm"><span class="entity_def" id="Map_Specs.Map_by_Ordered.invar|const"><span class="entity_def" id="offset_1664..1669">invar</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invar</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>==</span></span><span> </span><span class="free"><span>inv</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted1|const"><span>sorted1</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>inorder</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sublocale</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#Map_Specs.Map|locale"><span>Map</span></a><span>
  </span><span class="quoted"><span class="free"><span>empty</span></span></span><span> </span><span class="quoted"><span class="free"><span>update</span></span></span><span> </span><span class="quoted"><span class="free"><span>delete</span></span></span><span> </span><span class="quoted"><span class="free"><span>lookup</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1664..1669"><span>invar</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1124..1138"><span>inorder_lookup</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1084..1097"><span>inorder_empty</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1414..1431"><span>inorder_inv_empty</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>2</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1212..1226"><span>inorder_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1450..1468"><span>inorder_inv_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.map_of_ins_list|fact"><span>map_of_ins_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1124..1138"><span>inorder_lookup</span></a><span>
         </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted_upd_list|fact"><span>sorted_upd_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1653..1663"><span>invar_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>3</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1315..1329"><span>inorder_delete</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1524..1542"><span>inorder_inv_delete</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.map_of_del_list|fact"><span>map_of_del_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1124..1138"><span>inorder_lookup</span></a><span>
         </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted_del_list|fact"><span>sorted_del_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1653..1663"><span>invar_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>4</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1084..1097"><span>inorder_empty</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1414..1431"><span>inorder_inv_empty</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1653..1663"><span>invar_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>5</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1212..1226"><span>inorder_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1450..1468"><span>inorder_inv_update</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted_upd_list|fact"><span>sorted_upd_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1653..1663"><span>invar_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>6</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1315..1329"><span>inorder_delete</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1524..1542"><span>inorder_inv_delete</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.sorted_del_list|fact"><span>sorted_del_list</span></a><span> </span><a class="entity_ref" href="HOL-Data_Structures.Map_Specs.html#offset_1653..1663"><span>invar_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>