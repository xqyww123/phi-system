<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Binary_Trees</title>
</head>


<body>
<div class="head">
<h1>Theory Binary_Trees</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Binary_Trees.html"><span>Binary_Trees</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Phi_Semantics.PhiSem_C.html"><span>Phi_Semantics.PhiSem_C</span></a><span>
          </span><span class="quoted"><span>"</span><a href="HOL-Data_Structures.Tree_Map.html"><span>HOL-Data_Structures.Tree_Map</span></a><span>"</span></span><span>
          </span><a href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html"><span>Phi_Semantics.PhiSem_Int_ArbiPrec</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Abstract Model›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Common Operations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.Tree.tree.rel_eq|fact"><span>tree.rel_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_Leaf|fact"><span class="entity_def" id="Binary_Trees.rel_tree_Leaf(2)|thm"><span class="entity_def" id="Binary_Trees.rel_tree_Leaf(1)|thm"><span>rel_tree_Leaf</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;deriver_simps|attribute"><span class="operator"><span>φderiver_simps</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> ›</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_Node1|fact"><span class="entity_def" id="Binary_Trees.rel_tree_Node1|thm"><span>rel_tree_Node1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;deriver_simps|attribute"><span class="operator"><span>φderiver_simps</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.NO_MATCH|const"><span>NO_MATCH</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>L'</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>R'</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>L'</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>R'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="bound"><span>L'</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="bound"><span>R'</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>L</span></span><span> </span><span class="bound"><span>L'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>R'</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree__pred_tree|fact"><span class="entity_def" id="Binary_Trees.rel_tree__pred_tree|thm"><span>rel_tree__pred_tree</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.pred_tree|const"><span>pred_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_self_map|fact"><span class="entity_def" id="Binary_Trees.rel_tree_self_map|thm"><span>rel_tree_self_map</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.set_tree|const"><span>set_tree</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>map_tree</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_height|fact"><span class="entity_def" id="Binary_Trees.rel_tree_height|thm"><span>rel_tree_height</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>y</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.AList_Upd_map_of_is_Map_map_of|fact"><span class="entity_def" id="Binary_Trees.AList_Upd_map_of_is_Map_map_of|thm"><span>AList_Upd_map_of_is_Map_map_of</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Data_Structures.AList_Upd_Del.html#AList_Upd_Del.map_of|const"><span>map_of</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>Map.map_of</span></a><span> </span><span class="free"><span>l</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹tree_domain_distinct›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.lookup_tree.simps|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_def|fact"><span class="entity_def" id="Binary_Trees.lookup_tree.simps(2)|thm"><span class="entity_def" id="Binary_Trees.lookup_tree.simps(1)|thm"><span class="entity_def" id="Binary_Trees.lookup_tree_def|thm"><span class="entity_def" id="Binary_Trees.lookup_tree_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.lookup_tree|const"><span>lookup_tree</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>lookup_tree</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>lookup_tree</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>lookup_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add|const"><span>++</span></a></span><span> </span><span class="free"><span>lookup_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.tree_domain_distinct.simps|fact"><span class="entity_def" id="Binary_Trees.tree_domain_distinct_def|fact"><span class="entity_def" id="Binary_Trees.tree_domain_distinct.simps(2)|thm"><span class="entity_def" id="Binary_Trees.tree_domain_distinct.simps(1)|thm"><span class="entity_def" id="Binary_Trees.tree_domain_distinct_def|thm"><span class="entity_def" id="Binary_Trees.tree_domain_distinct_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree_domain_distinct</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> ›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree_domain_distinct</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                           </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                           </span><span class="free"><span>tree_domain_distinct</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>tree_domain_distinct</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree.simps|fact"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree_def|fact"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree.simps(2)|thm"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree.simps(1)|thm"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree_def|thm"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order|class"><span>order</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>sorted_lookup_tree</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>sorted_lookup_tree</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                         </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                         </span><span class="free"><span>sorted_lookup_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>sorted_lookup_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> ›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_tree_map_tree|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_map_tree|thm"><span>lookup_tree_map_tree</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.tree_domain_distinct_map|fact"><span class="entity_def" id="Binary_Trees.tree_domain_distinct_map|thm"><span>tree_domain_distinct_map</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>Tree.tree.map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_domain_eq|fact"><span class="entity_def" id="Binary_Trees.rel_tree_domain_eq|thm"><span>rel_tree_domain_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.sorted_lookup_tree_rel|fact"><span class="entity_def" id="Binary_Trees.sorted_lookup_tree_rel|thm"><span>sorted_lookup_tree_rel</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>y</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree_domain_distinct|fact"><span class="entity_def" id="Binary_Trees.rel_tree_domain_distinct|thm"><span>rel_tree_domain_distinct</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>y</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.sorted1_inorder_map_tree|fact"><span class="entity_def" id="Binary_Trees.sorted1_inorder_map_tree|thm"><span>sorted1_inorder_map_tree</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹sorted›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.tree_sorted_implies_domain_distinct|fact"><span class="entity_def" id="Binary_Trees.tree_sorted_implies_domain_distinct|thm"><span>tree_sorted_implies_domain_distinct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_tree_eq_empty|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_eq_empty|thm"><span>lookup_tree_eq_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_tree_by_set_distinct|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_by_set_distinct|thm"><span>lookup_tree_by_set_distinct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.set_tree|const"><span>tree.set_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_map_lookup_by_rel_tree|fact"><span class="entity_def" id="Binary_Trees.rel_map_lookup_by_rel_tree|thm"><span>rel_map_lookup_by_rel_tree</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_map_lookup_by_rel_tree2|fact"><span class="entity_def" id="Binary_Trees.rel_map_lookup_by_rel_tree2|thm"><span>rel_map_lookup_by_rel_tree2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.tree_domain_distinct|const"><span>tree_domain_distinct</span></a><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_tree_map_tree2|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_map_tree2|thm"><span>lookup_tree_map_tree2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree_map_tree|fact"><span>lookup_tree_map_tree</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> f</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta&apos;|fact"><span>case_prod_beta'</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.sorted_lookup_map_tree2|fact"><span class="entity_def" id="Binary_Trees.sorted_lookup_map_tree2|thm"><span>sorted_lookup_map_tree2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted1_inorder_map_tree|fact"><span>sorted1_inorder_map_tree</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> f</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.case_prod|const"><span>case_prod</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta&apos;|fact"><span>case_prod_beta'</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_left_children|fact"><span class="entity_def" id="Binary_Trees.lookup_left_children|thm"><span>lookup_left_children</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.left|const"><span>left</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.restrict_map|const"><span>|`</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.value|const"><span>value</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> ›</span></span></span><span>
  </span><span class="comment1"><span>― ‹this value is the value of the root node›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.restrict_map_def|fact"><span>restrict_map_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_right_children|fact"><span class="entity_def" id="Binary_Trees.lookup_right_children|thm"><span>lookup_right_children</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.right|const"><span>right</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.restrict_map|const"><span>|`</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.value|const"><span>value</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.restrict_map_def|fact"><span>restrict_map_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Insert Tree›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.insert_tree.simps|fact"><span class="entity_def" id="Binary_Trees.insert_tree_def|fact"><span class="entity_def" id="Binary_Trees.insert_tree.simps(2)|thm"><span class="entity_def" id="Binary_Trees.insert_tree.simps(1)|thm"><span class="entity_def" id="Binary_Trees.insert_tree_def|thm"><span class="entity_def" id="Binary_Trees.insert_tree_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.insert_tree|const"><span>insert_tree</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>insert_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>insert_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>insert_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>
                                     </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>
                                     </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>insert_tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><span>)</span></span><span> ›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_tree_insert_tree|fact"><span class="entity_def" id="Binary_Trees.lookup_tree_insert_tree|thm"><span>lookup_tree_insert_tree</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.insert_tree|const"><span>insert_tree</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_tree_sorted|fact"><span class="entity_def" id="Binary_Trees.insert_tree_sorted|thm"><span>insert_tree_sorted</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.insert_tree|const"><span>insert_tree</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_tree_not_Leaf|fact"><span class="entity_def" id="Binary_Trees.insert_tree_not_Leaf|thm"><span>insert_tree_not_Leaf</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.insert_tree|const"><span>insert_tree</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>tree</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>










</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Verifying the Concrete Programs›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.\&lt;t&gt;\&lt;r&gt;\&lt;e&gt;\&lt;e&gt;_\&lt;n&gt;\&lt;o&gt;\&lt;d&gt;\&lt;e&gt;|const"><span>𝗍𝗋𝖾𝖾_𝗇𝗈𝖽𝖾</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span> </span><span class="main"><span>{</span></span><span>left</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>,</span></span><span> data</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span class="main"><span>,</span></span><span> right</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>}</span></span><span> ›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.\&lt;k&gt;\&lt;v&gt;_\&lt;p&gt;\&lt;a&gt;\&lt;i&gt;\&lt;r&gt;|const"><span>𝗄𝗏_𝗉𝖺𝗂𝗋</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span> </span><span class="main"><span>{</span></span><span>k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.\&lt;b&gt;\&lt;s&gt;\&lt;t&gt;_\&lt;n&gt;\&lt;o&gt;\&lt;d&gt;\&lt;e&gt;|const"><span>𝖻𝗌𝗍_𝗇𝗈𝖽𝖾</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.\&lt;t&gt;\&lt;r&gt;\&lt;e&gt;\&lt;e&gt;_\&lt;n&gt;\&lt;o&gt;\&lt;d&gt;\&lt;e&gt;|const"><span>𝗍𝗋𝖾𝖾_𝗇𝗈𝖽𝖾</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.\&lt;k&gt;\&lt;v&gt;_\&lt;p&gt;\&lt;a&gt;\&lt;i&gt;\&lt;r&gt;|const"><span>𝗄𝗏_𝗉𝖺𝗂𝗋</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>

</span><span class="comment1"><span>(*
φtype_def BinTree :: ‹address ⇒ TY ⇒ (VAL, 'x) φ ⇒ (fiction, 'x tree) φ›
  where ‹ (Leaf ⦂ BinTree addr TY T)     = (Void 𝗌𝗎𝖻𝗃 addr = 0) ›
      | ‹ (⟨L, x, R⟩ ⦂ BinTree addr TY T) =
                (L ⦂ BinTree addr<span class="hidden">⇩</span><sub>L</sub> TY T❟
                 R ⦂ BinTree addr<span class="hidden">⇩</span><sub>R</sub> TY T❟
                 (addr<span class="hidden">⇩</span><sub>L</sub>, x, addr<span class="hidden">⇩</span><sub>R</sub>) ⦂ 𝗆𝖾𝗆[addr] ⦃ left: Ptr[𝗍𝗋𝖾𝖾_𝗇𝗈𝖽𝖾 TY], data: T, right: Ptr[𝗍𝗋𝖾𝖾_𝗇𝗈𝖽𝖾 TY] ⦄ 
                𝗌𝗎𝖻𝗃 addr<span class="hidden">⇩</span><sub>L</sub> addr<span class="hidden">⇩</span><sub>R</sub>. ⊤ )›

   deriving Basic
       and ‹Abstract_Domain T P ⟹ Abstract_Domain (BinTree addr TY T) (λx. pred_tree P x ∧ (x = Leaf ⟷ addr = 0)) ›
       and ‹Identity_Elements<span class="hidden">⇩</span><sub>E</sub> (BinTree addr TY T) (λl. addr = 0 ∧ l = Leaf)›  
       and ‹Identity_Elements<span class="hidden">⇩</span><sub>I</sub> (BinTree addr TY T) (λl. l = Leaf) (λl. addr = 0)›
       and ‹ 𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇 TY' = TY ∧ addr' = addr
         ⟹ Transformation_Functor (BinTree addr TY) (BinTree addr' TY') T U set_tree (λ_. UNIV) rel_tree›
           (arbitrary: addr')
       and Functional_Transformation_Functor
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.BinTree.elims|fact"><span class="entity_def" id="Binary_Trees.BinTree.induct|fact"><span class="entity_def" id="Binary_Trees.BinTree.simps|fact"><span class="entity_def" id="Binary_Trees.BinTree.pelims|fact"><span class="entity_def" id="Binary_Trees.BinTree.cases|fact"><span class="entity_def" id="Binary_Trees.BinTree.termination|fact"><span class="entity_def" id="Binary_Trees.BinTree.pinduct|fact"><span class="entity_def" id="Binary_Trees.BinTree.psimps|fact"><span class="entity_def" id="Binary_Trees.BinTree_rel.inducts|fact"><span class="entity_def" id="Binary_Trees.BinTree_rel.simps|fact"><span class="entity_def" id="Binary_Trees.BinTree_rel.induct|fact"><span class="entity_def" id="Binary_Trees.BinTree_rel.cases|fact"><span class="entity_def" id="Binary_Trees.BinTree_rel.intros|fact"><span class="entity_def" id="Binary_Trees.BinTree_graph.inducts|fact"><span class="entity_def" id="Binary_Trees.BinTree_graph.simps|fact"><span class="entity_def" id="Binary_Trees.BinTree_graph.induct|fact"><span class="entity_def" id="Binary_Trees.BinTree_graph.cases|fact"><span class="entity_def" id="Binary_Trees.BinTree_graph.intros|fact"><span class="entity_def" id="Binary_Trees.BinTree.elims|thm"><span class="entity_def" id="Binary_Trees.BinTree.induct|thm"><span class="entity_def" id="Binary_Trees.BinTree.simps(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.simps(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.pelims|thm"><span class="entity_def" id="Binary_Trees.BinTree.cases|thm"><span class="entity_def" id="Binary_Trees.BinTree.termination|thm"><span class="entity_def" id="Binary_Trees.BinTree.pinduct|thm"><span class="entity_def" id="Binary_Trees.BinTree.psimps(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.psimps(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.inducts|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.simps|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.induct|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.cases|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.intros(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree_rel.intros(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.inducts|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.simps|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.induct|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.cases|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.intros(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree_graph.intros(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree_def|axiom"><span class="entity_def" id="Binary_Trees.BinTree_rel_def|axiom"><span class="entity_def" id="Binary_Trees.BinTree_sumC_def|axiom"><span class="entity_def" id="Binary_Trees.BinTree_graph_def|axiom"><span class="entity_def" id="Binary_Trees.BinTree_dom|const"><span class="entity_def" id="Binary_Trees.BinTree_rel|const"><span class="entity_def" id="Binary_Trees.BinTree_sumC|const"><span class="entity_def" id="Binary_Trees.BinTree_graph|const"><span>φtype_def</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.BinTree.Functional_Transformation_Functor|fact"><span class="entity_def" id="Binary_Trees.BinTree.Transformation_Functor|fact"><span class="entity_def" id="Binary_Trees.BinTree.Object_Equiv|fact"><span class="entity_def" id="Binary_Trees.BinTree.Identity_Element\&lt;^sub&gt;E|fact"><span class="entity_def" id="Binary_Trees.BinTree.Identity_Element\&lt;^sub&gt;I|fact"><span class="entity_def" id="Binary_Trees.BinTree.Abstract_Domain|fact"><span class="entity_def" id="Binary_Trees.BinTree.elim_map|fact"><span class="entity_def" id="Binary_Trees.BinTree.intro_map|fact"><span class="entity_def" id="Binary_Trees.BinTree.elim_reasoning|fact"><span class="entity_def" id="Binary_Trees.BinTree.elim|fact"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning\&lt;^sub&gt;R|fact"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning|fact"><span class="entity_def" id="Binary_Trees.BinTree.intro|fact"><span class="entity_def" id="Binary_Trees.BinTree.expansion|fact"><span class="entity_def" id="Binary_Trees.BinTree.unfold|fact"><span class="entity_def" id="Binary_Trees.BinTree.Functional_Transformation_Functor|thm"><span class="entity_def" id="Binary_Trees.BinTree.Transformation_Functor|thm"><span class="entity_def" id="Binary_Trees.BinTree.Object_Equiv|thm"><span class="entity_def" id="Binary_Trees.BinTree.Identity_Element\&lt;^sub&gt;E|thm"><span class="entity_def" id="Binary_Trees.BinTree.Identity_Element\&lt;^sub&gt;I|thm"><span class="entity_def" id="Binary_Trees.BinTree.Abstract_Domain|thm"><span class="entity_def" id="Binary_Trees.BinTree.elim_reasoning(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.elim_reasoning(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.elim(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.elim(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning\&lt;^sub&gt;R(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning\&lt;^sub&gt;R(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning(4)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning(3)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro_reasoning(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.intro(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.expansion(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.expansion(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree.unfold(2)|thm"><span class="entity_def" id="Binary_Trees.BinTree.unfold(1)|thm"><span class="entity_def" id="Binary_Trees.BinTree|const"><span>BinTree</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhSm_Addr.html#PhSm_Addr.address|type"><span>address</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree|type"><span>tree</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>Leaf</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>BinTree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span>     </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>BinTree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
                </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>BinTree</span></span><span> </span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
                 </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>BinTree</span></span><span> </span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
                 </span><span class="main"><span>(</span></span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>𝗆𝖾𝗆[</span></a></span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span class="main"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>]</span></a></span><span> </span><span class="main"><span>⦃</span></span><span> left</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span class="main"><span>,</span></span><span> data</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>,</span></span><span> right</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span> </span><span class="main"><span>⦄</span></span><span> 
                </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="bound"><span>addr<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span> </span><span class="main"><span>{</span></span><span>left</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>,</span></span><span> data</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>,</span></span><span> right</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                 </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><span>)</span></span><span>›</span></span></span><span>

   </span><span class="keyword2"><span class="keyword"><span>deriving</span></span></span><span> </span><span>Basic</span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>
                                      </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.pred_tree|const"><span>pred_tree</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>Leaf</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;E|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>E</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>Leaf</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>  
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;I|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>I</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>Leaf</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>addr</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>U</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Transformation_Functor|const"><span>Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.set_tree|const"><span>set_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span>›</span></span></span><span>
           </span><span class="main"><span>(</span></span><span>arbitrary</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="free"><span>addr'</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>addr</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>U</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Functional_Transformation_Functor|const"><span>Functional_Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span>
                </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.set_tree|const"><span>Tree.tree.set_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.pred_tree|const"><span>Tree.tree.pred_tree</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>Tree.tree.map_tree</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>Pointer_Of</span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="operator"><span>ML_print_depth</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 100</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.Bin_Search_Tree_def|fact"><span class="entity_def" id="Binary_Trees.Bin_Search_Tree_def|thm"><span class="entity_def" id="Binary_Trees.Bin_Search_Tree_def_raw|axiom"><span>φtype_def</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhSm_Addr.html#PhSm_Addr.address|type"><span>address</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>Bin_Search_Tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>K</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>V</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>K</span></span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>V</span></span></span></span><span> </span><span class="main"><span>⦄</span></span><span>
                                         </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>tree</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span> ›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>deriving</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain\&lt;^sub&gt;L|const"><span>Abstract_Domain<span class="hidden">⇩</span><sub>L</sub></span></a><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>K</sub></span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>V</sub></span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>
                             </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>K</sub></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>V</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
            </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Preliminary.html#Phi_Preliminary.subgoal&apos;|method"><span class="operator"><span>subgoal'</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> tree x y </span><span class="quoted"><span>‹</span><span>induct tree arbitrary: x</span><span>›</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;E|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>E</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>
                                </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;I|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>I</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>
                                </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>eq</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eq</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> ›</span></span></span><span>  
            </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
                     </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> exI</span><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> x</span><span class="main"><span>=</span></span><span class="quoted"><span>‹λ_ g x. map_tree (λ(k,_). (k, the (g k))) x›</span></span><span class="main"><span>]</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                     </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> intro</span><span class="main"><span>!</span></span><span class="main"><span>:</span></span><span> rel_tree_self_map simp</span><span class="main"><span>:</span></span><span> fun_eq_iff</span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>addr</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Transformation_Functor|const"><span>Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>addr</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Functional_Transformation_Functor|const"><span>Functional_Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span>
                                              </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>Pointer_Of</span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.AVL_invar.simps|fact"><span class="entity_def" id="Binary_Trees.AVL_invar_def|fact"><span class="entity_def" id="Binary_Trees.AVL_invar.simps(2)|thm"><span class="entity_def" id="Binary_Trees.AVL_invar.simps(1)|thm"><span class="entity_def" id="Binary_Trees.AVL_invar_def|thm"><span class="entity_def" id="Binary_Trees.AVL_invar_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.AVL_invar|const"><span>AVL_invar</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>AVL_invar</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>›</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>AVL_invar</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                                      </span><span class="free"><span>AVL_invar</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>AVL_invar</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>L</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.Object_Equiv_of_AVL_tree_invar|fact"><span class="entity_def" id="Binary_Trees.Object_Equiv_of_AVL_tree_invar|thm"><span>Object_Equiv_of_AVL_tree_invar</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>xa</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.map_tree|const"><span>Tree.tree.map_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>h</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>h</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xa</span></span><span class="main"><span>)</span></span><span>  ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>xa</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.rel_tree__AVL_tree_invar|fact"><span class="entity_def" id="Binary_Trees.rel_tree__AVL_tree_invar|thm"><span>rel_tree__AVL_tree_invar</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.rel_tree|const"><span>rel_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>y</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.rel_tree_Node1|fact"><span>rel_tree_Node1</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>
 


</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="operator"><span>ML_print_depth</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 100</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.\&lt;a&gt;\&lt;v&gt;\&lt;l&gt;_\&lt;p&gt;\&lt;a&gt;\&lt;i&gt;\&lt;r&gt;|const"><span>𝖺𝗏𝗅_𝗉𝖺𝗂𝗋</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.\&lt;k&gt;\&lt;v&gt;_\&lt;p&gt;\&lt;a&gt;\&lt;i&gt;\&lt;r&gt;|const"><span>𝗄𝗏_𝗉𝖺𝗂𝗋</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span> </span><span class="main"><span>{</span></span><span>height</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;a&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;|const"><span>𝖺𝗂𝗇𝗍</span></a><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.\&lt;a&gt;\&lt;v&gt;\&lt;l&gt;_\&lt;n&gt;\&lt;o&gt;\&lt;d&gt;\&lt;e&gt;|const"><span>𝖺𝗏𝗅_𝗇𝗈𝖽𝖾</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.\&lt;t&gt;\&lt;r&gt;\&lt;e&gt;\&lt;e&gt;_\&lt;n&gt;\&lt;o&gt;\&lt;d&gt;\&lt;e&gt;|const"><span>𝗍𝗋𝖾𝖾_𝗇𝗈𝖽𝖾</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.\&lt;a&gt;\&lt;v&gt;\&lt;l&gt;_\&lt;p&gt;\&lt;a&gt;\&lt;i&gt;\&lt;r&gt;|const"><span>𝖺𝗏𝗅_𝗉𝖺𝗂𝗋</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>K</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY<span class="hidden">⇩</span><sub>V</sub></span></span></span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Binary_Trees.AVL_Tree_def|fact"><span class="entity_def" id="Binary_Trees.AVL_Tree_def|thm"><span class="entity_def" id="Binary_Trees.AVL_Tree_def_raw|axiom"><span>φtype_def</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhSm_Addr.html#PhSm_Addr.address|type"><span>address</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>AVL_Tree</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>K</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>V</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>K</span></span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>V</span></span></span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span>
                             </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>tree</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span>
                                     </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="bound"><span>tree</span></span><span>
                                     </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>K</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>V</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> ›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>deriving</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain\&lt;^sub&gt;L|const"><span>Abstract_Domain<span class="hidden">⇩</span><sub>L</sub></span></a><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>K</sub></span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>V</sub></span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>
                         </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>K</sub></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P<span class="hidden">⇩</span><sub>V</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
            </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Preliminary.html#Phi_Preliminary.subgoal&apos;|method"><span class="operator"><span>subgoal'</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> tree x h y </span><span class="quoted"><span>‹</span><span>induct tree arbitrary: x</span><span>›</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;E|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>E</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>
                            </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Identity_Elements\&lt;^sub&gt;I|const"><span>Identity_Elements<span class="hidden">⇩</span><sub>I</sub></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span class="main"><span>)</span></span><span>
                           </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;s&gt;\&lt;o&gt;\&lt;n&gt;|const"><span>𝗉𝗈𝗂𝗌𝗈𝗇</span></a><span class="main"><span>)</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>eq</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eq</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> ›</span></span></span><span>  
            </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
                     </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> exI</span><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> x</span><span class="main"><span>=</span></span><span class="quoted"><span>‹λ_ g x. map_tree (λ(k,h,_). (k, h, the (g k))) x›</span></span><span class="main"><span>]</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                     </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> simp</span><span class="main"><span>:</span></span><span> fun_eq_iff intro</span><span class="main"><span>!</span></span><span class="main"><span>:</span></span><span> rel_tree_self_map</span><span class="main"><span>)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>addr</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>U</span></span><span>
         </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Transformation_Functor|const"><span>Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="free"><span>addr'</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> ›</span></span></span><span>
    </span><span class="comment1"><span>(* and ‹ Functional_Transformation_Functor (AVL_Tree addr K) (AVL_Tree addr K) T U ran (λ_. UNIV)
                                               (λ_ P f. ∀x ∈ dom f. P (the (f x))) (λf _ x. map_option f o x) › *)</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>Pointer_Of</span><span>


</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer_params|attribute"><span class="operator"><span>auto_sledgehammer_params</span></span></a><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span>"try0 = false"</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
  </span><span class="comment1"><span>― ‹For some reason I don't know, Sledgehammer fails silently (with throwing an Interrupt exception)
      when </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>try0›</span></span></span><span> --- reconstructing proofs using classical tactics --- is enabled.
      Anyway, it is an engineering problem due to some bug in our system or Sledgehammer, so we don't
      count this line into our statistics in the paper.›</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;trace_reasoning|attribute"><span class="operator"><span>φtrace_reasoning</span></span></a><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>                  </span><span class="comment1"><span>― ‹we provide a generic verification›</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>CMP</span></span><span> </span><span class="free"><span>Eq</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>zero<span class="hidden">⇩</span><sub>K</sub></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'k</span></span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>zero<span class="hidden">⇩</span><sub>V</sub></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'v</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13723..13726">cmp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>CMP</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span> ›</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13823..13825">eq</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>Eq</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>k<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span> ›</span></span></span><span>  
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Zero_Val|const"><span>Semantic_Zero_Val</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>zero<span class="hidden">⇩</span><sub>K</sub></span></span><span>›</span></span></span><span>  </span><span class="comment1"><span>― ‹specify the semantic zero value of K›</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Zero_Val|const"><span>Semantic_Zero_Val</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Type_Of_syntax|const"><span>𝗍𝗒𝗉𝖾𝗈𝖿</span></a></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="free"><span>zero<span class="hidden">⇩</span><sub>V</sub></span></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_bintree_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.lookup_bintree_def|fact"><span class="entity_def" id="Binary_Trees.lookup_bintree_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.lookup_bintree_def|thm"><span class="entity_def" id="Binary_Trees.lookup_bintree_def|axiom"><span class="entity_def" id="Binary_Trees.lookup_bintree|const"><span class="entity_def" id="offset_14098..14112">lookup_bintree</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span>   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
            </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14369..14370">❴</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>L</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>node</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>tree_def</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>node</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
 
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><span>←</span></span><span> addr.data.k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13823..13825"><span>eq</span></a><span> </span><span class="main"><span>(</span></span><span>k'</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> addr.data.v </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><a class="entity_ref" href="Binary_Trees.html#offset_14369..14370"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13723..13726"><span>cmp</span></a><span> </span><span class="main"><span>(</span></span><span>k</span><span class="main"><span>,</span></span><span> k'</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_14369..14370"><span>lookup_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.left</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_14369..14370"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_14369..14370"><span>lookup_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.right</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_14369..14370"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Binary_Trees.lookup_bst_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.lookup_bst_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_14906..14916">lookup_bst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span>   </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree.unfold|fact"><span>Bin_Search_Tree.unfold</span></a><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="Binary_Trees.html#offset_14098..14112"><span>lookup_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.defined_bintree_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.defined_bintree_def|fact"><span class="entity_def" id="Binary_Trees.defined_bintree_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.defined_bintree_def|thm"><span class="entity_def" id="Binary_Trees.defined_bintree_def|axiom"><span class="entity_def" id="Binary_Trees.defined_bintree|const"><span class="entity_def" id="offset_15134..15149">defined_bintree</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span>   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
            </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15379..15380">❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>addr </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>L</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>node</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>tree_def</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>node</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><span>←</span></span><span> addr.data.k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13823..13825"><span>eq</span></a><span> </span><span class="main"><span>(</span></span><span>k'</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.True_\&lt;phi&gt;app|fact"><span>True</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13723..13726"><span>cmp</span></a><span> </span><span class="main"><span>(</span></span><span>k</span><span class="main"><span>,</span></span><span> k'</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>defined_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.left</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>defined_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.right</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        </span><a class="entity_ref" href="Binary_Trees.html#offset_15379..15380"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Binary_Trees.defined_bst_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.defined_bst_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_15993..16004">defined_bst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree.unfold|fact"><span>Bin_Search_Tree.unfold</span></a><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="Binary_Trees.html#offset_15134..15149"><span>defined_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_bintree_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.insert_bintree_def|fact"><span class="entity_def" id="Binary_Trees.insert_bintree_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.insert_bintree_def|thm"><span class="entity_def" id="Binary_Trees.insert_bintree_def|axiom"><span class="entity_def" id="Binary_Trees.insert_bintree|const"><span class="entity_def" id="offset_16196..16210">insert_bintree</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.insert_tree|const"><span>insert_tree</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16420..16421">❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>addr </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.calloc1_\&lt;phi&gt;app|fact"><span>calloc1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⦃</span></span><span> left</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span class="main"><span>,</span></span><span> data</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><span>,</span></span><span> right</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      ret.data.k </span><span class="main"><span>:=</span></span><span> k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      ret.data.v </span><span class="main"><span>:=</span></span><span> v </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addrb</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>L</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>node</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>tree_def</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>node</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><span>←</span></span><span> addr.data.k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13823..13825"><span>eq</span></a><span> </span><span class="main"><span>(</span></span><span>k'</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          addr.data.v </span><span class="main"><span>:=</span></span><span> v </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13723..13726"><span>cmp</span></a><span> </span><span class="main"><span>(</span></span><span>k</span><span class="main"><span>,</span></span><span> k'</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
              </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>insert_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.left</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub>'</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              addr.left </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>L</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
              </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>insert_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr.right</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub>'</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              addr.right </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>R</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
              </span><a class="entity_ref" href="Binary_Trees.html#offset_16420..16421"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_bst_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.insert_bst_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_17375..17385">insert_bst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree|const"><span>Bin_Search_Tree</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.Bin_Search_Tree.unfold|fact"><span>Bin_Search_Tree.unfold</span></a><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="Binary_Trees.html#offset_16196..16210"><span>insert_bintree</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.Max_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.Max_def|fact"><span class="entity_def" id="Binary_Trees.Max_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.Max_def|thm"><span class="entity_def" id="Binary_Trees.Max_def|axiom"><span class="entity_def" id="Binary_Trees.Max|const"><span class="entity_def" id="offset_17620..17623">Max</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.max|const"><span>max</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>x </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.&lt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>&lt;</span></span></span></a></span><span> y</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> y </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> x </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.height_of_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.height_of_def|fact"><span class="entity_def" id="Binary_Trees.height_of_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.height_of_def|thm"><span class="entity_def" id="Binary_Trees.height_of_def|axiom"><span class="entity_def" id="Binary_Trees.height_of|const"><span class="entity_def" id="offset_17722..17731">height_of</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>tree</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span>   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
            </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span> ›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17946..17947">❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>addr </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_17946..17947"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>L</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>node</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>tree_def</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>node</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      addr.data.v.height </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_17946..17947"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.maintain_i_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.maintain_i_def|fact"><span class="entity_def" id="Binary_Trees.maintain_i_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.maintain_i_def|thm"><span class="entity_def" id="Binary_Trees.maintain_i_def|axiom"><span class="entity_def" id="Binary_Trees.maintain_i|const"><span class="entity_def" id="offset_18223..18233">maintain_i</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
            </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
            </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> ›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span>   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="bound"><span>addr</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
            </span><span class="bound"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span>
            </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr</span></span><span> </span><span class="bound"><span>tree</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                           </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                          </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                          </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="bound"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>D</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19038..19039">❴</span></span></span><span>

  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.OPEN|const"><span>OPEN</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                                 </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>←</span></span><span> a<span class="hidden">⇩</span><sub>D</sub>.left </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>E</span></span><span> </span><span class="main"><span>←</span></span><span> a<span class="hidden">⇩</span><sub>D</sub>.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>B</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>E</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>B</sub> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.=_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>=</span></span></span></a></span><span> H<span class="hidden">⇩</span><sub>E</sub> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="numeral"><span>2</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>A</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k<span class="hidden">⇩</span><sub>B</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h<span class="hidden">⇩</span><sub>B</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v<span class="hidden">⇩</span><sub>B</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>B</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>A</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k<span class="hidden">⇩</span><sub>B</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>h<span class="hidden">⇩</span><sub>B</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v<span class="hidden">⇩</span><sub>B</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span> </span><span class="comment1"><span>(*this line and the*)</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>A</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                        </span><span class="comment1"><span>(*next line, for reasoning, one Ω*)</span></span><span>

      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>←</span></span><span> B.left </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>←</span></span><span> B.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>A</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>A</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>C</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>C</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>C</sub> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.\&lt;le&gt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>≤</span></span></span></a><span> H<span class="hidden">⇩</span><sub>A</sub></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>

          a<span class="hidden">⇩</span><sub>D</sub>.left </span><span class="main"><span>:=</span></span><span> C </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>D</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>C</sub></span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>E</sub></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          B.right </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>D</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          B.data.v.height </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>A</sub></span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>'</span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                 </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>A</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                                  </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
 
          </span><a class="entity_ref" href="Binary_Trees.html#offset_19038..19039"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>B</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(*Tac-1n-2m*)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C<span class="hidden">⇩</span><sub>L</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k<span class="hidden">⇩</span><sub>C</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h<span class="hidden">⇩</span><sub>C</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v<span class="hidden">⇩</span><sub>C</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C<span class="hidden">⇩</span><sub>R</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>C</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>C<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k<span class="hidden">⇩</span><sub>C</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>h<span class="hidden">⇩</span><sub>C</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v<span class="hidden">⇩</span><sub>C</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>C<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>  </span><span class="comment1"><span>(*this line and the next*)</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub><span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub><span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                           </span><span class="comment1"><span>(*line, for reasoning, one Ω*)</span></span><span>

          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>C<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>←</span></span><span> C.left </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>C<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="main"><span>←</span></span><span> C.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          B.right </span><span class="main"><span>:=</span></span><span> C<span class="hidden">⇩</span><sub>L</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>B</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>A</sub></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span class="main"><span>(</span></span><span>C<span class="hidden">⇩</span><sub>L</sub></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          B.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>B</sub>'</span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.left </span><span class="main"><span>:=</span></span><span> C.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>D</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>E</sub></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span class="main"><span>(</span></span><span>C<span class="hidden">⇩</span><sub>R</sub></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          C.left </span><span class="main"><span>:=</span></span><span> B </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          C.right </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>D</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          C.data.v.height </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>B</sub>'</span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>'</span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub><span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>         </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub><span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>A</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>         </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
          𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>C</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                           </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>

          </span><span class="keyword2"><span class="keyword"><span>holds_fact</span></span></span><span> </span><span>t1</span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.useful|attribute"><span class="operator"><span>useful</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k<span class="hidden">⇩</span><sub>D</sub></span></span><span>›</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                    </span><span class="comment1"><span>(*for proof, Tac-s*)</span></span><span>

          </span><a class="entity_ref" href="Binary_Trees.html#offset_19038..19039"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>C</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>  </span><span class="comment1"><span>(*Tac-1n-3m*)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>E</sub> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.=_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>=</span></span></span></a></span><span> H<span class="hidden">⇩</span><sub>B</sub> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="numeral"><span>2</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>

      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>F</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k<span class="hidden">⇩</span><sub>E</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h<span class="hidden">⇩</span><sub>E</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v<span class="hidden">⇩</span><sub>E</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>G</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>E</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>E</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>F</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k<span class="hidden">⇩</span><sub>E</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>h<span class="hidden">⇩</span><sub>E</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v<span class="hidden">⇩</span><sub>E</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>G</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span> </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>G</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>F</span></span><span> </span><span class="main"><span>←</span></span><span> E.left </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>G</span></span><span> </span><span class="main"><span>←</span></span><span> E.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>F</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>F</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>G</sub></span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>G</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>F</sub> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.\&lt;le&gt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>≤</span></span></span></a><span> H<span class="hidden">⇩</span><sub>G</sub></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>

          a<span class="hidden">⇩</span><sub>D</sub>.right </span><span class="main"><span>:=</span></span><span> F </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>D</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>B</sub></span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>F</sub></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          E.left </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>D</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          E.data.v.height </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>D</sub>'</span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>G</sub></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                 </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>
          𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>                                  </span><span class="comment1"><span>(*for reasoning, Ω*)</span></span><span>

          </span><a class="entity_ref" href="Binary_Trees.html#offset_19038..19039"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>E</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>  </span><span class="comment1"><span>(*Tac-1n-3m*)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>F<span class="hidden">⇩</span><sub>L</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k<span class="hidden">⇩</span><sub>F</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h<span class="hidden">⇩</span><sub>F</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v<span class="hidden">⇩</span><sub>F</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>F<span class="hidden">⇩</span><sub>R</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>F</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>F<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k<span class="hidden">⇩</span><sub>F</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>h<span class="hidden">⇩</span><sub>F</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v<span class="hidden">⇩</span><sub>F</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>F<span class="hidden">⇩</span><sub>R</sub></span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub><span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub><span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>F<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>←</span></span><span> F.left </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>F<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="main"><span>←</span></span><span> F.right </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.right </span><span class="main"><span>:=</span></span><span> F<span class="hidden">⇩</span><sub>L</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>D</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>B</sub></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span class="main"><span>(</span></span><span>F<span class="hidden">⇩</span><sub>L</sub></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          a<span class="hidden">⇩</span><sub>D</sub>.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>D</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          E.left </span><span class="main"><span>:=</span></span><span> F<span class="hidden">⇩</span><sub>R</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>H<span class="hidden">⇩</span><sub>E</sub>'</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span class="main"><span>(</span></span><span>F<span class="hidden">⇩</span><sub>R</sub></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>G</sub></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          E.data.v.height </span><span class="main"><span>:=</span></span><span> H<span class="hidden">⇩</span><sub>E</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          F.left </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>D</sub> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          F.right </span><span class="main"><span>:=</span></span><span> E </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          F.data.v.height </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span class="main"><span>(</span></span><span>H<span class="hidden">⇩</span><sub>D</sub>'</span><span class="main"><span>,</span></span><span> H<span class="hidden">⇩</span><sub>E</sub>'</span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>G</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub><span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>E</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub><span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
          𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>F</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

          </span><a class="entity_ref" href="Binary_Trees.html#offset_19038..19039"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>F</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                                   </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split|fact"><span>option.split</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>1</span><span class="main"><span class="keyword3"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                                   </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>                          </span><span class="comment1"><span>(*Tac-4n-3m*)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      a<span class="hidden">⇩</span><sub>D</sub>.data.v.height </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17620..17623"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>a<span class="hidden">⇩</span><sub>D</sub>.left</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of</span></a><span> </span><span class="main"><span>(</span></span><span>a<span class="hidden">⇩</span><sub>D</sub>.right</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span>  </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>B</sub></span></span><span> </span><span class="main"><span>_</span></span><span> ›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="free"><span>a<span class="hidden">⇩</span><sub>D</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_19038..19039"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>a<span class="hidden">⇩</span><sub>D</sub></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Binary_Trees.Avl_Node|const"><span class="entity_def" id="offset_23522..23530">Avl_Node</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⦃</span></span><span>
                            left</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span class="main"><span>,</span></span><span>
                            data</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><span>,</span></span><span>
                            right</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span>
                          </span><span class="main"><span>⦄</span></span><span> ›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_avl_i_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.insert_avl_i_def|fact"><span class="entity_def" id="Binary_Trees.insert_avl_i_\&lt;phi&gt;app|thm"><span class="entity_def" id="Binary_Trees.insert_avl_i_def|thm"><span class="entity_def" id="Binary_Trees.insert_avl_i_def|axiom"><span class="entity_def" id="Binary_Trees.insert_avl_i|const"><span class="entity_def" id="offset_23717..23729">insert_avl_i</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="free"><span>tree</span></span><span> ›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span>
          </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="bound"><span>tree'</span></span><span class="main"><span>.</span></span><span>
          </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.lookup_tree|const"><span>lookup_tree</span></a><span> </span><span class="free"><span>tree</span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.sorted_lookup_tree|const"><span>sorted_lookup_tree</span></a><span> </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_invar|const"><span>AVL_invar</span></a><span> </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="bound"><span>tree'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Tree.html#Tree.height_class.height|const"><span>height</span></a><span> </span><span class="free"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24263..24264">❴</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>addr </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.calloc1_\&lt;phi&gt;app|fact"><span>calloc1</span></a><span> </span><span class="quoted"><a class="entity_ref" href="Binary_Trees.html#offset_23522..23530"><span>Avl_Node</span></a></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      ret.data.k </span><span class="main"><span>:=</span></span><span> k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      ret.data.v.v </span><span class="main"><span>:=</span></span><span> v </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      ret.data.v.height </span><span class="main"><span>:=</span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Leaf|const"><span>⟨⟩</span></a></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addrb</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>⦃</span></span><span> height</span><span class="main"><span>:</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>⦄</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>L</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>h'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>tree_def</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>tree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟨</span></a></span><span class="skolem"><span>L</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>h'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>,</span></a></span><span> </span><span class="skolem"><span>R</span></span><span class="main"><a class="entity_ref" href="HOL-Library.Tree.html#Tree.tree.Node|const"><span>⟩</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗈𝗉𝖾𝗇(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

      </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><span>←</span></span><span> addr.data.k </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13823..13825"><span>eq</span></a><span> </span><span class="main"><span>(</span></span><span>k'</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
        addr.data.v.v </span><span class="main"><span>:=</span></span><span> v </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
        </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_13723..13726"><span>cmp</span></a><span> </span><span class="main"><span>(</span></span><span>k</span><span class="main"><span>,</span></span><span> k'</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
            </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>insert_avl_i</span></a><span> </span><span class="main"><span>(</span></span><span>addr.left</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub>'</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
            addr.left </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>L</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
            𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
            </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_18223..18233"><span>maintain_i</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
            </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>insert_avl_i</span></a><span> </span><span class="main"><span>(</span></span><span>addr.right</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>R</sub>'</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
            addr.right </span><span class="main"><span>:=</span></span><span> a<span class="hidden">⇩</span><sub>R</sub>' </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
            </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>a<span class="hidden">⇩</span><sub>L</sub></span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> 𝗆𝖺𝗄𝖾𝗌</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.BinTree|const"><span>BinTree</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

            </span><a class="entity_ref" href="Binary_Trees.html#offset_24263..24264"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Binary_Trees.html#offset_18223..18233"><span>maintain_i</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Binary_Trees.insert_avl_\&lt;phi&gt;app|fact"><span class="entity_def" id="Binary_Trees.insert_avl_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_25250..25260">insert_avl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗋𝖾𝖿</span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a></a><span> </span><span class="free"><span class="free"><span>addr</span></span></span><span> </span><span class="free"><span class="free"><span>K</span></span></span><span> </span><span class="free"><span class="free"><span>V</span></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>K</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>V</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree|const"><span>AVL_Tree</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="free"><span>K</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>Ptr</span></a><span>
          </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#Binary_Trees.AVL_Tree.unfold|fact"><span>AVL_Tree.unfold</span></a><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="Binary_Trees.html#offset_23717..23729"><span>insert_avl_i</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The Conclusions of above Certification is the following Specification Theorems›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_14098..14112"><span>lookup_bintree_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_14906..14916"><span>lookup_bst_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_15134..15149"><span>defined_bintree_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_15993..16004"><span>defined_bst_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_16196..16210"><span>insert_bintree_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17375..17385"><span>insert_bst_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_16196..16210"><span>insert_bintree_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_18223..18233"><span>maintain_i_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_23717..23729"><span>insert_avl_i_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_25250..25260"><span>insert_avl_φapp</span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Semantic Representations of the Programs: ›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_14098..14112"><span>lookup_bintree_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_15134..15149"><span>defined_bintree_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_16196..16210"><span>insert_bintree_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_16196..16210"><span>insert_bintree_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_17722..17731"><span>height_of_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_18223..18233"><span>maintain_i_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Binary_Trees.html#offset_23717..23729"><span>insert_avl_i_def</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>