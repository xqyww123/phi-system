<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory PhiStd_Loop</title>
</head>


<body>
<div class="head">
<h1>Theory PhiStd_Loop</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="PhiStd_Loop.html"><span>PhiStd_Loop</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../Phi_Semantics/PhiSem_CF_Basic.html"><span>Phi_Semantics.PhiSem_CF_Basic</span></a><span>
          </span><a href="../Phi_Semantics/PhiSem_Machine_Integer.html"><span>Phi_Semantics.PhiSem_Machine_Integer</span></a><span>
          </span><a href="../Phi_Semantics/PhiSem_Variable.html"><span>Phi_Semantics.PhiSem_Variable</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Predefined abstractions of Loop statemetns, counted as a part of loop invariants in our statistics›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiStd_Loop.iterate_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiStd_Loop.iterate_\&lt;phi&gt;app|thm"><span>iterate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>𝗉𝖺𝗋𝖺𝗆</span></a></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_315..317">TR</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>X<span class="hidden">⇩</span><sub>0</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.SimpleTransformation|const"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.REMAINS|const"><span>𝗋𝖾𝗆𝖺𝗂𝗇𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_361..365">ITER</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>ITER</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X<span class="hidden">⇩</span><sub>0</sub></span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>t</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span> </span><span class="keyword1"><span>LENGTH</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>X</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="PhiStd_Loop.html#offset_315..317"><span>TR</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>$</span></span><span>s </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.while_\&lt;phi&gt;app|fact"><span>while</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>i</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Invariant|const"><span>Inv:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Guard|const"><span>Guard:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>$</span></span><span>i </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.&lt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>&lt;</span></span></span></a></span><span> </span><span class="main"><span>$</span></span><span>t </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><a class="entity_ref" href="PhiStd_Loop.html#offset_361..365"><span>ITER</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>i</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
    </span><span class="main"><span>$</span></span><span>i </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>$</span></span><span>i </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>holds_fact</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiStd_Loop.map_list_loop_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiStd_Loop.map_list_loop_\&lt;phi&gt;app|thm"><span>map_list_loop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>𝗉𝖺𝗋𝖺𝗆</span></a></span><span> </span><span class="free"><span>U</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>D</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_890..893">map</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>D</span></span><span> </span><span class="bound"><span>l</span></span><span>
                   </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗆𝖺𝗉</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span>⊗<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>:</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;|const"><span>✼</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>↦</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;|const"><span>✼</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>i</span></span><span>
                       </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗈𝗏𝖾𝗋</span></a></span><span> </span><span class="free"><span>ff</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>:</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>↦</span></a></span><span> </span><span class="free"><span>T</span></span><span>
                       </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗐𝗂𝗍𝗁</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗀𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗌𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>l</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>𝗌𝗂𝗆𝗉𝗅𝗂𝖿𝗒[</span></a></span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>𝗌𝖺𝖿𝖾</span></a></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Aug.html#Phi_Aug.list_upd_map|const"><span>list_upd_map</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>ff</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹TODO: error print›</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1180..1184">body</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simp_Premise|const"><span>𝖼𝗈𝗇𝖽𝗂𝗍𝗂𝗈𝗇</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>len</span></span><span>
                     </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>Body</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span>
                                  </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span>P1</span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>len</span></span><span>›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/List-Index.List_Index.html#List_Index.map_index|const"><span>map_index</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_eq_iff_nth_eq|fact"><span>list_eq_iff_nth_eq</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.while_\&lt;phi&gt;app|fact"><span>while</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>i</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span>
           </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Invariant|const"><span>Inv:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                 </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/List-Index.List_Index.html#List_Index.map_index|const"><span>map_index</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
           </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Guard|const"><span>Guard:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>$</span></span><span>i </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.&lt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>&lt;</span></span></span></a></span><span> </span><span class="main"><span>$</span></span><span>len </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_onward|fact"><span>ToA_Mapper_onward</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_890..893"><span>map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;_def|fact"><span>φProd'_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="PhiStd_Loop.html#offset_1180..1184"><span>body</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>i</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_backward|fact"><span>ToA_Mapper_backward</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_890..893"><span>map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;_def|fact"><span>φProd'_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
              </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.is_\&lt;phi&gt;app|fact"><span>is</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Aug.html#Phi_Aug.list_upd_map|const"><span>list_upd_map</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l'</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_f_expn|fact"><span>ToA_Mapper_f_expn</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_890..893"><span>map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      </span><span class="main"><span>$</span></span><span>i </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>$</span></span><span>i </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.+_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>+</span></span></span></a></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiStd_Loop.map_2list_loop_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiStd_Loop.map_2list_loop_\&lt;phi&gt;app|thm"><span>map_2list_loop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.ParamTag|const"><span>𝗉𝖺𝗋𝖺𝗆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>b</sub></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="free"><span>D<span class="hidden">⇩</span><sub>a</sub></span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="free"><span>D<span class="hidden">⇩</span><sub>b</sub></span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2341..2346">map<span class="hidden">⇩</span><sub>b</sub></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>D<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>l</span></span><span>
                    </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>𝗀𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub>'</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>:</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>↦</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;|const"><span>✼</span></a></span><span> </span><span class="free"><span>R<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>l</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>𝗐𝗂𝗍𝗁</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Getter|const"><span>𝗌𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>𝗌𝗂𝗆𝗉𝗅𝗂𝖿𝗒[</span></a></span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>𝗌𝖺𝖿𝖾</span></a></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub>'</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹TODO: error print›</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>map<span class="hidden">⇩</span><sub>a</sub></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 9999</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span>
                       </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>D<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>l</span></span><span>
                   </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗆𝖺𝗉</span></a></span><span> </span><span class="free"><span>g<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod|const"><span>⊗<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>:</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;|const"><span>✼</span></a></span><span> </span><span class="free"><span>R<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>↦</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;|const"><span>✼</span></a></span><span> </span><span class="free"><span>R<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span>
                       </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗈𝗏𝖾𝗋</span></a></span><span> </span><span class="free"><span>ff</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>:</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>↦</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span>
                       </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗐𝗂𝗍𝗁</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗀𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗌𝖾𝗍𝗍𝖾𝗋</span></a></span><span> </span><span class="free"><span>s<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>l</span></span><span class="main"><span>}</span></span><span> ›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>P2</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/tools/simpset.ML.html#PLPR.\&lt;phi&gt;safe_simp|attribute"><span class="operator"><span>φsafe_simp</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>𝗌𝗂𝗆𝗉𝗅𝗂𝖿𝗒[</span></a></span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.MODE_SAFE|const"><span>𝗌𝖺𝖿𝖾</span></a></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_Aug.html#Phi_Aug.list_upd_map|const"><span>list_upd_map</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>ff</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹TODO: error print, defualt premise attribute!›</span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3007..3011">body</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Logic_Programming_Reasoner.PLPR.html#PLPR.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>len</span></span><span>
                    </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>Body</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>a</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span>
                                  </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>g<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>a</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span>P1</span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>l'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>l'</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>len</span></span><span>›</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>len</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>b</sub></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/List-Index.List_Index.html#List_Index.map_index|const"><span>map_index</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>h<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.zip|const"><span>zip</span></a><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>a</sub></span></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T<span class="hidden">⇩</span><sub>b</sub></span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>T<span class="hidden">⇩</span><sub>a</sub></span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#PhiStd_Loop.map_list_loop_\&lt;phi&gt;app|fact"><span>map_list_loop</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>len</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="free"><span>U<span class="hidden">⇩</span><sub>a</sub></span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_onward|fact"><span>ToA_Mapper_onward</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_2341..2346"><span>map<span class="hidden">⇩</span><sub>b</sub></span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;_def|fact"><span>φProd'_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><a class="entity_ref" href="PhiStd_Loop.html#offset_3007..3011"><span>body</span></a><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>i</span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_backward|fact"><span>ToA_Mapper_backward</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_2341..2346"><span>map<span class="hidden">⇩</span><sub>b</sub></span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;_def|fact"><span>φProd'_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.is_\&lt;phi&gt;app|fact"><span>is</span></a></span></span><span> </span><span class="quoted"><span class="free"><span>l<span class="hidden">⇩</span><sub>b</sub></span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_Mapper_f_expn|fact"><span>ToA_Mapper_f_expn</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiStd_Loop.html#offset_2341..2346"><span>map<span class="hidden">⇩</span><sub>b</sub></span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics_Framework/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> i1</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Prod&apos;_def|fact"><span>φProd'_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_eq_iff_nth_eq|fact"><span>list_eq_iff_nth_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span>  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>