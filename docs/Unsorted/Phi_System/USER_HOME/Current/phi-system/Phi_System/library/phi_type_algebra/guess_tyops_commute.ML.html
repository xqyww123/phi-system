<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹library/phi_type_algebra/guess_tyops_commute.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹library/phi_type_algebra/guess_tyops_commute.ML›</h1>
</div>

<pre class="source"><span class="keyword1"><span class="keyword"><span>signature</span></span></span><span> </span><span class="entity"><span>PHI_TYPE_ALGEBRA_DERIVERS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>sig</span></span></span><span>
</span><span class="keyword1"><span class="keyword"><span>include</span></span></span><span> </span><span class="entity"><span>PHI_TYPE_ALGEBRA_DERIVERS</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> gen_Guess_Tyops_Commute </span><span class="main"><span>:</span></span><span> </span><span>term</span><span> * </span><span>int</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>guess_property</span></span><span> </span><span class="comment1"><span>(*intro*)</span></span><span> * </span><span class="entity"><span>guess_property</span></span><span> </span><span class="comment1"><span>(*elim*)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Phi_Type_Derivers</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>PHI_TYPE_ALGEBRA_DERIVERS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>struct</span></span></span><span>
</span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Phi_Type</span><span> </span><span>Phi_Type_Derivers</span><span>

</span><span class="comment1"><span>(*F is fixed myself, G is the target
  Given ‹F›, generate derivers deriving ‹Tyops_Commute F F' G G' T D r›
  and ‹Tyops_Commute G G' F F' T D r› for given G
*)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_framework</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>template_of_reasoning_goal</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>parsing_rule</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>F_arity</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>G_arity</span></span><span class="main"><span>)</span></span><span>
                                      </span><span class="entity"><span>F_term</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="entity"><span>Guess_Framework'</span></span><span>
    </span><span class="main"><span>(</span></span><span> </span><span class="entity"><span>template_of_reasoning_goal</span></span><span class="main"><span>,</span></span><span>
      </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>phi</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>idx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>maxidx_of_phi</span></span><span> </span><span class="entity"><span>phi</span></span><span> </span><span class="inner_numeral"><span>~1</span></span><span> </span><span>+</span><span> </span><span class="inner_numeral"><span>1</span></span><span>
            </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>F_term'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Logic.incr_indexes</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>idx</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>F_term</span></span><span>
            </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>U_ty</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x_ty</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>c_ty</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>dest_parameterized_phi_ty</span></span><span> </span><span class="main"><span>(</span></span><span>Term.fastype_of</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>term </span><span class="entity"><span>phi</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
                                       </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>U_ty</span></span><span> </span><span>::</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x_ty</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>c_ty</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>U_ty</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x_ty</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>c_ty</span></span><span class="main"><span>)</span></span><span>
                                        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span class="entity"><span>Automation_Fail</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Pretty</span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
                                                  </span><span class="main"><span>[</span></span><span>block</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span>Syntax.pretty_term</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>#</span></span><span>term </span><span class="entity"><span>phi</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>brk</span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>]</span></span><span> </span><span>@</span><span>
                                                          </span><span>text</span><span> </span><span class="inner_quoted"><span>"is not a type operator"</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>
                                               </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>GU_term</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>fix_phi_term_params</span></span><span> </span><span class="entity"><span>phi</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
            </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>fail</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>guess_fail</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>phi</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Pretty</span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
                            </span><span class="main"><span>[</span></span><span>block</span><span> </span><span class="main"><span>(</span></span><span>text</span><span> </span><span class="inner_quoted"><span>"Fail to parse the given φ-type"</span></span><span> </span><span>@</span><span>
                                    </span><span class="main"><span>[</span></span><span>brk</span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>,</span></span><span> </span><span>Syntax.pretty_term</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>GU_term</span></span><span class="main"><span>,</span></span><span> </span><span>brk</span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>]</span></span><span> </span><span>@</span><span>
                                    </span><span>text</span><span> </span><span class="inner_quoted"><span>"as a type operator."</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>
                          </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>G_term</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>GU_term</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="entity"><span>G_term</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>G_term</span></span><span>
                                       </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>fail</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"F"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>F_term'</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"G"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>G_term</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>phi</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>,</span></span><span>
      </span><span class="entity"><span>parsing_rule</span></span><span>
    </span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_I_1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_framework</span></span><span>
      </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute|const"><span>Guess_Tyops_Commute</span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span>
                                        </span><span class="var"><span>?unfolded_G</span></span><span> </span><span class="var"><span>?unfolded_G'</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>
                                        </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute|const"><span>Guess_Tyops_Commute</span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?unfolded_G</span></span><span> </span><span class="var"><span>?unfolded_G'</span></span><span> </span><span class="var"><span>?uF</span></span><span> </span><span class="var"><span>?uF'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Tyops_Commute|const"><span>Tyops_Commute</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?G'</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?ants</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_E_1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_framework</span></span><span>
      </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute|const"><span>Guess_Tyops_Commute</span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span>
                                        </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?unfolded_G</span></span><span> </span><span class="var"><span>?unfolded_G'</span></span><span>
                                        </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute|const"><span>Guess_Tyops_Commute</span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span> </span><span class="var"><span>?uF</span></span><span> </span><span class="var"><span>?uF'</span></span><span> </span><span class="var"><span>?unfolded_G</span></span><span> </span><span class="var"><span>?unfolded_G'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Tyops_Commute|const"><span>Tyops_Commute</span></a><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?G</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?ants</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_I_2_1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_framework</span></span><span>
      </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute\&lt;^sub&gt;1\&lt;^sub&gt;_\&lt;^sub&gt;2|const"><span>Guess_Tyops_Commute<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>2</sub></span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span>
                                          </span><span class="var"><span>?uG</span></span><span> </span><span class="var"><span>?uG'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?uG'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>U</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../../../../../../Phi_Semantics_Framework/Phi_BI.Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>U</span></span><span class="main"><span>)</span></span><span>
                                          </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute\&lt;^sub&gt;1\&lt;^sub&gt;_\&lt;^sub&gt;2|const"><span>Guess_Tyops_Commute<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>2</sub></span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?uG</span></span><span> </span><span class="var"><span>?uG'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?uG'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?uF</span></span><span> </span><span class="var"><span>?uF'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Tyops_Commute\&lt;^sub&gt;1\&lt;^sub&gt;_\&lt;^sub&gt;2|const"><span>Tyops_Commute<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>2</sub></span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?G</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?ants</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_E_2_1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_framework</span></span><span>
      </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern_prop</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute\&lt;^sub&gt;2\&lt;^sub&gt;_\&lt;^sub&gt;1|const"><span>Guess_Tyops_Commute<span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>1</sub></span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?uG</span></span><span> </span><span class="var"><span>?uG<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?uG<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?uF</span></span><span> </span><span class="var"><span>?uF'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">pattern</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Guess_Tyops_Commute\&lt;^sub&gt;2\&lt;^sub&gt;_\&lt;^sub&gt;1|const"><span>Guess_Tyops_Commute<span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>1</sub></span></a><span> </span><a class="entity_ref" href="../../../../../../../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?uG</span></span><span> </span><span class="var"><span>?uG<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?uG<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?uF</span></span><span> </span><span class="var"><span>?uF'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="var"><span>?ants</span></span><span> </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><a class="entity_ref" href="../../../../../../Phi_Type.html#Phi_Type.Tyops_Commute\&lt;^sub&gt;2\&lt;^sub&gt;_\&lt;^sub&gt;1|const"><span>Tyops_Commute<span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>_</sub><span class="hidden">⇩</span><sub>1</sub></span></a><span> </span><span class="var"><span>?G</span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>T</sub></span></span><span> </span><span class="var"><span>?G'<span class="hidden">⇩</span><sub>U</sub></span></span><span> </span><span class="var"><span>?F</span></span><span> </span><span class="var"><span>?F'</span></span><span> </span><span class="var"><span>?T</span></span><span> </span><span class="var"><span>?U</span></span><span> </span><span class="var"><span>?D</span></span><span> </span><span class="var"><span>?r</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?G</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?conds</span></span><span class="main"><span>,</span></span><span>
                </span><span class="var"><span>?ants</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span>
       </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>F_term</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>gen_Guess_Tyops_Commute_I_1</span></span><span> </span><span class="entity"><span>F_term</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_E_1</span></span><span> </span><span class="entity"><span>F_term</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>F_term</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>gen_Guess_Tyops_Commute_I_2_1</span></span><span> </span><span class="entity"><span>F_term</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute_E_2_1</span></span><span> </span><span class="entity"><span>F_term</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>gen_Guess_Tyops_Commute</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>error</span><span> </span><span class="inner_quoted"><span>"Unsupported arity"</span></span><span>
  

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>